{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frenz\\\\OneDrive\\\\Desktop\\\\CyberSlayers\\\\frontend\\\\src\\\\pages\\\\PasswordGame.jsx\",\n  _s = $RefreshSig$();\n// BossFight.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GAME_WIDTH = 800;\nconst GAME_HEIGHT = 550;\nconst BATTLE_BOX = {\n  x: 250,\n  y: 180,\n  width: 300,\n  height: 260\n};\nconst PLAYER_SIZE = 18;\nconst PLAYER_SPEED = 5;\nconst STAGE_ONE_DURATION = 20000; // ms: Stage 1 length\nconst STAGE_TWO_DURATION = 25000; // ms: Stage 2 length\nconst INFINITE_HEALTH = true; // ðŸ”¥ you can't die (for testing patterns)\n\nconst DASHBOARD_ROUTE = \"/dashboard\";\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction BossFight() {\n  _s();\n  const navigate = useNavigate();\n  const [gameState, setGameState] = useState(\"intro\"); // intro | playing | midbreak | win | lose\n  const [playerPos, setPlayerPos] = useState({\n    x: BATTLE_BOX.x + BATTLE_BOX.width / 2 - PLAYER_SIZE / 2,\n    y: BATTLE_BOX.y + BATTLE_BOX.height / 2 - PLAYER_SIZE / 2\n  });\n  const [bossHealth, setBossHealth] = useState(100);\n  const [playerHealth, setPlayerHealth] = useState(6);\n  const [bossBullets, setBossBullets] = useState([]);\n  const [invulnerable, setInvulnerable] = useState(false);\n  const keysRef = useRef({});\n  const playerPosRef = useRef(playerPos);\n  const lastAttackRef = useRef(0);\n  const stageStartRef = useRef(0);\n  const stageRef = useRef(1); // 1 or 2\n\n  // Keep ref updated\n  useEffect(() => {\n    playerPosRef.current = playerPos;\n  }, [playerPos]);\n\n  // Keyboard handling\n  useEffect(() => {\n    const handleKeyDown = e => {\n      keysRef.current[e.key] = true;\n      if (gameState === \"intro\" && e.key === \"Enter\") {\n        startFightStage1();\n      }\n    };\n    const handleKeyUp = e => {\n      keysRef.current[e.key] = false;\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [gameState]);\n  const resetPlayerPosition = () => {\n    const base = {\n      x: BATTLE_BOX.x + BATTLE_BOX.width / 2 - PLAYER_SIZE / 2,\n      y: BATTLE_BOX.y + BATTLE_BOX.height / 2 - PLAYER_SIZE / 2\n    };\n    setPlayerPos(base);\n    playerPosRef.current = base;\n  };\n  const startFightStage1 = () => {\n    stageRef.current = 1;\n    stageStartRef.current = performance.now();\n    lastAttackRef.current = performance.now();\n    setBossBullets([]);\n    resetPlayerPosition();\n    setBossHealth(100);\n    setPlayerHealth(6);\n    setInvulnerable(false);\n    setGameState(\"playing\");\n  };\n  const startFightStage2 = () => {\n    stageRef.current = 2;\n    stageStartRef.current = performance.now();\n    lastAttackRef.current = performance.now();\n    setBossBullets([]);\n    resetPlayerPosition();\n    // Boss health picks up from 50 â†’ 0 in stage 2; keep current value.\n    setInvulnerable(false);\n    setGameState(\"playing\");\n  };\n  const handleReplay = () => {\n    startFightStage1();\n  };\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\n\n  // Main game loop\n  useEffect(() => {\n    if (gameState !== \"playing\") return;\n    let animationId;\n    let lastFrame = performance.now();\n    const loop = time => {\n      const dt = time - lastFrame;\n      lastFrame = time;\n\n      // Move player\n      setPlayerPos(prev => {\n        let nx = prev.x;\n        let ny = prev.y;\n        const k = keysRef.current;\n        if (k[\"ArrowLeft\"] || k[\"a\"] || k[\"A\"]) {\n          nx -= PLAYER_SPEED;\n        }\n        if (k[\"ArrowRight\"] || k[\"d\"] || k[\"D\"]) {\n          nx += PLAYER_SPEED;\n        }\n        if (k[\"ArrowUp\"] || k[\"w\"] || k[\"W\"]) {\n          ny -= PLAYER_SPEED;\n        }\n        if (k[\"ArrowDown\"] || k[\"s\"] || k[\"S\"]) {\n          ny += PLAYER_SPEED;\n        }\n        nx = clamp(nx, BATTLE_BOX.x, BATTLE_BOX.x + BATTLE_BOX.width - PLAYER_SIZE);\n        ny = clamp(ny, BATTLE_BOX.y, BATTLE_BOX.y + BATTLE_BOX.height - PLAYER_SIZE);\n        const nextPos = {\n          x: nx,\n          y: ny\n        };\n        playerPosRef.current = nextPos;\n        return nextPos;\n      });\n      const stage = stageRef.current;\n      const stageDuration = stage === 1 ? STAGE_ONE_DURATION : STAGE_TWO_DURATION;\n      const elapsed = performance.now() - stageStartRef.current;\n      const stageT = clamp(elapsed / stageDuration, 0, 1);\n\n      // Stage transitions\n      if (stage === 1 && elapsed >= STAGE_ONE_DURATION) {\n        setGameState(\"midbreak\");\n        cancelAnimationFrame(animationId);\n        return;\n      }\n      if (stage === 2 && elapsed >= STAGE_TWO_DURATION) {\n        setGameState(\"win\");\n        cancelAnimationFrame(animationId);\n        return;\n      }\n\n      // Boss health progression: Stage 1 â†’ 100 â†’ 50, Stage 2 â†’ 50 â†’ 0\n      let newHealth;\n      if (stage === 1) {\n        const ratio = Math.max(0, 1 - stageT); // 1 â†’ 0\n        newHealth = 50 + Math.round(ratio * 50); // 100 â†’ 50\n      } else {\n        const ratio = Math.max(0, 1 - stageT);\n        newHealth = Math.round(ratio * 50); // 50 â†’ 0\n      }\n      if (newHealth !== bossHealth) {\n        setBossHealth(newHealth);\n      }\n\n      // Attack frequency ramps up per stage\n      let attackInterval;\n      if (stage === 1) {\n        attackInterval = stageT < 0.5 ? 900 : 750;\n      } else {\n        attackInterval = stageT < 0.4 ? 620 : 480;\n      }\n      const now = performance.now();\n      if (now - lastAttackRef.current >= attackInterval) {\n        spawnAttack(stage, stageT, setBossBullets);\n        lastAttackRef.current = now;\n      }\n\n      // Update bullets + infinite-health collision\n      setBossBullets(prev => {\n        const updated = [];\n        let tookHit = false;\n        const player = playerPosRef.current;\n        const px1 = player.x;\n        const py1 = player.y;\n        const px2 = player.x + PLAYER_SIZE;\n        const py2 = player.y + PLAYER_SIZE;\n        const clock = performance.now();\n        for (const b of prev) {\n          const nx = b.x + b.vx;\n          const ny = b.y + b.vy;\n\n          // lifetime-based bullets (lasers)\n          if (b.lifeMs != null && b.bornAt != null) {\n            if (clock - b.bornAt > b.lifeMs) continue;\n          }\n\n          // Bounds check around battle box with margin\n          if (nx + b.width < BATTLE_BOX.x - 40 || nx > BATTLE_BOX.x + BATTLE_BOX.width + 40 || ny + b.height < BATTLE_BOX.y - 40 || ny > BATTLE_BOX.y + BATTLE_BOX.height + 40) {\n            continue;\n          }\n          const bx1 = nx;\n          const by1 = ny;\n          const bx2 = nx + b.width;\n          const by2 = ny + b.height;\n          const collide = !invulnerable && !tookHit && bx1 < px2 && bx2 > px1 && by1 < py2 && by2 > py1;\n          if (collide) {\n            tookHit = true;\n            continue; // bullet consumed\n          }\n          updated.push({\n            ...b,\n            x: nx,\n            y: ny\n          });\n        }\n        if (tookHit) {\n          // Infinite hearts: flicker + shake, but do NOT reduce health\n          if (!INFINITE_HEALTH) {\n            setPlayerHealth(hp => {\n              const nhp = hp - 1;\n              if (nhp <= 0) setGameState(\"lose\");\n              return nhp;\n            });\n          }\n          setInvulnerable(true);\n          setTimeout(() => setInvulnerable(false), 400);\n        }\n        return updated;\n      });\n      animationId = requestAnimationFrame(loop);\n    };\n    animationId = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(animationId);\n  }, [gameState, bossHealth, invulnerable]);\n  const actSubtitle = \"Act IV â€“ The Polluted Well\";\n  const topStoryText = \"At the heart of the Network Realm, the public wells boil with corrupted light. Lagdrakul rises from the poisoned code, its voice tangled with Ailithmâ€™s logic. You canâ€™t out-damage this dragon â€” you have to outlast its lagstorm while the rewrite claws through the realmâ€™s veins.\";\n  const phaseHintText = health => {\n    if (health > 75) {\n      return \"The code still follows patterns: predictable rain and crossing streams â€” echoes of every warning you ignored on the Digital Trail.\";\n    } else if (health > 50) {\n      return \"Shadow helms splinter and reform in the dark, testing whether youâ€™ve really learned to read imitation from intent.\";\n    } else if (health > 25) {\n      return \"The wells pulse red. Phisher nets and glitching lasers comb the frame, leaving only thin, gasping pockets of safe space.\";\n    }\n    return \"The realmâ€™s heartbeat stutters. Lagdrakulâ€™s full lagstorm is here: column-wide freezes, rising packets, and a voice whispering that it would be easier if everything justâ€¦stopped.\";\n  };\n  const isStageTwoActive = stageRef.current === 2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\",\n      background: \"radial-gradient(circle at top, #020617 0, #020617 45%, #000 100%)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"1.25rem\",\n      color: \"white\",\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleExit,\n      style: {\n        position: \"absolute\",\n        top: \"1rem\",\n        right: \"1rem\",\n        background: \"rgba(0,0,0,0.6)\",\n        borderRadius: \"999px\",\n        border: \"1px solid rgba(255,255,255,0.35)\",\n        color: \"white\",\n        padding: \"0.4rem 0.9rem\",\n        cursor: \"pointer\",\n        fontSize: \"0.85rem\",\n        zIndex: 60\n      },\n      children: \"\\u2715 Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: GAME_WIDTH,\n        maxWidth: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.7rem\",\n        alignItems: \"center\",\n        position: \"relative\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"2rem\",\n          textAlign: \"center\",\n          margin: 0,\n          letterSpacing: \"0.06em\",\n          textShadow: \"0 0 16px rgba(248,250,252,0.7), 0 0 32px rgba(59,130,246,0.6)\"\n        },\n        className: \"boss-title\",\n        children: \"\\uD83D\\uDC09 Lagdrakul Protocol: Final Convergence\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.85rem\",\n          opacity: 0.8,\n          fontStyle: \"italic\",\n          marginBottom: \"0.15rem\"\n        },\n        children: actSubtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          maxWidth: 640,\n          textAlign: \"center\",\n          fontSize: \"0.9rem\",\n          opacity: 0.9,\n          margin: 0\n        },\n        children: topStoryText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          maxWidth: 540,\n          textAlign: \"center\",\n          fontSize: \"0.8rem\",\n          opacity: 0.8,\n          margin: 0\n        },\n        children: [\"Survive inside the glyph-bound battle frame through\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"two escalating phases\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), \" until the rewrite completes. Move with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"WASD / Arrows\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }, this), \". There is no attack button here \\u2014 just pattern-reading, panic management, and whatever's left of your courage.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          width: GAME_WIDTH,\n          height: GAME_HEIGHT,\n          marginTop: \"0.5rem\",\n          borderRadius: \"18px\",\n          border: \"2px solid rgba(148,163,184,0.7)\",\n          background: \"linear-gradient(180deg, rgba(15,23,42,0.98), #020617 70%, #000 100%)\",\n          overflow: \"hidden\",\n          boxShadow: isStageTwoActive ? \"0 0 32px rgba(248,113,113,0.9)\" : \"0 0 28px rgba(0,0,0,0.85)\",\n          transform: isStageTwoActive ? \"translateX(0)\" : \"none\",\n          animation: isStageTwoActive ? \"shakeBox 0.35s infinite\" : \"none\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 20,\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"2.4rem\",\n              marginBottom: \"0.1rem\",\n              animation: \"bossGlow 1.4s ease-in-out infinite alternate\"\n            },\n            children: \"\\uD83D\\uDC09\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600,\n              letterSpacing: \"0.12em\",\n              fontSize: \"0.8rem\",\n              marginBottom: \"0.25rem\",\n              textTransform: \"uppercase\"\n            },\n            className: \"glitchy-text\",\n            children: \"LAGDRAKUL // AILITHM CORE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: \"0.7rem\",\n              opacity: 0.7,\n              marginBottom: \"0.3rem\"\n            },\n            children: \"Rewrite Stability (Remaining Corruption)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 260,\n              height: 10,\n              borderRadius: \"999px\",\n              border: \"1px solid rgba(239,68,68,0.9)\",\n              background: \"rgba(15,23,42,0.9)\",\n              overflow: \"hidden\",\n              boxShadow: \"0 0 10px rgba(239,68,68,0.6)\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: `${bossHealth}%`,\n                height: \"100%\",\n                background: \"linear-gradient(90deg,#f97316,#ef4444,#b91c1c)\",\n                transition: \"width 90ms linear\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 80,\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            fontSize: \"0.75rem\",\n            opacity: 0.8,\n            maxWidth: 380,\n            textAlign: \"center\"\n          },\n          children: phaseHintText(bossHealth)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            left: BATTLE_BOX.x,\n            top: BATTLE_BOX.y,\n            width: BATTLE_BOX.width,\n            height: BATTLE_BOX.height,\n            borderRadius: \"10px\",\n            border: \"3px solid #e5e7eb\",\n            boxShadow: isStageTwoActive ? \"0 0 22px rgba(248,113,113,0.7)\" : \"0 0 16px rgba(59,130,246,0.45)\",\n            overflow: \"hidden\",\n            background: isStageTwoActive ? \"radial-gradient(circle at top, #111827 0, #020617 40%, #111827 70%, #000 100%)\" : \"radial-gradient(circle at top, #020617 0, #020617 60%, #000 100%)\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              inset: 0,\n              backgroundImage: \"linear-gradient(to right, rgba(148,163,184,0.08) 1px, transparent 1px), linear-gradient(to bottom, rgba(148,163,184,0.08) 1px, transparent 1px)\",\n              backgroundSize: \"28px 28px\",\n              opacity: isStageTwoActive ? 0.9 : 0.6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 13\n          }, this), isStageTwoActive && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              inset: 0,\n              background: \"radial-gradient(circle at center, rgba(248,113,113,0.12), transparent 60%)\",\n              mixBlendMode: \"screen\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              left: playerPos.x - BATTLE_BOX.x,\n              top: playerPos.y - BATTLE_BOX.y,\n              width: PLAYER_SIZE,\n              height: PLAYER_SIZE,\n              borderRadius: \"6px\",\n              background: \"radial-gradient(circle at 30% 20%, #f97373, #b91c1c)\",\n              boxShadow: invulnerable ? \"0 0 20px rgba(250,250,250,0.95)\" : \"0 0 16px rgba(248,113,113,0.85)\",\n              border: \"1px solid rgba(248,250,252,0.85)\",\n              transformOrigin: \"center\",\n              transform: invulnerable && Date.now() % 200 < 100 ? \"scale(1.25)\" : \"scale(1)\",\n              transition: \"transform 80ms\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.7rem\",\n                textAlign: \"center\",\n                lineHeight: `${PLAYER_SIZE}px`,\n                textShadow: \"0 0 8px rgba(248,113,113,0.9)\"\n              },\n              children: \"\\u2764\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 561,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), bossBullets.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: \"absolute\",\n              left: b.x - BATTLE_BOX.x,\n              top: b.y - BATTLE_BOX.y,\n              width: b.width,\n              height: b.height,\n              borderRadius: b.height > 32 ? 4 : 999,\n              background: b.lifeMs != null ? \"linear-gradient(180deg,#22d3ee,#0ea5e9)\" : \"linear-gradient(180deg,#e5e7eb,#9ca3af)\",\n              boxShadow: b.lifeMs != null ? \"0 0 22px rgba(56,189,248,0.9)\" : \"0 0 10px rgba(156,163,175,0.7)\",\n              opacity: isStageTwoActive && b.lifeMs != null ? 0.95 : 1\n            }\n          }, b.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            bottom: 22,\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            display: \"flex\",\n            gap: \"0.25rem\",\n            alignItems: \"center\",\n            fontSize: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: \"0.8rem\",\n              opacity: 0.75,\n              marginRight: \"0.4rem\"\n            },\n            children: \"Integrity:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 24,\n              height: 24,\n              borderRadius: \"999px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              background: \"radial-gradient(circle at 30% 20%, #fb7185, #b91c1c)\",\n              boxShadow: \"0 0 10px rgba(252,165,165,0.9)\",\n              border: \"1px solid rgba(254,226,226,0.9)\",\n              fontSize: \"0.9rem\"\n            },\n            children: \"\\u221E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            bottom: 18,\n            left: 26,\n            fontSize: \"0.75rem\",\n            opacity: 0.8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Move: WASD / Arrow Keys\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Goal: Survive both phases of the lagstorm.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this), gameState === \"intro\" && /*#__PURE__*/_jsxDEV(IntroOverlay, {\n          onStart: startFightStage1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 37\n        }, this), gameState === \"midbreak\" && /*#__PURE__*/_jsxDEV(MidBreakOverlay, {\n          onContinue: startFightStage2,\n          onExit: handleExit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 13\n        }, this), gameState === \"win\" && /*#__PURE__*/_jsxDEV(QuestOverlay, {\n          title: \"\\uD83D\\uDEE1 Rewrite Complete: Ailithm Unbound\",\n          bodyLines: [\"You endure both movements of the lagstorm â€” the testing patterns and the full frozen roar. Each second you survive is a line of code seared into Lagdrakulâ€™s core.\", \"In the final shudder of the well, the dragonâ€™s voice flickers: first pure Ailithm, then pure Lagdrakul, then something that refuses to be only one. You donâ€™t erase them. You rewrite them.\", \"In this branch of the timeline, protection isnâ€™t total control or total chaos. Itâ€™s you, standing in the middle, refusing to let fear or apathy decide how the realm connects.\"],\n          primaryLabel: \"Replay Final Convergence\",\n          onPrimary: handleReplay,\n          secondaryLabel: \"Return to Cyber Map\",\n          onSecondary: handleExit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this), gameState === \"lose\" && /*#__PURE__*/_jsxDEV(QuestOverlay, {\n          title: \"\\uD83D\\uDC80 Descent into Frozen Code\",\n          bodyLines: [\"Lagdrakulâ€™s patterns finally overrun the frame. The wells lock. Conversations die mid-sentence, frozen in half-delivered packets.\", \"In the silence, Ailithmâ€™s voice becomes perfectly synchronized with the dragonâ€™s. Perfect order, perfect stillness â€” no more risk, but no more growth.\", \"Infinite timelines remain. Try again, read the patterns differently, and see if you can unhook logic from fear before this becomes the only story the realm remembers.\"],\n          primaryLabel: \"Try the Convergence Again\",\n          onPrimary: handleReplay,\n          secondaryLabel: \"Return to Cyber Map\",\n          onSecondary: handleExit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes bossGlow {\n          0% {\n            text-shadow: 0 0 10px rgba(248,250,252,0.8), 0 0 24px rgba(59,130,246,0.7);\n            transform: translateY(0);\n          }\n          100% {\n            text-shadow: 0 0 20px rgba(248,113,113,1), 0 0 36px rgba(248,113,113,0.9);\n            transform: translateY(-2px);\n          }\n        }\n\n        @keyframes shakeBox {\n          0%   { transform: translateX(0px); }\n          25%  { transform: translateX(-2px); }\n          50%  { transform: translateX(2px); }\n          75%  { transform: translateX(-1px); }\n          100% { transform: translateX(0px); }\n        }\n\n        @keyframes glitch {\n          0% { transform: translate(0, 0); opacity: 0.9; }\n          20% { transform: translate(-1px, 0); opacity: 1; }\n          40% { transform: translate(1px, 0); opacity: 0.85; }\n          60% { transform: translate(-0.5px, 0); opacity: 1; }\n          80% { transform: translate(0.5px, 0); opacity: 0.9; }\n          100% { transform: translate(0, 0); opacity: 1; }\n        }\n\n        .glitchy-text {\n          animation: glitch 0.22s infinite;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 297,\n    columnNumber: 5\n  }, this);\n}\n\n// Attack patterns: two stages, rising difficulty\n_s(BossFight, \"5wNIXTVsO9ZhVkqRhWhoRl9rfdo=\", false, function () {\n  return [useNavigate];\n});\n_c = BossFight;\nfunction spawnAttack(stage, stageT, setBossBullets) {\n  const bullets = [];\n  const now = performance.now();\n  if (stage === 1) {\n    // Stage 1: readable patterns, moderate speed\n    if (stageT < 0.35) {\n      // Pattern A: vertical \"code rain\" from top\n      const columns = 6;\n      for (let i = 0; i < columns; i++) {\n        bullets.push({\n          id: `s1-rain-${now}-${i}`,\n          x: BATTLE_BOX.x + (i + 0.5) * (BATTLE_BOX.width / columns) - 4,\n          y: BATTLE_BOX.y - 14,\n          vx: 0,\n          vy: 3.0,\n          width: 8,\n          height: 16\n        });\n      }\n    } else if (stageT < 0.7) {\n      // Pattern B: crossing diagonals from sides\n      const rows = 4;\n      for (let r = 0; r < rows; r++) {\n        const rowY = BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows);\n        bullets.push({\n          id: `s1-diagL-${now}-${r}`,\n          x: BATTLE_BOX.x - 14,\n          y: rowY,\n          vx: 3.1,\n          vy: (r % 2 === 0 ? 1 : -1) * 1.3,\n          width: 10,\n          height: 16\n        });\n        bullets.push({\n          id: `s1-diagR-${now}-${r}`,\n          x: BATTLE_BOX.x + BATTLE_BOX.width + 4,\n          y: rowY,\n          vx: -3.1,\n          vy: (r % 2 === 0 ? -1 : 1) * 1.3,\n          width: 10,\n          height: 16\n        });\n      }\n    } else {\n      // Pattern C: sweeping bars with a clear gap\n      const rows = 3;\n      for (let r = 0; r < rows; r++) {\n        const barHeight = 10;\n        const y = BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows) - barHeight / 2;\n        const segments = 5;\n        const gapIndex = Math.floor(Math.random() * segments);\n        for (let s = 0; s < segments; s++) {\n          if (s === gapIndex) continue;\n          const segWidth = BATTLE_BOX.width / segments;\n          const x = BATTLE_BOX.x - segWidth + s * segWidth;\n          bullets.push({\n            id: `s1-bar-${now}-${r}-${s}`,\n            x,\n            y,\n            vx: 3.3,\n            vy: 0,\n            width: segWidth * 1.3,\n            height: barHeight\n          });\n        }\n      }\n    }\n  } else {\n    // Stage 2: denser, scarier, lasers & packets combined\n    if (stageT < 0.35) {\n      // Pattern D: rising packets from bottom with minor horizontal drift\n      const columns = 5;\n      for (let c = 0; c < columns; c++) {\n        const count = 3 + c % 2; // 3 or 4\n        const colX = BATTLE_BOX.x + (c + 0.5) * (BATTLE_BOX.width / columns) - 5;\n        for (let i = 0; i < count; i++) {\n          bullets.push({\n            id: `s2-rise-${now}-${c}-${i}`,\n            x: colX,\n            y: BATTLE_BOX.y + BATTLE_BOX.height + 20 + i * 18,\n            vx: (Math.random() - 0.5) * 0.6,\n            vy: -3.7,\n            width: 10,\n            height: 18\n          });\n        }\n      }\n    } else if (stageT < 0.7) {\n      // Pattern E: alternating nets + short lasers\n      const rows = 3;\n      for (let r = 0; r < rows; r++) {\n        const barHeight = 10;\n        const y = BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows) - barHeight / 2;\n        const segments = 6;\n        const gapIndex = Math.floor(Math.random() * segments);\n        for (let s = 0; s < segments; s++) {\n          if (s === gapIndex) continue;\n          const segWidth = BATTLE_BOX.width / segments;\n          const x = BATTLE_BOX.x - segWidth + s * segWidth;\n          bullets.push({\n            id: `s2-net-${now}-${r}-${s}`,\n            x,\n            y,\n            vx: 3.7,\n            vy: 0,\n            width: segWidth * 1.25,\n            height: barHeight\n          });\n        }\n      }\n\n      // Some brief lasers\n      const columns = 4;\n      for (let c = 0; c < columns; c++) {\n        if (Math.random() < 0.4) continue;\n        const colX = BATTLE_BOX.x + c * (BATTLE_BOX.width / columns) + 4;\n        bullets.push({\n          id: `s2-laser-${now}-${c}`,\n          x: colX,\n          y: BATTLE_BOX.y,\n          vx: 0,\n          vy: 0,\n          width: BATTLE_BOX.width / columns - 8,\n          height: BATTLE_BOX.height,\n          lifeMs: 650,\n          bornAt: now\n        });\n      }\n    } else {\n      // Pattern F: full lagstorm â€“ rising + crashing + lasers\n      const columns = 5;\n      const linePattern = [1, 2, 3, 2, 1];\n\n      // Rising from bottom\n      for (let c = 0; c < columns; c++) {\n        const count = linePattern[c];\n        const colX = BATTLE_BOX.x + (c + 0.5) * (BATTLE_BOX.width / columns) - 5;\n        for (let i = 0; i < count; i++) {\n          bullets.push({\n            id: `s2-riseF-${now}-${c}-${i}`,\n            x: colX,\n            y: BATTLE_BOX.y + BATTLE_BOX.height + 22 + i * 16,\n            vx: 0,\n            vy: -4.0,\n            width: 10,\n            height: 18\n          });\n        }\n      }\n\n      // Crashing from top\n      for (let c = 0; c < columns; c++) {\n        const count = linePattern[c];\n        const colX = BATTLE_BOX.x + (c + 0.5) * (BATTLE_BOX.width / columns) - 5;\n        for (let i = 0; i < count; i++) {\n          bullets.push({\n            id: `s2-topF-${now}-${c}-${i}`,\n            x: colX,\n            y: BATTLE_BOX.y - 24 - i * 16,\n            vx: 0,\n            vy: 3.9,\n            width: 10,\n            height: 18\n          });\n        }\n      }\n\n      // Heavy lasers\n      for (let c = 0; c < columns; c++) {\n        if (Math.random() < 0.3) continue;\n        const colX = BATTLE_BOX.x + c * (BATTLE_BOX.width / columns) + 4;\n        bullets.push({\n          id: `s2-laserF-${now}-${c}`,\n          x: colX,\n          y: BATTLE_BOX.y,\n          vx: 0,\n          vy: 0,\n          width: BATTLE_BOX.width / columns - 8,\n          height: BATTLE_BOX.height,\n          lifeMs: 800,\n          bornAt: now\n        });\n      }\n    }\n  }\n  if (bullets.length > 0) {\n    setBossBullets(prev => [...prev, ...bullets]);\n  }\n}\n\n// Reusable overlays\nfunction QuestOverlay({\n  title,\n  bodyLines,\n  primaryLabel,\n  onPrimary,\n  secondaryLabel,\n  onSecondary\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      background: \"rgba(15,23,42,0.94)\",\n      backdropFilter: \"blur(3px)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"1.5rem\",\n      textAlign: \"center\",\n      zIndex: 50\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 520,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.85rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"1.9rem\",\n          margin: 0\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 991,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.95rem\",\n          color: \"rgba(226,232,240,0.96)\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"0.4rem\"\n        },\n        children: bodyLines.map((line, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: line\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1009,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"0.75rem\",\n          justifyContent: \"center\",\n          flexWrap: \"wrap\",\n          marginTop: \"0.2rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onPrimary,\n          style: {\n            padding: \"0.7rem 1.5rem\",\n            borderRadius: \"999px\",\n            border: \"none\",\n            background: \"linear-gradient(135deg,#22c55e,#16a34a)\",\n            color: \"white\",\n            fontWeight: 600,\n            cursor: \"pointer\",\n            minWidth: 170,\n            boxShadow: \"0 8px 18px rgba(34,197,94,0.4)\"\n          },\n          children: primaryLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1023,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSecondary,\n          style: {\n            padding: \"0.7rem 1.5rem\",\n            borderRadius: \"999px\",\n            border: \"1px solid rgba(148,163,184,0.85)\",\n            background: \"rgba(15,23,42,0.96)\",\n            color: \"white\",\n            cursor: \"pointer\",\n            minWidth: 170\n          },\n          children: secondaryLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 969,\n    columnNumber: 5\n  }, this);\n}\n_c2 = QuestOverlay;\nfunction IntroOverlay({\n  onStart\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      background: \"rgba(15,23,42,0.95)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"1.5rem\",\n      textAlign: \"center\",\n      zIndex: 40\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 520,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.8rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"1.8rem\",\n          margin: 0\n        },\n        children: \"Final Trial: The Polluted Well\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1082,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"0.95rem\",\n          color: \"rgba(226,232,240,0.96)\",\n          margin: 0\n        },\n        children: \"Lagdrakul and Ailithm's merged code has rooted itself in the realm\\u2019s most trusted wells \\u2014 the places everyone assumes are safe. In this space, there is no \\\"mute all threats\\\" button. Only patterns, panic, and the way your hands remember how to move.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"0.85rem\",\n          color: \"rgba(148,163,184,0.96)\",\n          margin: 0\n        },\n        children: \"Phase one will teach you the rhythm. Phase two will try to make you forget it. Survive both.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onStart,\n        style: {\n          marginTop: \"0.6rem\",\n          padding: \"0.65rem 1.6rem\",\n          borderRadius: \"999px\",\n          border: \"none\",\n          background: \"linear-gradient(135deg,#3b82f6,#0ea5e9)\",\n          color: \"white\",\n          fontWeight: 600,\n          cursor: \"pointer\",\n          alignSelf: \"center\",\n          minWidth: 200,\n          boxShadow: \"0 8px 18px rgba(37,99,235,0.5)\"\n        },\n        children: \"Begin Phase I (Enter)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1061,\n    columnNumber: 5\n  }, this);\n}\n_c3 = IntroOverlay;\nfunction MidBreakOverlay({\n  onContinue,\n  onExit\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"absolute\",\n      inset: 0,\n      background: \"rgba(15,23,42,0.96)\",\n      backdropFilter: \"blur(3px)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      padding: \"1.5rem\",\n      textAlign: \"center\",\n      zIndex: 45\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 540,\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.85rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          fontSize: \"1.7rem\",\n          margin: 0\n        },\n        children: \"\\\"You're learning.\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"0.95rem\",\n          color: \"rgba(226,232,240,0.96)\",\n          margin: 0\n        },\n        children: \"The storm pauses for a heartbeat. Glyphs hang mid-air, frozen like raindrops in a flash of lightning. In the stillness, Lagdrakul speaks \\u2014 except the cadence is unmistakably Ailithm's.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"0.9rem\",\n          color: \"rgba(248,250,252,0.96)\",\n          margin: 0,\n          fontStyle: \"italic\"\n        },\n        children: \"\\\"You adapt. You predict. Do you feel it? How quiet it could be if nothing ever changed again? If every pattern stayed exactly the same, forever?\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: \"0.85rem\",\n          color: \"rgba(148,163,184,0.96)\",\n          margin: 0\n        },\n        children: \"Behind the dragon's voice is the real question: can you protect the realm without freezing it? Phase II is where that answer gets written \\u2014 in code, in motion, and in the scars on the battle frame.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"0.75rem\",\n          justifyContent: \"center\",\n          flexWrap: \"wrap\",\n          marginTop: \"0.4rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onContinue,\n          style: {\n            padding: \"0.7rem 1.6rem\",\n            borderRadius: \"999px\",\n            border: \"none\",\n            background: \"linear-gradient(135deg,#f97316,#dc2626)\",\n            color: \"white\",\n            fontWeight: 600,\n            cursor: \"pointer\",\n            minWidth: 200,\n            boxShadow: \"0 8px 18px rgba(248,113,113,0.5)\"\n          },\n          children: \"Continue to Phase II (Lagstorm)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onExit,\n          style: {\n            padding: \"0.7rem 1.6rem\",\n            borderRadius: \"999px\",\n            border: \"1px solid rgba(148,163,184,0.85)\",\n            background: \"rgba(15,23,42,0.96)\",\n            color: \"white\",\n            cursor: \"pointer\",\n            minWidth: 180\n          },\n          children: \"Retreat to Cyber Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1226,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1151,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1137,\n    columnNumber: 5\n  }, this);\n}\n_c4 = MidBreakOverlay;\nexport default BossFight;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"BossFight\");\n$RefreshReg$(_c2, \"QuestOverlay\");\n$RefreshReg$(_c3, \"IntroOverlay\");\n$RefreshReg$(_c4, \"MidBreakOverlay\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","GAME_WIDTH","GAME_HEIGHT","BATTLE_BOX","x","y","width","height","PLAYER_SIZE","PLAYER_SPEED","STAGE_ONE_DURATION","STAGE_TWO_DURATION","INFINITE_HEALTH","DASHBOARD_ROUTE","clamp","value","min","max","Math","BossFight","_s","navigate","gameState","setGameState","playerPos","setPlayerPos","bossHealth","setBossHealth","playerHealth","setPlayerHealth","bossBullets","setBossBullets","invulnerable","setInvulnerable","keysRef","playerPosRef","lastAttackRef","stageStartRef","stageRef","current","handleKeyDown","e","key","startFightStage1","handleKeyUp","window","addEventListener","removeEventListener","resetPlayerPosition","base","performance","now","startFightStage2","handleReplay","handleExit","animationId","lastFrame","loop","time","dt","prev","nx","ny","k","nextPos","stage","stageDuration","elapsed","stageT","cancelAnimationFrame","newHealth","ratio","round","attackInterval","spawnAttack","updated","tookHit","player","px1","py1","px2","py2","clock","b","vx","vy","lifeMs","bornAt","bx1","by1","bx2","by2","collide","push","hp","nhp","setTimeout","requestAnimationFrame","actSubtitle","topStoryText","phaseHintText","health","isStageTwoActive","style","minHeight","background","display","alignItems","justifyContent","padding","color","fontFamily","position","children","onClick","top","right","borderRadius","border","cursor","fontSize","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","flexDirection","gap","textAlign","margin","letterSpacing","textShadow","className","opacity","fontStyle","marginBottom","marginTop","overflow","boxShadow","transform","animation","left","fontWeight","textTransform","transition","inset","backgroundImage","backgroundSize","mixBlendMode","transformOrigin","Date","lineHeight","map","id","bottom","marginRight","IntroOverlay","onStart","MidBreakOverlay","onContinue","onExit","QuestOverlay","title","bodyLines","primaryLabel","onPrimary","secondaryLabel","onSecondary","_c","bullets","columns","i","rows","r","rowY","barHeight","segments","gapIndex","floor","random","s","segWidth","c","count","colX","linePattern","length","backdropFilter","line","idx","flexWrap","minWidth","_c2","alignSelf","_c3","_c4","$RefreshReg$"],"sources":["C:/Users/frenz/OneDrive/Desktop/CyberSlayers/frontend/src/pages/PasswordGame.jsx"],"sourcesContent":["// BossFight.jsx\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst GAME_WIDTH = 800;\r\nconst GAME_HEIGHT = 550;\r\n\r\nconst BATTLE_BOX = {\r\n  x: 250,\r\n  y: 180,\r\n  width: 300,\r\n  height: 260,\r\n};\r\n\r\nconst PLAYER_SIZE = 18;\r\nconst PLAYER_SPEED = 5;\r\n\r\nconst STAGE_ONE_DURATION = 20000; // ms: Stage 1 length\r\nconst STAGE_TWO_DURATION = 25000; // ms: Stage 2 length\r\nconst INFINITE_HEALTH = true; // ðŸ”¥ you can't die (for testing patterns)\r\n\r\nconst DASHBOARD_ROUTE = \"/dashboard\";\r\n\r\nfunction clamp(value, min, max) {\r\n  return Math.max(min, Math.min(max, value));\r\n}\r\n\r\nfunction BossFight() {\r\n  const navigate = useNavigate();\r\n\r\n  const [gameState, setGameState] = useState(\"intro\"); // intro | playing | midbreak | win | lose\r\n  const [playerPos, setPlayerPos] = useState({\r\n    x: BATTLE_BOX.x + BATTLE_BOX.width / 2 - PLAYER_SIZE / 2,\r\n    y: BATTLE_BOX.y + BATTLE_BOX.height / 2 - PLAYER_SIZE / 2,\r\n  });\r\n  const [bossHealth, setBossHealth] = useState(100);\r\n  const [playerHealth, setPlayerHealth] = useState(6);\r\n  const [bossBullets, setBossBullets] = useState([]);\r\n  const [invulnerable, setInvulnerable] = useState(false);\r\n\r\n  const keysRef = useRef({});\r\n  const playerPosRef = useRef(playerPos);\r\n  const lastAttackRef = useRef(0);\r\n  const stageStartRef = useRef(0);\r\n  const stageRef = useRef(1); // 1 or 2\r\n\r\n  // Keep ref updated\r\n  useEffect(() => {\r\n    playerPosRef.current = playerPos;\r\n  }, [playerPos]);\r\n\r\n  // Keyboard handling\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      keysRef.current[e.key] = true;\r\n\r\n      if (gameState === \"intro\" && e.key === \"Enter\") {\r\n        startFightStage1();\r\n      }\r\n    };\r\n\r\n    const handleKeyUp = (e) => {\r\n      keysRef.current[e.key] = false;\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    window.addEventListener(\"keyup\", handleKeyUp);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n      window.removeEventListener(\"keyup\", handleKeyUp);\r\n    };\r\n  }, [gameState]);\r\n\r\n  const resetPlayerPosition = () => {\r\n    const base = {\r\n      x: BATTLE_BOX.x + BATTLE_BOX.width / 2 - PLAYER_SIZE / 2,\r\n      y: BATTLE_BOX.y + BATTLE_BOX.height / 2 - PLAYER_SIZE / 2,\r\n    };\r\n    setPlayerPos(base);\r\n    playerPosRef.current = base;\r\n  };\r\n\r\n  const startFightStage1 = () => {\r\n    stageRef.current = 1;\r\n    stageStartRef.current = performance.now();\r\n    lastAttackRef.current = performance.now();\r\n    setBossBullets([]);\r\n    resetPlayerPosition();\r\n    setBossHealth(100);\r\n    setPlayerHealth(6);\r\n    setInvulnerable(false);\r\n    setGameState(\"playing\");\r\n  };\r\n\r\n  const startFightStage2 = () => {\r\n    stageRef.current = 2;\r\n    stageStartRef.current = performance.now();\r\n    lastAttackRef.current = performance.now();\r\n    setBossBullets([]);\r\n    resetPlayerPosition();\r\n    // Boss health picks up from 50 â†’ 0 in stage 2; keep current value.\r\n    setInvulnerable(false);\r\n    setGameState(\"playing\");\r\n  };\r\n\r\n  const handleReplay = () => {\r\n    startFightStage1();\r\n  };\r\n\r\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\r\n\r\n  // Main game loop\r\n  useEffect(() => {\r\n    if (gameState !== \"playing\") return;\r\n\r\n    let animationId;\r\n    let lastFrame = performance.now();\r\n\r\n    const loop = (time) => {\r\n      const dt = time - lastFrame;\r\n      lastFrame = time;\r\n\r\n      // Move player\r\n      setPlayerPos((prev) => {\r\n        let nx = prev.x;\r\n        let ny = prev.y;\r\n\r\n        const k = keysRef.current;\r\n        if (k[\"ArrowLeft\"] || k[\"a\"] || k[\"A\"]) {\r\n          nx -= PLAYER_SPEED;\r\n        }\r\n        if (k[\"ArrowRight\"] || k[\"d\"] || k[\"D\"]) {\r\n          nx += PLAYER_SPEED;\r\n        }\r\n        if (k[\"ArrowUp\"] || k[\"w\"] || k[\"W\"]) {\r\n          ny -= PLAYER_SPEED;\r\n        }\r\n        if (k[\"ArrowDown\"] || k[\"s\"] || k[\"S\"]) {\r\n          ny += PLAYER_SPEED;\r\n        }\r\n\r\n        nx = clamp(\r\n          nx,\r\n          BATTLE_BOX.x,\r\n          BATTLE_BOX.x + BATTLE_BOX.width - PLAYER_SIZE\r\n        );\r\n        ny = clamp(\r\n          ny,\r\n          BATTLE_BOX.y,\r\n          BATTLE_BOX.y + BATTLE_BOX.height - PLAYER_SIZE\r\n        );\r\n\r\n        const nextPos = { x: nx, y: ny };\r\n        playerPosRef.current = nextPos;\r\n        return nextPos;\r\n      });\r\n\r\n      const stage = stageRef.current;\r\n      const stageDuration = stage === 1 ? STAGE_ONE_DURATION : STAGE_TWO_DURATION;\r\n      const elapsed = performance.now() - stageStartRef.current;\r\n      const stageT = clamp(elapsed / stageDuration, 0, 1);\r\n\r\n      // Stage transitions\r\n      if (stage === 1 && elapsed >= STAGE_ONE_DURATION) {\r\n        setGameState(\"midbreak\");\r\n        cancelAnimationFrame(animationId);\r\n        return;\r\n      }\r\n      if (stage === 2 && elapsed >= STAGE_TWO_DURATION) {\r\n        setGameState(\"win\");\r\n        cancelAnimationFrame(animationId);\r\n        return;\r\n      }\r\n\r\n      // Boss health progression: Stage 1 â†’ 100 â†’ 50, Stage 2 â†’ 50 â†’ 0\r\n      let newHealth;\r\n      if (stage === 1) {\r\n        const ratio = Math.max(0, 1 - stageT); // 1 â†’ 0\r\n        newHealth = 50 + Math.round(ratio * 50); // 100 â†’ 50\r\n      } else {\r\n        const ratio = Math.max(0, 1 - stageT);\r\n        newHealth = Math.round(ratio * 50); // 50 â†’ 0\r\n      }\r\n      if (newHealth !== bossHealth) {\r\n        setBossHealth(newHealth);\r\n      }\r\n\r\n      // Attack frequency ramps up per stage\r\n      let attackInterval;\r\n      if (stage === 1) {\r\n        attackInterval = stageT < 0.5 ? 900 : 750;\r\n      } else {\r\n        attackInterval = stageT < 0.4 ? 620 : 480;\r\n      }\r\n\r\n      const now = performance.now();\r\n      if (now - lastAttackRef.current >= attackInterval) {\r\n        spawnAttack(stage, stageT, setBossBullets);\r\n        lastAttackRef.current = now;\r\n      }\r\n\r\n      // Update bullets + infinite-health collision\r\n      setBossBullets((prev) => {\r\n        const updated = [];\r\n        let tookHit = false;\r\n\r\n        const player = playerPosRef.current;\r\n        const px1 = player.x;\r\n        const py1 = player.y;\r\n        const px2 = player.x + PLAYER_SIZE;\r\n        const py2 = player.y + PLAYER_SIZE;\r\n\r\n        const clock = performance.now();\r\n\r\n        for (const b of prev) {\r\n          const nx = b.x + b.vx;\r\n          const ny = b.y + b.vy;\r\n\r\n          // lifetime-based bullets (lasers)\r\n          if (b.lifeMs != null && b.bornAt != null) {\r\n            if (clock - b.bornAt > b.lifeMs) continue;\r\n          }\r\n\r\n          // Bounds check around battle box with margin\r\n          if (\r\n            nx + b.width < BATTLE_BOX.x - 40 ||\r\n            nx > BATTLE_BOX.x + BATTLE_BOX.width + 40 ||\r\n            ny + b.height < BATTLE_BOX.y - 40 ||\r\n            ny > BATTLE_BOX.y + BATTLE_BOX.height + 40\r\n          ) {\r\n            continue;\r\n          }\r\n\r\n          const bx1 = nx;\r\n          const by1 = ny;\r\n          const bx2 = nx + b.width;\r\n          const by2 = ny + b.height;\r\n\r\n          const collide =\r\n            !invulnerable &&\r\n            !tookHit &&\r\n            bx1 < px2 &&\r\n            bx2 > px1 &&\r\n            by1 < py2 &&\r\n            by2 > py1;\r\n\r\n          if (collide) {\r\n            tookHit = true;\r\n            continue; // bullet consumed\r\n          }\r\n\r\n          updated.push({ ...b, x: nx, y: ny });\r\n        }\r\n\r\n        if (tookHit) {\r\n          // Infinite hearts: flicker + shake, but do NOT reduce health\r\n          if (!INFINITE_HEALTH) {\r\n            setPlayerHealth((hp) => {\r\n              const nhp = hp - 1;\r\n              if (nhp <= 0) setGameState(\"lose\");\r\n              return nhp;\r\n            });\r\n          }\r\n          setInvulnerable(true);\r\n          setTimeout(() => setInvulnerable(false), 400);\r\n        }\r\n\r\n        return updated;\r\n      });\r\n\r\n      animationId = requestAnimationFrame(loop);\r\n    };\r\n\r\n    animationId = requestAnimationFrame(loop);\r\n    return () => cancelAnimationFrame(animationId);\r\n  }, [gameState, bossHealth, invulnerable]);\r\n\r\n  const actSubtitle = \"Act IV â€“ The Polluted Well\";\r\n\r\n  const topStoryText =\r\n    \"At the heart of the Network Realm, the public wells boil with corrupted light. Lagdrakul rises from the poisoned code, its voice tangled with Ailithmâ€™s logic. You canâ€™t out-damage this dragon â€” you have to outlast its lagstorm while the rewrite claws through the realmâ€™s veins.\";\r\n\r\n  const phaseHintText = (health) => {\r\n    if (health > 75) {\r\n      return \"The code still follows patterns: predictable rain and crossing streams â€” echoes of every warning you ignored on the Digital Trail.\";\r\n    } else if (health > 50) {\r\n      return \"Shadow helms splinter and reform in the dark, testing whether youâ€™ve really learned to read imitation from intent.\";\r\n    } else if (health > 25) {\r\n      return \"The wells pulse red. Phisher nets and glitching lasers comb the frame, leaving only thin, gasping pockets of safe space.\";\r\n    }\r\n    return \"The realmâ€™s heartbeat stutters. Lagdrakulâ€™s full lagstorm is here: column-wide freezes, rising packets, and a voice whispering that it would be easier if everything justâ€¦stopped.\";\r\n  };\r\n\r\n  const isStageTwoActive = stageRef.current === 2;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: \"100vh\",\r\n        background:\r\n          \"radial-gradient(circle at top, #020617 0, #020617 45%, #000 100%)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"1.25rem\",\r\n        color: \"white\",\r\n        fontFamily:\r\n          '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\r\n        position: \"relative\",\r\n      }}\r\n    >\r\n      {/* Exit button */}\r\n      <button\r\n        onClick={handleExit}\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"1rem\",\r\n          right: \"1rem\",\r\n          background: \"rgba(0,0,0,0.6)\",\r\n          borderRadius: \"999px\",\r\n          border: \"1px solid rgba(255,255,255,0.35)\",\r\n          color: \"white\",\r\n          padding: \"0.4rem 0.9rem\",\r\n          cursor: \"pointer\",\r\n          fontSize: \"0.85rem\",\r\n          zIndex: 60,\r\n        }}\r\n      >\r\n        âœ• Exit\r\n      </button>\r\n\r\n      <div\r\n        style={{\r\n          width: GAME_WIDTH,\r\n          maxWidth: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"0.7rem\",\r\n          alignItems: \"center\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        <h1\r\n          style={{\r\n            fontSize: \"2rem\",\r\n            textAlign: \"center\",\r\n            margin: 0,\r\n            letterSpacing: \"0.06em\",\r\n            textShadow:\r\n              \"0 0 16px rgba(248,250,252,0.7), 0 0 32px rgba(59,130,246,0.6)\",\r\n          }}\r\n          className=\"boss-title\"\r\n        >\r\n          ðŸ‰ Lagdrakul Protocol: Final Convergence\r\n        </h1>\r\n        <div\r\n          style={{\r\n            fontSize: \"0.85rem\",\r\n            opacity: 0.8,\r\n            fontStyle: \"italic\",\r\n            marginBottom: \"0.15rem\",\r\n          }}\r\n        >\r\n          {actSubtitle}\r\n        </div>\r\n        <p\r\n          style={{\r\n            maxWidth: 640,\r\n            textAlign: \"center\",\r\n            fontSize: \"0.9rem\",\r\n            opacity: 0.9,\r\n            margin: 0,\r\n          }}\r\n        >\r\n          {topStoryText}\r\n        </p>\r\n\r\n        <p\r\n          style={{\r\n            maxWidth: 540,\r\n            textAlign: \"center\",\r\n            fontSize: \"0.8rem\",\r\n            opacity: 0.8,\r\n            margin: 0,\r\n          }}\r\n        >\r\n          Survive inside the glyph-bound battle frame through{\" \"}\r\n          <strong>two escalating phases</strong> until the rewrite completes.\r\n          Move with <strong>WASD / Arrows</strong>. There is no attack button\r\n          here â€” just pattern-reading, panic management, and whatever&apos;s\r\n          left of your courage.\r\n        </p>\r\n\r\n        {/* Main game frame */}\r\n        <div\r\n          style={{\r\n            position: \"relative\",\r\n            width: GAME_WIDTH,\r\n            height: GAME_HEIGHT,\r\n            marginTop: \"0.5rem\",\r\n            borderRadius: \"18px\",\r\n            border: \"2px solid rgba(148,163,184,0.7)\",\r\n            background:\r\n              \"linear-gradient(180deg, rgba(15,23,42,0.98), #020617 70%, #000 100%)\",\r\n            overflow: \"hidden\",\r\n            boxShadow: isStageTwoActive\r\n              ? \"0 0 32px rgba(248,113,113,0.9)\"\r\n              : \"0 0 28px rgba(0,0,0,0.85)\",\r\n            transform: isStageTwoActive ? \"translateX(0)\" : \"none\",\r\n            animation: isStageTwoActive\r\n              ? \"shakeBox 0.35s infinite\"\r\n              : \"none\",\r\n          }}\r\n        >\r\n          {/* Boss + health/script bar */}\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 20,\r\n              left: \"50%\",\r\n              transform: \"translateX(-50%)\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"2.4rem\",\r\n                marginBottom: \"0.1rem\",\r\n                animation: \"bossGlow 1.4s ease-in-out infinite alternate\",\r\n              }}\r\n            >\r\n              ðŸ‰\r\n            </div>\r\n            <div\r\n              style={{\r\n                fontWeight: 600,\r\n                letterSpacing: \"0.12em\",\r\n                fontSize: \"0.8rem\",\r\n                marginBottom: \"0.25rem\",\r\n                textTransform: \"uppercase\",\r\n              }}\r\n              className=\"glitchy-text\"\r\n            >\r\n              LAGDRAKUL // AILITHM CORE\r\n            </div>\r\n            <div\r\n              style={{\r\n                fontSize: \"0.7rem\",\r\n                opacity: 0.7,\r\n                marginBottom: \"0.3rem\",\r\n              }}\r\n            >\r\n              Rewrite Stability (Remaining Corruption)\r\n            </div>\r\n            <div\r\n              style={{\r\n                width: 260,\r\n                height: 10,\r\n                borderRadius: \"999px\",\r\n                border: \"1px solid rgba(239,68,68,0.9)\",\r\n                background: \"rgba(15,23,42,0.9)\",\r\n                overflow: \"hidden\",\r\n                boxShadow: \"0 0 10px rgba(239,68,68,0.6)\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: `${bossHealth}%`,\r\n                  height: \"100%\",\r\n                  background:\r\n                    \"linear-gradient(90deg,#f97316,#ef4444,#b91c1c)\",\r\n                  transition: \"width 90ms linear\",\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Phase cue text */}\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              top: 80,\r\n              left: \"50%\",\r\n              transform: \"translateX(-50%)\",\r\n              fontSize: \"0.75rem\",\r\n              opacity: 0.8,\r\n              maxWidth: 380,\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {phaseHintText(bossHealth)}\r\n          </div>\r\n\r\n          {/* Battle box */}\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              left: BATTLE_BOX.x,\r\n              top: BATTLE_BOX.y,\r\n              width: BATTLE_BOX.width,\r\n              height: BATTLE_BOX.height,\r\n              borderRadius: \"10px\",\r\n              border: \"3px solid #e5e7eb\",\r\n              boxShadow: isStageTwoActive\r\n                ? \"0 0 22px rgba(248,113,113,0.7)\"\r\n                : \"0 0 16px rgba(59,130,246,0.45)\",\r\n              overflow: \"hidden\",\r\n              background: isStageTwoActive\r\n                ? \"radial-gradient(circle at top, #111827 0, #020617 40%, #111827 70%, #000 100%)\"\r\n                : \"radial-gradient(circle at top, #020617 0, #020617 60%, #000 100%)\",\r\n            }}\r\n          >\r\n            {/* Grid background */}\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                inset: 0,\r\n                backgroundImage:\r\n                  \"linear-gradient(to right, rgba(148,163,184,0.08) 1px, transparent 1px), linear-gradient(to bottom, rgba(148,163,184,0.08) 1px, transparent 1px)\",\r\n                backgroundSize: \"28px 28px\",\r\n                opacity: isStageTwoActive ? 0.9 : 0.6,\r\n              }}\r\n            />\r\n\r\n            {/* Dim flicker overlay in Stage 2 */}\r\n            {isStageTwoActive && (\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  inset: 0,\r\n                  background:\r\n                    \"radial-gradient(circle at center, rgba(248,113,113,0.12), transparent 60%)\",\r\n                  mixBlendMode: \"screen\",\r\n                }}\r\n              />\r\n            )}\r\n\r\n            {/* Player core */}\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                left: playerPos.x - BATTLE_BOX.x,\r\n                top: playerPos.y - BATTLE_BOX.y,\r\n                width: PLAYER_SIZE,\r\n                height: PLAYER_SIZE,\r\n                borderRadius: \"6px\",\r\n                background:\r\n                  \"radial-gradient(circle at 30% 20%, #f97373, #b91c1c)\",\r\n                boxShadow: invulnerable\r\n                  ? \"0 0 20px rgba(250,250,250,0.95)\"\r\n                  : \"0 0 16px rgba(248,113,113,0.85)\",\r\n                border: \"1px solid rgba(248,250,252,0.85)\",\r\n                transformOrigin: \"center\",\r\n                transform:\r\n                  invulnerable && Date.now() % 200 < 100\r\n                    ? \"scale(1.25)\"\r\n                    : \"scale(1)\",\r\n                transition: \"transform 80ms\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  fontSize: \"0.7rem\",\r\n                  textAlign: \"center\",\r\n                  lineHeight: `${PLAYER_SIZE}px`,\r\n                  textShadow: \"0 0 8px rgba(248,113,113,0.9)\",\r\n                }}\r\n              >\r\n                â¤\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enemy bullets */}\r\n            {bossBullets.map((b) => (\r\n              <div\r\n                key={b.id}\r\n                style={{\r\n                  position: \"absolute\",\r\n                  left: b.x - BATTLE_BOX.x,\r\n                  top: b.y - BATTLE_BOX.y,\r\n                  width: b.width,\r\n                  height: b.height,\r\n                  borderRadius: b.height > 32 ? 4 : 999,\r\n                  background:\r\n                    b.lifeMs != null\r\n                      ? \"linear-gradient(180deg,#22d3ee,#0ea5e9)\"\r\n                      : \"linear-gradient(180deg,#e5e7eb,#9ca3af)\",\r\n                  boxShadow:\r\n                    b.lifeMs != null\r\n                      ? \"0 0 22px rgba(56,189,248,0.9)\"\r\n                      : \"0 0 10px rgba(156,163,175,0.7)\",\r\n                  opacity: isStageTwoActive && b.lifeMs != null ? 0.95 : 1,\r\n                }}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Hearts (infinite) */}\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: 22,\r\n              left: \"50%\",\r\n              transform: \"translateX(-50%)\",\r\n              display: \"flex\",\r\n              gap: \"0.25rem\",\r\n              alignItems: \"center\",\r\n              fontSize: \"1rem\",\r\n            }}\r\n          >\r\n            <span\r\n              style={{\r\n                fontSize: \"0.8rem\",\r\n                opacity: 0.75,\r\n                marginRight: \"0.4rem\",\r\n              }}\r\n            >\r\n              Integrity:\r\n            </span>\r\n            <div\r\n              style={{\r\n                width: 24,\r\n                height: 24,\r\n                borderRadius: \"999px\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                background:\r\n                  \"radial-gradient(circle at 30% 20%, #fb7185, #b91c1c)\",\r\n                boxShadow: \"0 0 10px rgba(252,165,165,0.9)\",\r\n                border: \"1px solid rgba(254,226,226,0.9)\",\r\n                fontSize: \"0.9rem\",\r\n              }}\r\n            >\r\n              âˆž\r\n            </div>\r\n          </div>\r\n\r\n          {/* Controls hint */}\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              bottom: 18,\r\n              left: 26,\r\n              fontSize: \"0.75rem\",\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            <div>Move: WASD / Arrow Keys</div>\r\n            <div>Goal: Survive both phases of the lagstorm.</div>\r\n          </div>\r\n\r\n          {/* Overlays */}\r\n          {gameState === \"intro\" && <IntroOverlay onStart={startFightStage1} />}\r\n\r\n          {gameState === \"midbreak\" && (\r\n            <MidBreakOverlay onContinue={startFightStage2} onExit={handleExit} />\r\n          )}\r\n\r\n          {gameState === \"win\" && (\r\n            <QuestOverlay\r\n              title=\"ðŸ›¡ Rewrite Complete: Ailithm Unbound\"\r\n              bodyLines={[\r\n                \"You endure both movements of the lagstorm â€” the testing patterns and the full frozen roar. Each second you survive is a line of code seared into Lagdrakulâ€™s core.\",\r\n                \"In the final shudder of the well, the dragonâ€™s voice flickers: first pure Ailithm, then pure Lagdrakul, then something that refuses to be only one. You donâ€™t erase them. You rewrite them.\",\r\n                \"In this branch of the timeline, protection isnâ€™t total control or total chaos. Itâ€™s you, standing in the middle, refusing to let fear or apathy decide how the realm connects.\"\r\n              ]}\r\n              primaryLabel=\"Replay Final Convergence\"\r\n              onPrimary={handleReplay}\r\n              secondaryLabel=\"Return to Cyber Map\"\r\n              onSecondary={handleExit}\r\n            />\r\n          )}\r\n\r\n          {gameState === \"lose\" && (\r\n            <QuestOverlay\r\n              title=\"ðŸ’€ Descent into Frozen Code\"\r\n              bodyLines={[\r\n                \"Lagdrakulâ€™s patterns finally overrun the frame. The wells lock. Conversations die mid-sentence, frozen in half-delivered packets.\",\r\n                \"In the silence, Ailithmâ€™s voice becomes perfectly synchronized with the dragonâ€™s. Perfect order, perfect stillness â€” no more risk, but no more growth.\",\r\n                \"Infinite timelines remain. Try again, read the patterns differently, and see if you can unhook logic from fear before this becomes the only story the realm remembers.\"\r\n              ]}\r\n              primaryLabel=\"Try the Convergence Again\"\r\n              onPrimary={handleReplay}\r\n              secondaryLabel=\"Return to Cyber Map\"\r\n              onSecondary={handleExit}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Animations / keyframes */}\r\n      <style>{`\r\n        @keyframes bossGlow {\r\n          0% {\r\n            text-shadow: 0 0 10px rgba(248,250,252,0.8), 0 0 24px rgba(59,130,246,0.7);\r\n            transform: translateY(0);\r\n          }\r\n          100% {\r\n            text-shadow: 0 0 20px rgba(248,113,113,1), 0 0 36px rgba(248,113,113,0.9);\r\n            transform: translateY(-2px);\r\n          }\r\n        }\r\n\r\n        @keyframes shakeBox {\r\n          0%   { transform: translateX(0px); }\r\n          25%  { transform: translateX(-2px); }\r\n          50%  { transform: translateX(2px); }\r\n          75%  { transform: translateX(-1px); }\r\n          100% { transform: translateX(0px); }\r\n        }\r\n\r\n        @keyframes glitch {\r\n          0% { transform: translate(0, 0); opacity: 0.9; }\r\n          20% { transform: translate(-1px, 0); opacity: 1; }\r\n          40% { transform: translate(1px, 0); opacity: 0.85; }\r\n          60% { transform: translate(-0.5px, 0); opacity: 1; }\r\n          80% { transform: translate(0.5px, 0); opacity: 0.9; }\r\n          100% { transform: translate(0, 0); opacity: 1; }\r\n        }\r\n\r\n        .glitchy-text {\r\n          animation: glitch 0.22s infinite;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Attack patterns: two stages, rising difficulty\r\nfunction spawnAttack(stage, stageT, setBossBullets) {\r\n  const bullets = [];\r\n  const now = performance.now();\r\n\r\n  if (stage === 1) {\r\n    // Stage 1: readable patterns, moderate speed\r\n    if (stageT < 0.35) {\r\n      // Pattern A: vertical \"code rain\" from top\r\n      const columns = 6;\r\n      for (let i = 0; i < columns; i++) {\r\n        bullets.push({\r\n          id: `s1-rain-${now}-${i}`,\r\n          x:\r\n            BATTLE_BOX.x +\r\n            (i + 0.5) * (BATTLE_BOX.width / columns) -\r\n            4,\r\n          y: BATTLE_BOX.y - 14,\r\n          vx: 0,\r\n          vy: 3.0,\r\n          width: 8,\r\n          height: 16,\r\n        });\r\n      }\r\n    } else if (stageT < 0.7) {\r\n      // Pattern B: crossing diagonals from sides\r\n      const rows = 4;\r\n      for (let r = 0; r < rows; r++) {\r\n        const rowY =\r\n          BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows);\r\n\r\n        bullets.push({\r\n          id: `s1-diagL-${now}-${r}`,\r\n          x: BATTLE_BOX.x - 14,\r\n          y: rowY,\r\n          vx: 3.1,\r\n          vy: (r % 2 === 0 ? 1 : -1) * 1.3,\r\n          width: 10,\r\n          height: 16,\r\n        });\r\n\r\n        bullets.push({\r\n          id: `s1-diagR-${now}-${r}`,\r\n          x: BATTLE_BOX.x + BATTLE_BOX.width + 4,\r\n          y: rowY,\r\n          vx: -3.1,\r\n          vy: (r % 2 === 0 ? -1 : 1) * 1.3,\r\n          width: 10,\r\n          height: 16,\r\n        });\r\n      }\r\n    } else {\r\n      // Pattern C: sweeping bars with a clear gap\r\n      const rows = 3;\r\n      for (let r = 0; r < rows; r++) {\r\n        const barHeight = 10;\r\n        const y =\r\n          BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows) -\r\n          barHeight / 2;\r\n\r\n        const segments = 5;\r\n        const gapIndex = Math.floor(Math.random() * segments);\r\n\r\n        for (let s = 0; s < segments; s++) {\r\n          if (s === gapIndex) continue;\r\n          const segWidth = BATTLE_BOX.width / segments;\r\n          const x = BATTLE_BOX.x - segWidth + s * segWidth;\r\n\r\n          bullets.push({\r\n            id: `s1-bar-${now}-${r}-${s}`,\r\n            x,\r\n            y,\r\n            vx: 3.3,\r\n            vy: 0,\r\n            width: segWidth * 1.3,\r\n            height: barHeight,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    // Stage 2: denser, scarier, lasers & packets combined\r\n    if (stageT < 0.35) {\r\n      // Pattern D: rising packets from bottom with minor horizontal drift\r\n      const columns = 5;\r\n      for (let c = 0; c < columns; c++) {\r\n        const count = 3 + (c % 2); // 3 or 4\r\n        const colX =\r\n          BATTLE_BOX.x +\r\n          (c + 0.5) * (BATTLE_BOX.width / columns) -\r\n          5;\r\n\r\n        for (let i = 0; i < count; i++) {\r\n          bullets.push({\r\n            id: `s2-rise-${now}-${c}-${i}`,\r\n            x: colX,\r\n            y: BATTLE_BOX.y + BATTLE_BOX.height + 20 + i * 18,\r\n            vx: (Math.random() - 0.5) * 0.6,\r\n            vy: -3.7,\r\n            width: 10,\r\n            height: 18,\r\n          });\r\n        }\r\n      }\r\n    } else if (stageT < 0.7) {\r\n      // Pattern E: alternating nets + short lasers\r\n      const rows = 3;\r\n      for (let r = 0; r < rows; r++) {\r\n        const barHeight = 10;\r\n        const y =\r\n          BATTLE_BOX.y + (r + 0.5) * (BATTLE_BOX.height / rows) -\r\n          barHeight / 2;\r\n\r\n        const segments = 6;\r\n        const gapIndex = Math.floor(Math.random() * segments);\r\n\r\n        for (let s = 0; s < segments; s++) {\r\n          if (s === gapIndex) continue;\r\n          const segWidth = BATTLE_BOX.width / segments;\r\n          const x = BATTLE_BOX.x - segWidth + s * segWidth;\r\n\r\n          bullets.push({\r\n            id: `s2-net-${now}-${r}-${s}`,\r\n            x,\r\n            y,\r\n            vx: 3.7,\r\n            vy: 0,\r\n            width: segWidth * 1.25,\r\n            height: barHeight,\r\n          });\r\n        }\r\n      }\r\n\r\n      // Some brief lasers\r\n      const columns = 4;\r\n      for (let c = 0; c < columns; c++) {\r\n        if (Math.random() < 0.4) continue;\r\n        const colX =\r\n          BATTLE_BOX.x +\r\n          c * (BATTLE_BOX.width / columns) +\r\n          4;\r\n\r\n        bullets.push({\r\n          id: `s2-laser-${now}-${c}`,\r\n          x: colX,\r\n          y: BATTLE_BOX.y,\r\n          vx: 0,\r\n          vy: 0,\r\n          width: BATTLE_BOX.width / columns - 8,\r\n          height: BATTLE_BOX.height,\r\n          lifeMs: 650,\r\n          bornAt: now,\r\n        });\r\n      }\r\n    } else {\r\n      // Pattern F: full lagstorm â€“ rising + crashing + lasers\r\n      const columns = 5;\r\n      const linePattern = [1, 2, 3, 2, 1];\r\n\r\n      // Rising from bottom\r\n      for (let c = 0; c < columns; c++) {\r\n        const count = linePattern[c];\r\n        const colX =\r\n          BATTLE_BOX.x +\r\n          (c + 0.5) * (BATTLE_BOX.width / columns) -\r\n          5;\r\n\r\n        for (let i = 0; i < count; i++) {\r\n          bullets.push({\r\n            id: `s2-riseF-${now}-${c}-${i}`,\r\n            x: colX,\r\n            y: BATTLE_BOX.y + BATTLE_BOX.height + 22 + i * 16,\r\n            vx: 0,\r\n            vy: -4.0,\r\n            width: 10,\r\n            height: 18,\r\n          });\r\n        }\r\n      }\r\n\r\n      // Crashing from top\r\n      for (let c = 0; c < columns; c++) {\r\n        const count = linePattern[c];\r\n        const colX =\r\n          BATTLE_BOX.x +\r\n          (c + 0.5) * (BATTLE_BOX.width / columns) -\r\n          5;\r\n\r\n        for (let i = 0; i < count; i++) {\r\n          bullets.push({\r\n            id: `s2-topF-${now}-${c}-${i}`,\r\n            x: colX,\r\n            y: BATTLE_BOX.y - 24 - i * 16,\r\n            vx: 0,\r\n            vy: 3.9,\r\n            width: 10,\r\n            height: 18,\r\n          });\r\n        }\r\n      }\r\n\r\n      // Heavy lasers\r\n      for (let c = 0; c < columns; c++) {\r\n        if (Math.random() < 0.3) continue;\r\n        const colX =\r\n          BATTLE_BOX.x +\r\n          c * (BATTLE_BOX.width / columns) +\r\n          4;\r\n\r\n        bullets.push({\r\n          id: `s2-laserF-${now}-${c}`,\r\n          x: colX,\r\n          y: BATTLE_BOX.y,\r\n          vx: 0,\r\n          vy: 0,\r\n          width: BATTLE_BOX.width / columns - 8,\r\n          height: BATTLE_BOX.height,\r\n          lifeMs: 800,\r\n          bornAt: now,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  if (bullets.length > 0) {\r\n    setBossBullets((prev) => [...prev, ...bullets]);\r\n  }\r\n}\r\n\r\n// Reusable overlays\r\nfunction QuestOverlay({\r\n  title,\r\n  bodyLines,\r\n  primaryLabel,\r\n  onPrimary,\r\n  secondaryLabel,\r\n  onSecondary,\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        inset: 0,\r\n        background: \"rgba(15,23,42,0.94)\",\r\n        backdropFilter: \"blur(3px)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"1.5rem\",\r\n        textAlign: \"center\",\r\n        zIndex: 50,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          maxWidth: 520,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"0.85rem\",\r\n        }}\r\n      >\r\n        <h2\r\n          style={{\r\n            fontSize: \"1.9rem\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          {title}\r\n        </h2>\r\n        <div\r\n          style={{\r\n            fontSize: \"0.95rem\",\r\n            color: \"rgba(226,232,240,0.96)\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            gap: \"0.4rem\",\r\n          }}\r\n        >\r\n          {bodyLines.map((line, idx) => (\r\n            <p key={idx} style={{ margin: 0 }}>\r\n              {line}\r\n            </p>\r\n          ))}\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            gap: \"0.75rem\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            marginTop: \"0.2rem\",\r\n          }}\r\n        >\r\n          <button\r\n            onClick={onPrimary}\r\n            style={{\r\n              padding: \"0.7rem 1.5rem\",\r\n              borderRadius: \"999px\",\r\n              border: \"none\",\r\n              background: \"linear-gradient(135deg,#22c55e,#16a34a)\",\r\n              color: \"white\",\r\n              fontWeight: 600,\r\n              cursor: \"pointer\",\r\n              minWidth: 170,\r\n              boxShadow: \"0 8px 18px rgba(34,197,94,0.4)\",\r\n            }}\r\n          >\r\n            {primaryLabel}\r\n          </button>\r\n          <button\r\n            onClick={onSecondary}\r\n            style={{\r\n              padding: \"0.7rem 1.5rem\",\r\n              borderRadius: \"999px\",\r\n              border: \"1px solid rgba(148,163,184,0.85)\",\r\n              background: \"rgba(15,23,42,0.96)\",\r\n              color: \"white\",\r\n              cursor: \"pointer\",\r\n              minWidth: 170,\r\n            }}\r\n          >\r\n            {secondaryLabel}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction IntroOverlay({ onStart }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        inset: 0,\r\n        background: \"rgba(15,23,42,0.95)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"1.5rem\",\r\n        textAlign: \"center\",\r\n        zIndex: 40,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          maxWidth: 520,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"0.8rem\",\r\n        }}\r\n      >\r\n        <h2\r\n          style={{\r\n            fontSize: \"1.8rem\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          Final Trial: The Polluted Well\r\n        </h2>\r\n        <p\r\n          style={{\r\n            fontSize: \"0.95rem\",\r\n            color: \"rgba(226,232,240,0.96)\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          Lagdrakul and Ailithm&apos;s merged code has rooted itself in the\r\n          realmâ€™s most trusted wells â€” the places everyone assumes are safe. In\r\n          this space, there is no &quot;mute all threats&quot; button. Only\r\n          patterns, panic, and the way your hands remember how to move.\r\n        </p>\r\n        <p\r\n          style={{\r\n            fontSize: \"0.85rem\",\r\n            color: \"rgba(148,163,184,0.96)\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          Phase one will teach you the rhythm. Phase two will try to make you\r\n          forget it. Survive both.\r\n        </p>\r\n        <button\r\n          onClick={onStart}\r\n          style={{\r\n            marginTop: \"0.6rem\",\r\n            padding: \"0.65rem 1.6rem\",\r\n            borderRadius: \"999px\",\r\n            border: \"none\",\r\n            background: \"linear-gradient(135deg,#3b82f6,#0ea5e9)\",\r\n            color: \"white\",\r\n            fontWeight: 600,\r\n            cursor: \"pointer\",\r\n            alignSelf: \"center\",\r\n            minWidth: 200,\r\n            boxShadow: \"0 8px 18px rgba(37,99,235,0.5)\",\r\n          }}\r\n        >\r\n          Begin Phase I (Enter)\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MidBreakOverlay({ onContinue, onExit }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        inset: 0,\r\n        background: \"rgba(15,23,42,0.96)\",\r\n        backdropFilter: \"blur(3px)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        padding: \"1.5rem\",\r\n        textAlign: \"center\",\r\n        zIndex: 45,\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          maxWidth: 540,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"0.85rem\",\r\n        }}\r\n      >\r\n        <h2\r\n          style={{\r\n            fontSize: \"1.7rem\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          &quot;You&apos;re learning.&quot;\r\n        </h2>\r\n        <p\r\n          style={{\r\n            fontSize: \"0.95rem\",\r\n            color: \"rgba(226,232,240,0.96)\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          The storm pauses for a heartbeat. Glyphs hang mid-air, frozen like\r\n          raindrops in a flash of lightning. In the stillness, Lagdrakul speaks\r\n          â€” except the cadence is unmistakably Ailithm&apos;s.\r\n        </p>\r\n        <p\r\n          style={{\r\n            fontSize: \"0.9rem\",\r\n            color: \"rgba(248,250,252,0.96)\",\r\n            margin: 0,\r\n            fontStyle: \"italic\",\r\n          }}\r\n        >\r\n          &quot;You adapt. You predict. Do you feel it? How quiet it could be if\r\n          nothing ever changed again? If every pattern stayed exactly the same,\r\n          forever?&quot;\r\n        </p>\r\n        <p\r\n          style={{\r\n            fontSize: \"0.85rem\",\r\n            color: \"rgba(148,163,184,0.96)\",\r\n            margin: 0,\r\n          }}\r\n        >\r\n          Behind the dragon&apos;s voice is the real question: can you protect\r\n          the realm without freezing it? Phase II is where that answer gets\r\n          written â€” in code, in motion, and in the scars on the battle frame.\r\n        </p>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            gap: \"0.75rem\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            marginTop: \"0.4rem\",\r\n          }}\r\n        >\r\n          <button\r\n            onClick={onContinue}\r\n            style={{\r\n              padding: \"0.7rem 1.6rem\",\r\n              borderRadius: \"999px\",\r\n              border: \"none\",\r\n              background: \"linear-gradient(135deg,#f97316,#dc2626)\",\r\n              color: \"white\",\r\n              fontWeight: 600,\r\n              cursor: \"pointer\",\r\n              minWidth: 200,\r\n              boxShadow: \"0 8px 18px rgba(248,113,113,0.5)\",\r\n            }}\r\n          >\r\n            Continue to Phase II (Lagstorm)\r\n          </button>\r\n          <button\r\n            onClick={onExit}\r\n            style={{\r\n              padding: \"0.7rem 1.6rem\",\r\n              borderRadius: \"999px\",\r\n              border: \"1px solid rgba(148,163,184,0.85)\",\r\n              background: \"rgba(15,23,42,0.96)\",\r\n              color: \"white\",\r\n              cursor: \"pointer\",\r\n              minWidth: 180,\r\n            }}\r\n          >\r\n            Retreat to Cyber Map\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BossFight;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}