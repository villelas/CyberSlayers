{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frenz\\\\OneDrive\\\\Desktop\\\\CyberSlayers\\\\frontend\\\\src\\\\pages\\\\malware_analysis_lab.jsx\",\n  _s = $RefreshSig$();\n// GalagaGame.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DASHBOARD_ROUTE = '/dashboard';\nconst GAME_WIDTH = 600;\nconst GAME_HEIGHT = 700;\nconst PLAYER_WIDTH = 50;\nconst PLAYER_HEIGHT = 40;\nconst PLAYER_SPEED = 6;\nconst BULLET_WIDTH = 6;\nconst BULLET_HEIGHT = 16;\nconst BULLET_SPEED = 10;\nconst ENEMY_BULLET_SPEED = 5;\nconst ENEMY_WIDTH = 44;\nconst ENEMY_HEIGHT = 36;\nconst TICK_MS = 16;\nconst PLAYER_LIVES = 5;\n\n// Enemy types with different behaviors\nconst ENEMY_TYPES = {\n  MALWARE: {\n    name: 'ü¶†',\n    color: 'linear-gradient(135deg, #dc2626, #991b1b)',\n    border: '#ef4444',\n    points: 100,\n    speed: 2,\n    canShoot: false,\n    movement: 'zigzag'\n  },\n  PHISHING: {\n    name: 'üìß',\n    color: 'linear-gradient(135deg, #f59e0b, #d97706)',\n    border: '#fbbf24',\n    points: 150,\n    speed: 1.5,\n    canShoot: false,\n    movement: 'dive'\n  },\n  BAD_CONNECTION: {\n    name: 'üì°',\n    color: 'linear-gradient(135deg, #8b5cf6, #6d28d9)',\n    border: '#a78bfa',\n    points: 200,\n    speed: 1,\n    canShoot: true,\n    movement: 'standard'\n  },\n  MALICIOUS_ADS: {\n    name: 'üí∞',\n    color: 'linear-gradient(135deg, #f97316, #db2777)',\n    border: '#fb7185',\n    points: 250,\n    speed: 2.5,\n    canShoot: true,\n    movement: 'erratic'\n  }\n};\n\n// Wave configurations - Galaga-style grid formations\n// Each wave has rows that spawn from top to bottom\nconst WAVES = [{\n  name: 'Malware Outbreak',\n  rows: [{\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }]\n}, {\n  name: 'Phishing Campaign',\n  rows: [{\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }]\n}, {\n  name: 'Network Attack',\n  rows: [{\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }]\n}, {\n  name: 'Full Assault',\n  rows: [{\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'MALICIOUS_ADS',\n    count: 8\n  }, {\n    type: 'MALICIOUS_ADS',\n    count: 8\n  }]\n}];\nfunction WaveMeter({\n  currentWave,\n  totalWaves,\n  lives,\n  maxLives,\n  score\n}) {\n  const waveProgress = currentWave / totalWaves * 100;\n  const waveName = currentWave <= totalWaves ? WAVES[currentWave - 1].name : 'Complete';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: \"200px\",\n      padding: \"0.75rem\",\n      borderRadius: \"12px\",\n      border: \"1px solid rgba(148,163,184,0.6)\",\n      background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\n      boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: \"0.4rem\",\n      fontSize: \"0.85rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"0.5rem\",\n        marginBottom: \"0.15rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1.5rem\"\n        },\n        children: \"\\uD83D\\uDEE1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          lineHeight: 1.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"600\"\n          },\n          children: \"Security Defense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            opacity: 0.75,\n            fontSize: \"0.8rem\"\n          },\n          children: [\"Wave \", Math.min(currentWave, totalWaves), \" / \", totalWaves]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"5px\",\n        borderRadius: \"999px\",\n        overflow: \"hidden\",\n        background: \"rgba(30,64,175,0.65)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: `${waveProgress}%`,\n          height: \"100%\",\n          background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\",\n          transition: \"width 300ms ease\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"0.8rem\",\n        fontWeight: \"600\",\n        opacity: 0.9\n      },\n      children: waveName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.25rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.75rem\",\n          fontWeight: \"600\",\n          opacity: 0.9\n        },\n        children: \"Lives\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"0.2rem\",\n          flexWrap: \"wrap\"\n        },\n        children: Array.from({\n          length: maxLives\n        }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"26px\",\n            height: \"26px\",\n            borderRadius: \"5px\",\n            border: \"2px solid rgba(148,163,184,0.6)\",\n            background: i < lives ? \"linear-gradient(135deg, #38bdf8, #1e40af)\" : \"rgba(15,23,42,0.5)\",\n            boxShadow: i < lives ? \"0 0 8px rgba(56,189,248,0.5)\" : \"none\",\n            transition: \"all 200ms ease\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: \"1rem\"\n          },\n          children: i < lives ? 'üöÄ' : ''\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"0.25rem\",\n        padding: \"0.4rem\",\n        background: \"rgba(59,130,246,0.1)\",\n        borderRadius: \"6px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"600\"\n        },\n        children: [\"Score: \", score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: 0.7,\n          fontSize: \"0.7rem\"\n        },\n        children: \"Defend the network!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n\n// Explosion particle component\n_c = WaveMeter;\nfunction Explosion({\n  x,\n  y,\n  color\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'absolute',\n      left: x,\n      top: y,\n      width: ENEMY_WIDTH,\n      height: ENEMY_HEIGHT,\n      pointerEvents: 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '60px',\n        height: '60px',\n        borderRadius: '50%',\n        background: `radial-gradient(circle, ${color} 0%, transparent 70%)`,\n        animation: 'explosionFlash 300ms ease-out forwards'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), [...Array(8)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        background: color,\n        boxShadow: `0 0 10px ${color}`,\n        animation: `explosionParticle${i} 400ms ease-out forwards`\n      }\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes explosionFlash {\n          0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }\n          100% { opacity: 0; transform: translate(-50%, -50%) scale(2); }\n        }\n        @keyframes explosionParticle0 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 30px), calc(-50% + 0px)); }\n        }\n        @keyframes explosionParticle1 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + 21px)); }\n        }\n        @keyframes explosionParticle2 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + 30px)); }\n        }\n        @keyframes explosionParticle3 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + 21px)); }\n        }\n        @keyframes explosionParticle4 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -30px), calc(-50% + 0px)); }\n        }\n        @keyframes explosionParticle5 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + -21px)); }\n        }\n        @keyframes explosionParticle6 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + -30px)); }\n        }\n        @keyframes explosionParticle7 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + -21px)); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 182,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Explosion;\nfunction createWaveEnemies(waveIndex) {\n  // Guard against invalid wave index\n  if (waveIndex < 0 || waveIndex >= WAVES.length) {\n    return [];\n  }\n  const wave = WAVES[waveIndex];\n  const enemies = [];\n  let id = 0;\n  const rowHeight = 44;\n  const startY = 50;\n  wave.rows.forEach((row, rowIndex) => {\n    const type = ENEMY_TYPES[row.type];\n    const count = row.count;\n    const spacing = (GAME_WIDTH - 60) / count;\n    const startX = 30 + spacing / 2;\n    for (let col = 0; col < count; col++) {\n      enemies.push({\n        id: id++,\n        x: startX + col * spacing - ENEMY_WIDTH / 2,\n        y: startY + rowIndex * rowHeight,\n        type: row.type,\n        typeData: type,\n        alive: true,\n        moveTimer: 0,\n        shootTimer: Math.random() * 2000 + 1000,\n        diveTimer: Math.random() * 3000 + 2000,\n        isDiving: false\n      });\n    }\n  });\n  return enemies;\n}\nexport default function GalagaGame() {\n  _s();\n  const navigate = useNavigate();\n  const [playerX, setPlayerX] = useState(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\n  const [playerY, setPlayerY] = useState(GAME_HEIGHT - 80);\n  const [bullets, setBullets] = useState([]);\n  const [enemyBullets, setEnemyBullets] = useState([]);\n  const [enemies, setEnemies] = useState(() => createWaveEnemies(0));\n  const [explosions, setExplosions] = useState([]);\n  const [keys, setKeys] = useState({\n    left: false,\n    right: false,\n    up: false,\n    down: false,\n    shoot: false\n  });\n  const [gameState, setGameState] = useState('playing');\n  const [score, setScore] = useState(0);\n  const [lives, setLives] = useState(PLAYER_LIVES);\n  const [currentWave, setCurrentWave] = useState(1);\n  const [isInvulnerable, setIsInvulnerable] = useState(false);\n  const [waveTransition, setWaveTransition] = useState(false);\n  const lastShotTimeRef = useRef(0);\n  const shootCooldown = 250;\n  const playerXRef = useRef(playerX);\n  const playerYRef = useRef(playerY);\n  const explosionIdRef = useRef(0);\n  useEffect(() => {\n    playerXRef.current = playerX;\n    playerYRef.current = playerY;\n  }, [playerX, playerY]);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (gameState !== 'playing') return;\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          left: true\n        }));\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          right: true\n        }));\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          up: true\n        }));\n      } else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          down: true\n        }));\n      } else if (e.key === ' ') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          shoot: true\n        }));\n      }\n    };\n    const handleKeyUp = e => {\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') setKeys(k => ({\n        ...k,\n        left: false\n      }));else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') setKeys(k => ({\n        ...k,\n        right: false\n      }));else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') setKeys(k => ({\n        ...k,\n        up: false\n      }));else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') setKeys(k => ({\n        ...k,\n        down: false\n      }));else if (e.key === ' ') setKeys(k => ({\n        ...k,\n        shoot: false\n      }));\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [gameState]);\n\n  // Function to add explosion\n  const addExplosion = (x, y, color) => {\n    const id = explosionIdRef.current++;\n    setExplosions(prev => [...prev, {\n      id,\n      x,\n      y,\n      color\n    }]);\n    // Remove explosion after animation completes\n    setTimeout(() => {\n      setExplosions(prev => prev.filter(e => e.id !== id));\n    }, 400);\n  };\n\n  // Game loop\n  useEffect(() => {\n    if (gameState !== 'playing') return;\n    const interval = setInterval(() => {\n      // Move player\n      setPlayerX(prevX => {\n        let x = prevX;\n        if (keys.left && !keys.right) x -= PLAYER_SPEED;\n        if (keys.right && !keys.left) x += PLAYER_SPEED;\n        return Math.max(0, Math.min(x, GAME_WIDTH - PLAYER_WIDTH));\n      });\n      setPlayerY(prevY => {\n        let y = prevY;\n        if (keys.up && !keys.down) y -= PLAYER_SPEED;\n        if (keys.down && !keys.up) y += PLAYER_SPEED;\n        return Math.max(GAME_HEIGHT / 2, Math.min(y, GAME_HEIGHT - PLAYER_HEIGHT - 20));\n      });\n\n      // Player shooting\n      if (keys.shoot) {\n        const now = performance.now();\n        if (now - lastShotTimeRef.current > shootCooldown) {\n          lastShotTimeRef.current = now;\n          setBullets(prev => [...prev, {\n            x: playerXRef.current + PLAYER_WIDTH / 2 - BULLET_WIDTH / 2,\n            y: playerYRef.current - 10\n          }]);\n        }\n      }\n\n      // Move bullets\n      setBullets(prev => prev.map(b => ({\n        ...b,\n        y: b.y - BULLET_SPEED\n      })).filter(b => b.y > 0));\n      setEnemyBullets(prev => prev.map(b => ({\n        ...b,\n        y: b.y + ENEMY_BULLET_SPEED\n      })).filter(b => b.y < GAME_HEIGHT));\n\n      // Move and update enemies\n      setEnemies(prevEnemies => {\n        // Calculate global formation offset for synchronized movement\n        const formationOffsetX = Math.sin(Date.now() / 1500) * 30;\n        return prevEnemies.map((enemy, index) => {\n          if (!enemy.alive) return enemy;\n          let newX = enemy.x;\n          let newY = enemy.y;\n          let newMoveTimer = enemy.moveTimer + TICK_MS;\n          let newShootTimer = enemy.shootTimer - TICK_MS;\n          let newDiveTimer = enemy.diveTimer - TICK_MS;\n          let newIsDiving = enemy.isDiving;\n\n          // Store original grid position on first frame\n          if (enemy.baseX === undefined) {\n            enemy.baseX = enemy.x;\n            enemy.baseY = enemy.y;\n          }\n          if (newIsDiving) {\n            // Diving behavior - swoop toward player\n            newY += 5;\n            newX += (playerXRef.current - enemy.x) * 0.04;\n\n            // Reset after dive completes\n            if (newY > GAME_HEIGHT - 80) {\n              newIsDiving = false;\n              newDiveTimer = 3000 + Math.random() * 3000;\n              // Return to formation position\n              newX = enemy.baseX;\n              newY = enemy.baseY;\n            }\n          } else {\n            // Formation movement - all enemies sway together\n            newX = enemy.baseX + formationOffsetX;\n\n            // Add slight individual movement based on type\n            if (enemy.typeData.movement === 'zigzag') {\n              newX += Math.sin(Date.now() / 300 + index) * 3;\n            } else if (enemy.typeData.movement === 'erratic') {\n              newX += Math.sin(Date.now() / 200 + index * 0.5) * 5;\n              newY = enemy.baseY + Math.sin(Date.now() / 400 + index) * 3;\n            }\n\n            // Chance to start diving\n            if (newDiveTimer <= 0 && Math.random() < 0.003) {\n              newIsDiving = true;\n              newDiveTimer = 4000;\n            }\n          }\n\n          // Keep in horizontal bounds\n          newX = Math.max(10, Math.min(newX, GAME_WIDTH - ENEMY_WIDTH - 10));\n\n          // Enemy shooting (only when not diving)\n          if (enemy.typeData.canShoot && newShootTimer <= 0 && !newIsDiving) {\n            setEnemyBullets(prev => [...prev, {\n              x: enemy.x + ENEMY_WIDTH / 2 - BULLET_WIDTH / 2,\n              y: enemy.y + ENEMY_HEIGHT\n            }]);\n            newShootTimer = 2000 + Math.random() * 2000;\n          }\n          return {\n            ...enemy,\n            x: newX,\n            y: newY,\n            baseX: enemy.baseX,\n            baseY: enemy.baseY,\n            moveTimer: newMoveTimer,\n            shootTimer: newShootTimer,\n            diveTimer: newDiveTimer,\n            isDiving: newIsDiving\n          };\n        });\n      });\n\n      // Bullet collisions\n      setBullets(prevBullets => {\n        let updatedEnemies = [...enemies];\n        let updatedBullets = [...prevBullets];\n        let hits = false;\n        let explosionsToAdd = [];\n        updatedBullets.forEach((bullet, bulletIndex) => {\n          if (!bullet) return;\n          updatedEnemies.forEach((enemy, enemyIndex) => {\n            if (!enemy.alive) return;\n            if (bullet.x < enemy.x + ENEMY_WIDTH && bullet.x + BULLET_WIDTH > enemy.x && bullet.y < enemy.y + ENEMY_HEIGHT && bullet.y + BULLET_HEIGHT > enemy.y) {\n              explosionsToAdd.push({\n                x: enemy.x,\n                y: enemy.y,\n                color: enemy.typeData.border\n              });\n              updatedEnemies[enemyIndex] = {\n                ...enemy,\n                alive: false\n              };\n              updatedBullets[bulletIndex] = null;\n              setScore(prev => prev + enemy.typeData.points);\n              hits = true;\n            }\n          });\n        });\n        if (hits) {\n          setEnemies(updatedEnemies);\n          explosionsToAdd.forEach(exp => addExplosion(exp.x, exp.y, exp.color));\n        }\n\n        // Check wave completion\n        const aliveCount = updatedEnemies.filter(e => e.alive).length;\n        if (aliveCount === 0 && !waveTransition) {\n          setWaveTransition(true);\n          if (currentWave < WAVES.length) {\n            // Calculate next wave index here, before the timeout\n            const nextWaveIndex = currentWave; // currentWave is 1-indexed, so this gives us the next 0-indexed wave\n            setTimeout(() => {\n              setCurrentWave(currentWave + 1);\n              setEnemies(createWaveEnemies(nextWaveIndex));\n              setWaveTransition(false);\n            }, 1000);\n          } else {\n            setGameState('win');\n          }\n        }\n        return updatedBullets.filter(b => b !== null);\n      });\n\n      // Player collision with enemy bullets\n      if (!isInvulnerable) {\n        setEnemyBullets(prevBullets => {\n          let hit = false;\n          const filtered = prevBullets.filter(bullet => {\n            if (bullet.x < playerXRef.current + PLAYER_WIDTH && bullet.x + BULLET_WIDTH > playerXRef.current && bullet.y < playerYRef.current + PLAYER_HEIGHT && bullet.y + BULLET_HEIGHT > playerYRef.current) {\n              hit = true;\n              return false;\n            }\n            return true;\n          });\n          if (hit) {\n            setLives(prev => {\n              const newLives = prev - 1;\n              if (newLives <= 0) setGameState('lose');\n              return newLives;\n            });\n            setIsInvulnerable(true);\n            setTimeout(() => setIsInvulnerable(false), 2000);\n          }\n          return filtered;\n        });\n      }\n\n      // Player collision with enemies\n      if (!isInvulnerable) {\n        const playerCollision = enemies.some(enemy => {\n          if (!enemy.alive) return false;\n          return playerXRef.current < enemy.x + ENEMY_WIDTH && playerXRef.current + PLAYER_WIDTH > enemy.x && playerYRef.current < enemy.y + ENEMY_HEIGHT && playerYRef.current + PLAYER_HEIGHT > enemy.y;\n        });\n        if (playerCollision) {\n          setLives(prev => {\n            const newLives = prev - 1;\n            if (newLives <= 0) setGameState('lose');\n            return newLives;\n          });\n          setIsInvulnerable(true);\n          setTimeout(() => setIsInvulnerable(false), 2000);\n        }\n      }\n    }, TICK_MS);\n    return () => clearInterval(interval);\n  }, [keys, gameState, enemies, currentWave, isInvulnerable, waveTransition]);\n  const handleRestart = () => {\n    setPlayerX(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\n    setPlayerY(GAME_HEIGHT - 80);\n    setBullets([]);\n    setEnemyBullets([]);\n    setEnemies(createWaveEnemies(0));\n    setExplosions([]);\n    setGameState('playing');\n    setScore(0);\n    setLives(PLAYER_LIVES);\n    setCurrentWave(1);\n    setIsInvulnerable(false);\n    setWaveTransition(false);\n    lastShotTimeRef.current = 0;\n  };\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%)',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: 'white',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      padding: '1rem',\n      gap: '0.75rem',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleExit,\n      style: {\n        position: 'absolute',\n        top: '0.75rem',\n        right: '0.75rem',\n        background: 'rgba(0,0,0,0.6)',\n        borderRadius: '999px',\n        border: '1px solid rgba(255,255,255,0.3)',\n        color: 'white',\n        padding: '0.4rem 0.8rem',\n        cursor: 'pointer',\n        fontSize: '0.85rem',\n        fontWeight: '500'\n      },\n      children: \"\\u2715 Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: '1.8rem',\n        textAlign: 'center',\n        margin: 0\n      },\n      children: \"\\uD83D\\uDEE1\\uFE0F Cyber Defense Force\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        opacity: 0.8,\n        textAlign: 'center',\n        maxWidth: 500,\n        fontSize: '0.85rem',\n        margin: 0\n      },\n      children: [\"Move with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"WASD / Arrows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 19\n      }, this), \", shoot with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Space\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 622,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        alignItems: 'flex-start',\n        flexWrap: 'wrap',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          width: GAME_WIDTH,\n          height: GAME_HEIGHT,\n          background: 'linear-gradient(180deg, #020617 0%, #020617 60%, #000 100%)',\n          border: '3px solid #4b5563',\n          borderRadius: '10px',\n          overflow: 'hidden',\n          boxShadow: '0 0 24px rgba(0,0,0,0.9)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: PLAYER_WIDTH,\n            height: PLAYER_HEIGHT,\n            left: playerX,\n            top: playerY,\n            background: 'linear-gradient(135deg, #38bdf8, #1e40af)',\n            borderRadius: '8px',\n            boxShadow: isInvulnerable ? '0 0 30px rgba(239,68,68,0.9)' : '0 0 20px rgba(56,189,248,0.9)',\n            border: '2px solid #0ea5e9',\n            opacity: isInvulnerable && Date.now() % 200 < 100 ? 0.5 : 1,\n            transition: 'opacity 100ms'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 0,\n              height: 0,\n              borderLeft: `${PLAYER_WIDTH / 2}px solid transparent`,\n              borderRight: `${PLAYER_WIDTH / 2}px solid transparent`,\n              borderBottom: '14px solid #bfdbfe',\n              position: 'absolute',\n              top: -14,\n              left: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this), bullets.map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: BULLET_WIDTH,\n            height: BULLET_HEIGHT,\n            left: b.x,\n            top: b.y,\n            background: 'linear-gradient(180deg, #facc15, #f97316)',\n            boxShadow: '0 0 12px rgba(250,204,21,0.95)',\n            borderRadius: '999px'\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this)), enemyBullets.map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: BULLET_WIDTH,\n            height: BULLET_HEIGHT,\n            left: b.x,\n            top: b.y,\n            background: 'linear-gradient(180deg, #dc2626, #991b1b)',\n            boxShadow: '0 0 12px rgba(220,38,38,0.95)',\n            borderRadius: '999px'\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this)), enemies.map(e => e.alive && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: ENEMY_WIDTH,\n            height: ENEMY_HEIGHT,\n            left: e.x,\n            top: e.y,\n            background: e.typeData.color,\n            borderRadius: '6px',\n            border: `2px solid ${e.typeData.border}`,\n            boxShadow: `0 0 14px ${e.typeData.border}99`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '1.6rem'\n          },\n          children: e.typeData.name\n        }, e.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 13\n        }, this)), explosions.map(exp => /*#__PURE__*/_jsxDEV(Explosion, {\n          x: exp.x,\n          y: exp.y,\n          color: exp.color\n        }, exp.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this)), waveTransition && gameState === 'playing' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(0,0,0,0.6)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: 'bold',\n              animation: 'pulse 0.5s ease-in-out infinite'\n            },\n            children: [\"Wave \", currentWave + 1, \" incoming...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 13\n        }, this), gameState !== 'playing' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(0,0,0,0.85)',\n            backdropFilter: 'blur(4px)',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.75rem',\n            textAlign: 'center',\n            padding: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.6rem',\n              margin: 0\n            },\n            children: gameState === 'win' ? 'üéâ NETWORK SECURED!' : 'üíÄ SYSTEM COMPROMISED'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              opacity: 0.9,\n              fontSize: '0.95rem',\n              maxWidth: '350px',\n              margin: 0\n            },\n            children: gameState === 'win' ? 'All cyber threats eliminated!' : 'The threats breached your defenses.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.1rem',\n              fontWeight: 'bold'\n            },\n            children: [\"Final Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '0.5rem',\n              marginTop: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRestart,\n              style: {\n                padding: '0.6rem 1.2rem',\n                borderRadius: '999px',\n                border: 'none',\n                background: 'linear-gradient(135deg, #3b82f6, #1e40af)',\n                color: 'white',\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)'\n              },\n              children: \"Play Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 674,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExit,\n              style: {\n                padding: '0.6rem 1.2rem',\n                borderRadius: '999px',\n                border: '1px solid rgba(148,163,184,0.6)',\n                background: 'rgba(15,23,42,0.9)',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '0.9rem'\n              },\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 675,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WaveMeter, {\n        currentWave: currentWave,\n        totalWaves: WAVES.length,\n        lives: lives,\n        maxLives: PLAYER_LIVES,\n        score: score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 626,\n      columnNumber: 7\n    }, this), gameState === 'playing' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRestart,\n      style: {\n        padding: '0.4rem 1rem',\n        borderRadius: '999px',\n        border: '1px solid rgba(148,163,184,0.6)',\n        background: 'rgba(15,23,42,0.7)',\n        color: 'white',\n        fontSize: '0.85rem',\n        cursor: 'pointer'\n      },\n      children: \"Restart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 685,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 688,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 618,\n    columnNumber: 5\n  }, this);\n}\n_s(GalagaGame, \"UPBJ9MCMflphSvOy3GKx2OwdUhg=\", false, function () {\n  return [useNavigate];\n});\n_c3 = GalagaGame;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"WaveMeter\");\n$RefreshReg$(_c2, \"Explosion\");\n$RefreshReg$(_c3, \"GalagaGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","DASHBOARD_ROUTE","GAME_WIDTH","GAME_HEIGHT","PLAYER_WIDTH","PLAYER_HEIGHT","PLAYER_SPEED","BULLET_WIDTH","BULLET_HEIGHT","BULLET_SPEED","ENEMY_BULLET_SPEED","ENEMY_WIDTH","ENEMY_HEIGHT","TICK_MS","PLAYER_LIVES","ENEMY_TYPES","MALWARE","name","color","border","points","speed","canShoot","movement","PHISHING","BAD_CONNECTION","MALICIOUS_ADS","WAVES","rows","type","count","WaveMeter","currentWave","totalWaves","lives","maxLives","score","waveProgress","waveName","style","minWidth","padding","borderRadius","background","boxShadow","display","flexDirection","gap","fontSize","children","alignItems","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","lineHeight","fontWeight","opacity","Math","min","height","overflow","width","transition","flexWrap","Array","from","length","map","_","i","justifyContent","marginTop","_c","Explosion","x","y","position","left","top","pointerEvents","transform","animation","_c2","createWaveEnemies","waveIndex","wave","enemies","id","rowHeight","startY","forEach","row","rowIndex","spacing","startX","col","push","typeData","alive","moveTimer","shootTimer","random","diveTimer","isDiving","GalagaGame","_s","navigate","playerX","setPlayerX","playerY","setPlayerY","bullets","setBullets","enemyBullets","setEnemyBullets","setEnemies","explosions","setExplosions","keys","setKeys","right","up","down","shoot","gameState","setGameState","setScore","setLives","setCurrentWave","isInvulnerable","setIsInvulnerable","waveTransition","setWaveTransition","lastShotTimeRef","shootCooldown","playerXRef","playerYRef","explosionIdRef","current","handleKeyDown","e","key","preventDefault","k","handleKeyUp","window","addEventListener","removeEventListener","addExplosion","prev","setTimeout","filter","interval","setInterval","prevX","max","prevY","now","performance","b","prevEnemies","formationOffsetX","sin","Date","enemy","index","newX","newY","newMoveTimer","newShootTimer","newDiveTimer","newIsDiving","baseX","undefined","baseY","prevBullets","updatedEnemies","updatedBullets","hits","explosionsToAdd","bullet","bulletIndex","enemyIndex","exp","aliveCount","nextWaveIndex","hit","filtered","newLives","playerCollision","some","clearInterval","handleRestart","handleExit","minHeight","fontFamily","onClick","cursor","textAlign","margin","maxWidth","borderLeft","borderRight","borderBottom","inset","backdropFilter","_c3","$RefreshReg$"],"sources":["C:/Users/frenz/OneDrive/Desktop/CyberSlayers/frontend/src/pages/malware_analysis_lab.jsx"],"sourcesContent":["// GalagaGame.jsx\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DASHBOARD_ROUTE = '/dashboard';\r\n\r\nconst GAME_WIDTH = 600;\r\nconst GAME_HEIGHT = 700;\r\n\r\nconst PLAYER_WIDTH = 50;\r\nconst PLAYER_HEIGHT = 40;\r\nconst PLAYER_SPEED = 6;\r\n\r\nconst BULLET_WIDTH = 6;\r\nconst BULLET_HEIGHT = 16;\r\nconst BULLET_SPEED = 10;\r\nconst ENEMY_BULLET_SPEED = 5;\r\n\r\nconst ENEMY_WIDTH = 44;\r\nconst ENEMY_HEIGHT = 36;\r\n\r\nconst TICK_MS = 16;\r\nconst PLAYER_LIVES = 5;\r\n\r\n// Enemy types with different behaviors\r\nconst ENEMY_TYPES = {\r\n  MALWARE: {\r\n    name: 'ü¶†',\r\n    color: 'linear-gradient(135deg, #dc2626, #991b1b)',\r\n    border: '#ef4444',\r\n    points: 100,\r\n    speed: 2,\r\n    canShoot: false,\r\n    movement: 'zigzag'\r\n  },\r\n  PHISHING: {\r\n    name: 'üìß',\r\n    color: 'linear-gradient(135deg, #f59e0b, #d97706)',\r\n    border: '#fbbf24',\r\n    points: 150,\r\n    speed: 1.5,\r\n    canShoot: false,\r\n    movement: 'dive'\r\n  },\r\n  BAD_CONNECTION: {\r\n    name: 'üì°',\r\n    color: 'linear-gradient(135deg, #8b5cf6, #6d28d9)',\r\n    border: '#a78bfa',\r\n    points: 200,\r\n    speed: 1,\r\n    canShoot: true,\r\n    movement: 'standard'\r\n  },\r\n  MALICIOUS_ADS: {\r\n    name: 'üí∞',\r\n    color: 'linear-gradient(135deg, #f97316, #db2777)',\r\n    border: '#fb7185',\r\n    points: 250,\r\n    speed: 2.5,\r\n    canShoot: true,\r\n    movement: 'erratic'\r\n  }\r\n};\r\n\r\n// Wave configurations - Galaga-style grid formations\r\n// Each wave has rows that spawn from top to bottom\r\nconst WAVES = [\r\n  {\r\n    name: 'Malware Outbreak',\r\n    rows: [\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Phishing Campaign',\r\n    rows: [\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Network Attack',\r\n    rows: [\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Full Assault',\r\n    rows: [\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'MALICIOUS_ADS', count: 8 },\r\n      { type: 'MALICIOUS_ADS', count: 8 },\r\n    ]\r\n  }\r\n];\r\n\r\nfunction WaveMeter({ currentWave, totalWaves, lives, maxLives, score }) {\r\n  const waveProgress = ((currentWave) / totalWaves) * 100;\r\n  const waveName = currentWave <= totalWaves ? WAVES[currentWave - 1].name : 'Complete';\r\n\r\n  return (\r\n    <div style={{\r\n        minWidth: \"200px\",\r\n        padding: \"0.75rem\",\r\n        borderRadius: \"12px\",\r\n        border: \"1px solid rgba(148,163,184,0.6)\",\r\n        background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\r\n        boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"0.4rem\",\r\n        fontSize: \"0.85rem\",\r\n      }}\r\n    >\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", marginBottom: \"0.15rem\" }}>\r\n        <span style={{ fontSize: \"1.5rem\" }}>üõ°Ô∏è</span>\r\n        <div style={{ lineHeight: 1.2 }}>\r\n          <div style={{ fontWeight: \"600\" }}>Security Defense</div>\r\n          <div style={{ opacity: 0.75, fontSize: \"0.8rem\" }}>Wave {Math.min(currentWave, totalWaves)} / {totalWaves}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ height: \"5px\", borderRadius: \"999px\", overflow: \"hidden\", background: \"rgba(30,64,175,0.65)\" }}>\r\n        <div style={{ width: `${waveProgress}%`, height: \"100%\", background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\", transition: \"width 300ms ease\" }} />\r\n      </div>\r\n\r\n      <div style={{ fontSize: \"0.8rem\", fontWeight: \"600\", opacity: 0.9 }}>\r\n        {waveName}\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"0.25rem\" }}>\r\n        <div style={{ fontSize: \"0.75rem\", fontWeight: \"600\", opacity: 0.9 }}>Lives</div>\r\n        <div style={{ display: \"flex\", gap: \"0.2rem\", flexWrap: \"wrap\" }}>\r\n          {Array.from({ length: maxLives }).map((_, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                width: \"26px\",\r\n                height: \"26px\",\r\n                borderRadius: \"5px\",\r\n                border: \"2px solid rgba(148,163,184,0.6)\",\r\n                background: i < lives ? \"linear-gradient(135deg, #38bdf8, #1e40af)\" : \"rgba(15,23,42,0.5)\",\r\n                boxShadow: i < lives ? \"0 0 8px rgba(56,189,248,0.5)\" : \"none\",\r\n                transition: \"all 200ms ease\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: \"1rem\",\r\n              }}\r\n            >\r\n              {i < lives ? 'üöÄ' : ''}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"0.25rem\", padding: \"0.4rem\", background: \"rgba(59,130,246,0.1)\", borderRadius: \"6px\" }}>\r\n        <div style={{ fontWeight: \"600\" }}>Score: {score}</div>\r\n        <div style={{ opacity: 0.7, fontSize: \"0.7rem\" }}>Defend the network!</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Explosion particle component\r\nfunction Explosion({ x, y, color }) {\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      left: x,\r\n      top: y,\r\n      width: ENEMY_WIDTH,\r\n      height: ENEMY_HEIGHT,\r\n      pointerEvents: 'none',\r\n    }}>\r\n      {/* Central flash */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        left: '50%',\r\n        top: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '60px',\r\n        height: '60px',\r\n        borderRadius: '50%',\r\n        background: `radial-gradient(circle, ${color} 0%, transparent 70%)`,\r\n        animation: 'explosionFlash 300ms ease-out forwards',\r\n      }} />\r\n      {/* Particles */}\r\n      {[...Array(8)].map((_, i) => (\r\n        <div\r\n          key={i}\r\n          style={{\r\n            position: 'absolute',\r\n            left: '50%',\r\n            top: '50%',\r\n            width: '8px',\r\n            height: '8px',\r\n            borderRadius: '50%',\r\n            background: color,\r\n            boxShadow: `0 0 10px ${color}`,\r\n            animation: `explosionParticle${i} 400ms ease-out forwards`,\r\n          }}\r\n        />\r\n      ))}\r\n      <style>{`\r\n        @keyframes explosionFlash {\r\n          0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }\r\n          100% { opacity: 0; transform: translate(-50%, -50%) scale(2); }\r\n        }\r\n        @keyframes explosionParticle0 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 30px), calc(-50% + 0px)); }\r\n        }\r\n        @keyframes explosionParticle1 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + 21px)); }\r\n        }\r\n        @keyframes explosionParticle2 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + 30px)); }\r\n        }\r\n        @keyframes explosionParticle3 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + 21px)); }\r\n        }\r\n        @keyframes explosionParticle4 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -30px), calc(-50% + 0px)); }\r\n        }\r\n        @keyframes explosionParticle5 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + -21px)); }\r\n        }\r\n        @keyframes explosionParticle6 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + -30px)); }\r\n        }\r\n        @keyframes explosionParticle7 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + -21px)); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction createWaveEnemies(waveIndex) {\r\n  // Guard against invalid wave index\r\n  if (waveIndex < 0 || waveIndex >= WAVES.length) {\r\n    return [];\r\n  }\r\n  \r\n  const wave = WAVES[waveIndex];\r\n  const enemies = [];\r\n  let id = 0;\r\n  \r\n  const rowHeight = 44;\r\n  const startY = 50;\r\n  \r\n  wave.rows.forEach((row, rowIndex) => {\r\n    const type = ENEMY_TYPES[row.type];\r\n    const count = row.count;\r\n    const spacing = (GAME_WIDTH - 60) / count;\r\n    const startX = 30 + spacing / 2;\r\n    \r\n    for (let col = 0; col < count; col++) {\r\n      enemies.push({\r\n        id: id++,\r\n        x: startX + col * spacing - ENEMY_WIDTH / 2,\r\n        y: startY + rowIndex * rowHeight,\r\n        type: row.type,\r\n        typeData: type,\r\n        alive: true,\r\n        moveTimer: 0,\r\n        shootTimer: Math.random() * 2000 + 1000,\r\n        diveTimer: Math.random() * 3000 + 2000,\r\n        isDiving: false\r\n      });\r\n    }\r\n  });\r\n\r\n  return enemies;\r\n}\r\n\r\nexport default function GalagaGame() {\r\n  const navigate = useNavigate();\r\n\r\n  const [playerX, setPlayerX] = useState(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\r\n  const [playerY, setPlayerY] = useState(GAME_HEIGHT - 80);\r\n  const [bullets, setBullets] = useState([]);\r\n  const [enemyBullets, setEnemyBullets] = useState([]);\r\n  const [enemies, setEnemies] = useState(() => createWaveEnemies(0));\r\n  const [explosions, setExplosions] = useState([]);\r\n  const [keys, setKeys] = useState({ left: false, right: false, up: false, down: false, shoot: false });\r\n  const [gameState, setGameState] = useState('playing');\r\n  const [score, setScore] = useState(0);\r\n  const [lives, setLives] = useState(PLAYER_LIVES);\r\n  const [currentWave, setCurrentWave] = useState(1);\r\n  const [isInvulnerable, setIsInvulnerable] = useState(false);\r\n  const [waveTransition, setWaveTransition] = useState(false);\r\n\r\n  const lastShotTimeRef = useRef(0);\r\n  const shootCooldown = 250;\r\n  const playerXRef = useRef(playerX);\r\n  const playerYRef = useRef(playerY);\r\n  const explosionIdRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    playerXRef.current = playerX;\r\n    playerYRef.current = playerY;\r\n  }, [playerX, playerY]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (gameState !== 'playing') return;\r\n      \r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, left: true }));\r\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, right: true }));\r\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, up: true }));\r\n      } else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, down: true }));\r\n      } else if (e.key === ' ') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, shoot: true }));\r\n      }\r\n    };\r\n\r\n    const handleKeyUp = (e) => {\r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') setKeys((k) => ({ ...k, left: false }));\r\n      else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') setKeys((k) => ({ ...k, right: false }));\r\n      else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') setKeys((k) => ({ ...k, up: false }));\r\n      else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') setKeys((k) => ({ ...k, down: false }));\r\n      else if (e.key === ' ') setKeys((k) => ({ ...k, shoot: false }));\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [gameState]);\r\n\r\n  // Function to add explosion\r\n  const addExplosion = (x, y, color) => {\r\n    const id = explosionIdRef.current++;\r\n    setExplosions(prev => [...prev, { id, x, y, color }]);\r\n    // Remove explosion after animation completes\r\n    setTimeout(() => {\r\n      setExplosions(prev => prev.filter(e => e.id !== id));\r\n    }, 400);\r\n  };\r\n\r\n  // Game loop\r\n  useEffect(() => {\r\n    if (gameState !== 'playing') return;\r\n\r\n    const interval = setInterval(() => {\r\n      // Move player\r\n      setPlayerX((prevX) => {\r\n        let x = prevX;\r\n        if (keys.left && !keys.right) x -= PLAYER_SPEED;\r\n        if (keys.right && !keys.left) x += PLAYER_SPEED;\r\n        return Math.max(0, Math.min(x, GAME_WIDTH - PLAYER_WIDTH));\r\n      });\r\n\r\n      setPlayerY((prevY) => {\r\n        let y = prevY;\r\n        if (keys.up && !keys.down) y -= PLAYER_SPEED;\r\n        if (keys.down && !keys.up) y += PLAYER_SPEED;\r\n        return Math.max(GAME_HEIGHT / 2, Math.min(y, GAME_HEIGHT - PLAYER_HEIGHT - 20));\r\n      });\r\n\r\n      // Player shooting\r\n      if (keys.shoot) {\r\n        const now = performance.now();\r\n        if (now - lastShotTimeRef.current > shootCooldown) {\r\n          lastShotTimeRef.current = now;\r\n          setBullets((prev) => [...prev, {\r\n            x: playerXRef.current + PLAYER_WIDTH / 2 - BULLET_WIDTH / 2,\r\n            y: playerYRef.current - 10\r\n          }]);\r\n        }\r\n      }\r\n\r\n      // Move bullets\r\n      setBullets((prev) => prev.map((b) => ({ ...b, y: b.y - BULLET_SPEED })).filter((b) => b.y > 0));\r\n      setEnemyBullets((prev) => prev.map((b) => ({ ...b, y: b.y + ENEMY_BULLET_SPEED })).filter((b) => b.y < GAME_HEIGHT));\r\n\r\n      // Move and update enemies\r\n      setEnemies((prevEnemies) => {\r\n        // Calculate global formation offset for synchronized movement\r\n        const formationOffsetX = Math.sin(Date.now() / 1500) * 30;\r\n        \r\n        return prevEnemies.map((enemy, index) => {\r\n          if (!enemy.alive) return enemy;\r\n\r\n          let newX = enemy.x;\r\n          let newY = enemy.y;\r\n          let newMoveTimer = enemy.moveTimer + TICK_MS;\r\n          let newShootTimer = enemy.shootTimer - TICK_MS;\r\n          let newDiveTimer = enemy.diveTimer - TICK_MS;\r\n          let newIsDiving = enemy.isDiving;\r\n          \r\n          // Store original grid position on first frame\r\n          if (enemy.baseX === undefined) {\r\n            enemy.baseX = enemy.x;\r\n            enemy.baseY = enemy.y;\r\n          }\r\n\r\n          if (newIsDiving) {\r\n            // Diving behavior - swoop toward player\r\n            newY += 5;\r\n            newX += (playerXRef.current - enemy.x) * 0.04;\r\n            \r\n            // Reset after dive completes\r\n            if (newY > GAME_HEIGHT - 80) {\r\n              newIsDiving = false;\r\n              newDiveTimer = 3000 + Math.random() * 3000;\r\n              // Return to formation position\r\n              newX = enemy.baseX;\r\n              newY = enemy.baseY;\r\n            }\r\n          } else {\r\n            // Formation movement - all enemies sway together\r\n            newX = enemy.baseX + formationOffsetX;\r\n            \r\n            // Add slight individual movement based on type\r\n            if (enemy.typeData.movement === 'zigzag') {\r\n              newX += Math.sin(Date.now() / 300 + index) * 3;\r\n            } else if (enemy.typeData.movement === 'erratic') {\r\n              newX += Math.sin(Date.now() / 200 + index * 0.5) * 5;\r\n              newY = enemy.baseY + Math.sin(Date.now() / 400 + index) * 3;\r\n            }\r\n            \r\n            // Chance to start diving\r\n            if (newDiveTimer <= 0 && Math.random() < 0.003) {\r\n              newIsDiving = true;\r\n              newDiveTimer = 4000;\r\n            }\r\n          }\r\n\r\n          // Keep in horizontal bounds\r\n          newX = Math.max(10, Math.min(newX, GAME_WIDTH - ENEMY_WIDTH - 10));\r\n\r\n          // Enemy shooting (only when not diving)\r\n          if (enemy.typeData.canShoot && newShootTimer <= 0 && !newIsDiving) {\r\n            setEnemyBullets((prev) => [...prev, {\r\n              x: enemy.x + ENEMY_WIDTH / 2 - BULLET_WIDTH / 2,\r\n              y: enemy.y + ENEMY_HEIGHT\r\n            }]);\r\n            newShootTimer = 2000 + Math.random() * 2000;\r\n          }\r\n\r\n          return {\r\n            ...enemy,\r\n            x: newX,\r\n            y: newY,\r\n            baseX: enemy.baseX,\r\n            baseY: enemy.baseY,\r\n            moveTimer: newMoveTimer,\r\n            shootTimer: newShootTimer,\r\n            diveTimer: newDiveTimer,\r\n            isDiving: newIsDiving\r\n          };\r\n        });\r\n      });\r\n\r\n      // Bullet collisions\r\n      setBullets((prevBullets) => {\r\n        let updatedEnemies = [...enemies];\r\n        let updatedBullets = [...prevBullets];\r\n        let hits = false;\r\n        let explosionsToAdd = [];\r\n\r\n        updatedBullets.forEach((bullet, bulletIndex) => {\r\n          if (!bullet) return;\r\n          updatedEnemies.forEach((enemy, enemyIndex) => {\r\n            if (!enemy.alive) return;\r\n            if (bullet.x < enemy.x + ENEMY_WIDTH &&\r\n                bullet.x + BULLET_WIDTH > enemy.x &&\r\n                bullet.y < enemy.y + ENEMY_HEIGHT &&\r\n                bullet.y + BULLET_HEIGHT > enemy.y) {\r\n              explosionsToAdd.push({\r\n                x: enemy.x,\r\n                y: enemy.y,\r\n                color: enemy.typeData.border\r\n              });\r\n              updatedEnemies[enemyIndex] = { ...enemy, alive: false };\r\n              updatedBullets[bulletIndex] = null;\r\n              setScore((prev) => prev + enemy.typeData.points);\r\n              hits = true;\r\n            }\r\n          });\r\n        });\r\n\r\n        if (hits) {\r\n          setEnemies(updatedEnemies);\r\n          explosionsToAdd.forEach(exp => addExplosion(exp.x, exp.y, exp.color));\r\n        }\r\n        \r\n        // Check wave completion\r\n        const aliveCount = updatedEnemies.filter((e) => e.alive).length;\r\n        if (aliveCount === 0 && !waveTransition) {\r\n          setWaveTransition(true);\r\n          if (currentWave < WAVES.length) {\r\n            // Calculate next wave index here, before the timeout\r\n            const nextWaveIndex = currentWave; // currentWave is 1-indexed, so this gives us the next 0-indexed wave\r\n            setTimeout(() => {\r\n              setCurrentWave(currentWave + 1);\r\n              setEnemies(createWaveEnemies(nextWaveIndex));\r\n              setWaveTransition(false);\r\n            }, 1000);\r\n          } else {\r\n            setGameState('win');\r\n          }\r\n        }\r\n\r\n        return updatedBullets.filter((b) => b !== null);\r\n      });\r\n\r\n      // Player collision with enemy bullets\r\n      if (!isInvulnerable) {\r\n        setEnemyBullets((prevBullets) => {\r\n          let hit = false;\r\n          const filtered = prevBullets.filter((bullet) => {\r\n            if (bullet.x < playerXRef.current + PLAYER_WIDTH &&\r\n                bullet.x + BULLET_WIDTH > playerXRef.current &&\r\n                bullet.y < playerYRef.current + PLAYER_HEIGHT &&\r\n                bullet.y + BULLET_HEIGHT > playerYRef.current) {\r\n              hit = true;\r\n              return false;\r\n            }\r\n            return true;\r\n          });\r\n\r\n          if (hit) {\r\n            setLives((prev) => {\r\n              const newLives = prev - 1;\r\n              if (newLives <= 0) setGameState('lose');\r\n              return newLives;\r\n            });\r\n            setIsInvulnerable(true);\r\n            setTimeout(() => setIsInvulnerable(false), 2000);\r\n          }\r\n\r\n          return filtered;\r\n        });\r\n      }\r\n\r\n      // Player collision with enemies\r\n      if (!isInvulnerable) {\r\n        const playerCollision = enemies.some((enemy) => {\r\n          if (!enemy.alive) return false;\r\n          return (\r\n            playerXRef.current < enemy.x + ENEMY_WIDTH &&\r\n            playerXRef.current + PLAYER_WIDTH > enemy.x &&\r\n            playerYRef.current < enemy.y + ENEMY_HEIGHT &&\r\n            playerYRef.current + PLAYER_HEIGHT > enemy.y\r\n          );\r\n        });\r\n\r\n        if (playerCollision) {\r\n          setLives((prev) => {\r\n            const newLives = prev - 1;\r\n            if (newLives <= 0) setGameState('lose');\r\n            return newLives;\r\n          });\r\n          setIsInvulnerable(true);\r\n          setTimeout(() => setIsInvulnerable(false), 2000);\r\n        }\r\n      }\r\n    }, TICK_MS);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [keys, gameState, enemies, currentWave, isInvulnerable, waveTransition]);\r\n\r\n  const handleRestart = () => {\r\n    setPlayerX(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\r\n    setPlayerY(GAME_HEIGHT - 80);\r\n    setBullets([]);\r\n    setEnemyBullets([]);\r\n    setEnemies(createWaveEnemies(0));\r\n    setExplosions([]);\r\n    setGameState('playing');\r\n    setScore(0);\r\n    setLives(PLAYER_LIVES);\r\n    setCurrentWave(1);\r\n    setIsInvulnerable(false);\r\n    setWaveTransition(false);\r\n    lastShotTimeRef.current = 0;\r\n  };\r\n\r\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', background: 'radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', color: 'white', fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif', padding: '1rem', gap: '0.75rem', position: 'relative' }}>\r\n      <button onClick={handleExit} style={{ position: 'absolute', top: '0.75rem', right: '0.75rem', background: 'rgba(0,0,0,0.6)', borderRadius: '999px', border: '1px solid rgba(255,255,255,0.3)', color: 'white', padding: '0.4rem 0.8rem', cursor: 'pointer', fontSize: '0.85rem', fontWeight: '500' }}>‚úï Exit</button>\r\n\r\n      <h1 style={{ fontSize: '1.8rem', textAlign: 'center', margin: 0 }}>üõ°Ô∏è Cyber Defense Force</h1>\r\n      <p style={{ opacity: 0.8, textAlign: 'center', maxWidth: 500, fontSize: '0.85rem', margin: 0 }}>\r\n        Move with <strong>WASD / Arrows</strong>, shoot with <strong>Space</strong>\r\n      </p>\r\n\r\n      <div style={{ display: 'flex', gap: '1rem', alignItems: 'flex-start', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n        <div style={{ position: 'relative', width: GAME_WIDTH, height: GAME_HEIGHT, background: 'linear-gradient(180deg, #020617 0%, #020617 60%, #000 100%)', border: '3px solid #4b5563', borderRadius: '10px', overflow: 'hidden', boxShadow: '0 0 24px rgba(0,0,0,0.9)' }}>\r\n          \r\n          {/* Player */}\r\n          <div style={{ position: 'absolute', width: PLAYER_WIDTH, height: PLAYER_HEIGHT, left: playerX, top: playerY, background: 'linear-gradient(135deg, #38bdf8, #1e40af)', borderRadius: '8px', boxShadow: isInvulnerable ? '0 0 30px rgba(239,68,68,0.9)' : '0 0 20px rgba(56,189,248,0.9)', border: '2px solid #0ea5e9', opacity: isInvulnerable && Date.now() % 200 < 100 ? 0.5 : 1, transition: 'opacity 100ms' }}>\r\n            <div style={{ width: 0, height: 0, borderLeft: `${PLAYER_WIDTH / 2}px solid transparent`, borderRight: `${PLAYER_WIDTH / 2}px solid transparent`, borderBottom: '14px solid #bfdbfe', position: 'absolute', top: -14, left: 0 }} />\r\n          </div>\r\n\r\n          {/* Player bullets */}\r\n          {bullets.map((b, i) => (\r\n            <div key={i} style={{ position: 'absolute', width: BULLET_WIDTH, height: BULLET_HEIGHT, left: b.x, top: b.y, background: 'linear-gradient(180deg, #facc15, #f97316)', boxShadow: '0 0 12px rgba(250,204,21,0.95)', borderRadius: '999px' }} />\r\n          ))}\r\n\r\n          {/* Enemy bullets */}\r\n          {enemyBullets.map((b, i) => (\r\n            <div key={i} style={{ position: 'absolute', width: BULLET_WIDTH, height: BULLET_HEIGHT, left: b.x, top: b.y, background: 'linear-gradient(180deg, #dc2626, #991b1b)', boxShadow: '0 0 12px rgba(220,38,38,0.95)', borderRadius: '999px' }} />\r\n          ))}\r\n\r\n          {/* Enemies */}\r\n          {enemies.map((e) => e.alive && (\r\n            <div key={e.id} style={{ position: 'absolute', width: ENEMY_WIDTH, height: ENEMY_HEIGHT, left: e.x, top: e.y, background: e.typeData.color, borderRadius: '6px', border: `2px solid ${e.typeData.border}`, boxShadow: `0 0 14px ${e.typeData.border}99`, display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '1.6rem' }}>\r\n              {e.typeData.name}\r\n            </div>\r\n          ))}\r\n\r\n          {/* Explosions */}\r\n          {explosions.map((exp) => (\r\n            <Explosion key={exp.id} x={exp.x} y={exp.y} color={exp.color} />\r\n          ))}\r\n\r\n          {/* Wave transition overlay */}\r\n          {waveTransition && gameState === 'playing' && (\r\n            <div style={{ position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.6)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', animation: 'pulse 0.5s ease-in-out infinite' }}>\r\n                Wave {currentWave + 1} incoming...\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* End game overlay */}\r\n          {gameState !== 'playing' && (\r\n            <div style={{ position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.85)', backdropFilter: 'blur(4px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '0.75rem', textAlign: 'center', padding: '1rem' }}>\r\n              <h2 style={{ fontSize: '1.6rem', margin: 0 }}>{gameState === 'win' ? 'üéâ NETWORK SECURED!' : 'üíÄ SYSTEM COMPROMISED'}</h2>\r\n              <p style={{ opacity: 0.9, fontSize: '0.95rem', maxWidth: '350px', margin: 0 }}>\r\n                {gameState === 'win' ? 'All cyber threats eliminated!' : 'The threats breached your defenses.'}\r\n              </p>\r\n              <div style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>Final Score: {score}</div>\r\n              <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                <button onClick={handleRestart} style={{ padding: '0.6rem 1.2rem', borderRadius: '999px', border: 'none', background: 'linear-gradient(135deg, #3b82f6, #1e40af)', color: 'white', fontWeight: 'bold', cursor: 'pointer', fontSize: '0.9rem', boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)' }}>Play Again</button>\r\n                <button onClick={handleExit} style={{ padding: '0.6rem 1.2rem', borderRadius: '999px', border: '1px solid rgba(148,163,184,0.6)', background: 'rgba(15,23,42,0.9)', color: 'white', cursor: 'pointer', fontSize: '0.9rem' }}>Dashboard</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <WaveMeter currentWave={currentWave} totalWaves={WAVES.length} lives={lives} maxLives={PLAYER_LIVES} score={score} />\r\n      </div>\r\n\r\n      {gameState === 'playing' && (\r\n        <button onClick={handleRestart} style={{ padding: '0.4rem 1rem', borderRadius: '999px', border: '1px solid rgba(148,163,184,0.6)', background: 'rgba(15,23,42,0.7)', color: 'white', fontSize: '0.85rem', cursor: 'pointer' }}>Restart</button>\r\n      )}\r\n\r\n      <style>{`\r\n        @keyframes pulse {\r\n          0%, 100% { opacity: 1; }\r\n          50% { opacity: 0.5; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}