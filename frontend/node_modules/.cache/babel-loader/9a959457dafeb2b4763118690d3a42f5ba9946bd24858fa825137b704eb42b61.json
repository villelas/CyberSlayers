{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frenz\\\\OneDrive\\\\Desktop\\\\CyberSlayers\\\\frontend\\\\src\\\\pages\\\\network_command_center.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DASHBOARD_ROUTE = '/dashboard';\n\n// Level 1: Basic platforming with fake floors - MUST use orange platforms to reach door\nconst LEVEL_1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0], [1, 1, 1, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n\n// Level 2: Green platforms collapse to reveal chasm - must jump at right time\nconst LEVEL_2 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0], [1, 1, 1, 1, 1, 6, 6, 6, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1]];\n\n// Level 3: Spikes appear in trigger zones when you jump\nconst LEVEL_3 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0], [1, 1, 1, 7, 7, 7, 1, 1, 1, 7, 7, 7, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n\n// Level 4: Door moves away when approached\nconst LEVEL_4 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]];\n\n// Level 5: FINAL CHALLENGE - Combines all mechanics from previous levels\nconst LEVEL_5 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 3, 0], [0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0], [0, 0, 0, 1, 1, 7, 7, 7, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], [1, 1, 4, 4, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 1, 1], [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1]];\nconst LEVELS = [LEVEL_1, LEVEL_2, LEVEL_3, LEVEL_4, LEVEL_5];\n\n// 0 = empty, 1 = solid ground, 2 = spikes, 3 = horse/goal, 4 = fake ground, 5 = sword fragment\n// 6 = moving platform (chasm bridge), 7 = spike trigger zone\n\nconst GRAVITY = 0.025;\nconst MOVE_SPEED = 0.15;\nconst JUMP_FORCE = -0.42;\nconst MAX_FALL_SPEED = 0.4;\nconst TICK_MS = 16; // ~60fps for smooth controls\nconst COYOTE_TIME = 120; // ms after leaving ground where jump still works\nconst JUMP_BUFFER = 150; // ms to buffer jump input before landing\nconst FRICTION = 0.85; // Ground friction for smoother stops\nconst AIR_CONTROL = 0.92; // Air control multiplier\n\nconst HORSE_PIECES = [{\n  label: \"Trust\",\n  threshold: 1,\n  level: 1\n}, {\n  label: \"Courage\",\n  threshold: 2,\n  level: 2\n}, {\n  label: \"Bond\",\n  threshold: 3,\n  level: 3\n}, {\n  label: \"Loyalty\",\n  threshold: 4,\n  level: 4\n}, {\n  label: \"Mastery\",\n  threshold: 5,\n  level: 5\n}];\nfunction HorseMeter({\n  fragments\n}) {\n  const totalPieces = HORSE_PIECES.length;\n  const forgedPieces = HORSE_PIECES.filter(s => fragments >= s.threshold).length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: \"200px\",\n      padding: \"1rem\",\n      borderRadius: \"12px\",\n      border: \"1px solid rgba(148,163,184,0.6)\",\n      background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\n      boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: \"0.5rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"0.5rem\",\n        marginBottom: \"0.25rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1.9rem\"\n        },\n        children: \"\\uD83D\\uDC34\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.9rem\",\n          lineHeight: 1.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"600\"\n          },\n          children: \"Tame Wild Horse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            opacity: 0.75\n          },\n          children: [forgedPieces, \"/\", totalPieces, \" bonds formed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"4px\",\n        borderRadius: \"999px\",\n        overflow: \"hidden\",\n        background: \"rgba(30,64,175,0.65)\",\n        marginBottom: \"0.25rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: `${Math.min(fragments / totalPieces, 1) * 100}%`,\n          height: \"100%\",\n          background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\",\n          transition: \"width 200ms ease\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.35rem\",\n        fontSize: \"0.8rem\"\n      },\n      children: HORSE_PIECES.map((piece, index) => {\n        const filled = fragments >= piece.threshold;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: \"0.4rem\",\n            opacity: filled ? 1 : 0.5,\n            transform: filled ? \"translateX(2px)\" : \"none\",\n            transition: \"opacity 150ms ease, transform 150ms ease\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"18px\",\n              height: \"18px\",\n              borderRadius: \"4px\",\n              border: \"1px solid rgba(148,163,184,0.85)\",\n              background: filled ? \"linear-gradient(135deg,#3b82f6,#06b6d4)\" : \"transparent\",\n              boxShadow: filled ? \"0 0 8px rgba(59,130,246,0.85)\" : \"none\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [index + 1, \". \", piece.label]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)]\n        }, piece.label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"0.25rem\",\n        fontSize: \"0.75rem\",\n        opacity: 0.6\n      },\n      children: \"Complete levels \\uD83D\\uDC34 to earn your horse's trust.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n// Particle component for death effects\n_c = HorseMeter;\nfunction DeathParticles({\n  x,\n  y,\n  tileSize\n}) {\n  _s();\n  const [particles, setParticles] = useState([]);\n  useEffect(() => {\n    const newParticles = Array.from({\n      length: 12\n    }, (_, i) => ({\n      id: i,\n      x: x,\n      y: y,\n      vx: (Math.random() - 0.5) * 8,\n      vy: (Math.random() - 0.5) * 8 - 2,\n      life: 1\n    }));\n    setParticles(newParticles);\n    const interval = setInterval(() => {\n      setParticles(prev => prev.map(p => ({\n        ...p,\n        x: p.x + p.vx,\n        y: p.y + p.vy,\n        vy: p.vy + 0.3,\n        life: p.life - 0.03\n      })).filter(p => p.life > 0));\n    }, 30);\n    return () => clearInterval(interval);\n  }, [x, y]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: particles.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: p.x,\n        top: p.y,\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        background: `rgba(239, 68, 68, ${p.life})`,\n        boxShadow: `0 0 ${10 * p.life}px rgba(239, 68, 68, ${p.life})`,\n        pointerEvents: 'none'\n      }\n    }, p.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this))\n  }, void 0, false);\n}\n_s(DeathParticles, \"n2oV9J0JxRF0n1eg4nXLNJcP/RY=\");\n_c2 = DeathParticles;\nexport default function CyberBladeQuest() {\n  _s2();\n  const [player, setPlayer] = useState({\n    x: 0.5,\n    y: 9,\n    vx: 0,\n    vy: 0\n  });\n  const [keys, setKeys] = useState({\n    left: false,\n    right: false,\n    jump: false\n  });\n  const [currentLevelIndex, setCurrentLevelIndex] = useState(0);\n  const [level, setLevel] = useState(LEVELS[0].map(row => [...row]));\n  const [gameState, setGameState] = useState('playing');\n  const [message, setMessage] = useState('');\n  const [fragments, setFragments] = useState(0);\n  const [isDying, setIsDying] = useState(false);\n  const [deathAnimation, setDeathAnimation] = useState(0);\n  const [deathPosition, setDeathPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [screenShake, setScreenShake] = useState(0);\n\n  // Level 2: Green platform collapse state\n  const [greenPlatformsCollapsed, setGreenPlatformsCollapsed] = useState(false);\n\n  // Level 3: Spike trigger tracking\n  const triggeredSpikes = useRef(new Set());\n\n  // Level 4: Door evasion\n  const [doorPosition, setDoorPosition] = useState({\n    x: 16,\n    y: 9\n  });\n  const [doorEvadeCount, setDoorEvadeCount] = useState(0);\n  const doorEvadeMax = 3;\n  const lastGroundedTime = useRef(Date.now());\n  const jumpBufferTime = useRef(0);\n  const onGroundRef = useRef(false);\n  const collectedFragments = useRef(new Set());\n  const width = level[0].length;\n  const height = level.length;\n  const tileSize = 40;\n\n  // Death animation with particles and screen shake\n  useEffect(() => {\n    if (isDying) {\n      setScreenShake(10);\n      const shakeInterval = setInterval(() => {\n        setScreenShake(prev => Math.max(0, prev - 0.5));\n      }, 50);\n      const animInterval = setInterval(() => {\n        setDeathAnimation(prev => {\n          if (prev >= 1) {\n            clearInterval(animInterval);\n            clearInterval(shakeInterval);\n            // Restart current level after animation\n            setTimeout(() => {\n              restartCurrentLevel();\n            }, 100);\n            return 1;\n          }\n          return prev + 0.04;\n        });\n      }, 20);\n      return () => {\n        clearInterval(animInterval);\n        clearInterval(shakeInterval);\n      };\n    }\n  }, [isDying]);\n\n  // Level 2 & 5: Collapse green platforms when stepped on, then move them to the right\n  useEffect(() => {\n    if ((currentLevelIndex === 1 || currentLevelIndex === 4) && !greenPlatformsCollapsed && onGroundRef.current) {\n      const playerX = Math.floor(player.x);\n      const playerY = Math.floor(player.y + 0.45); // Bottom of player\n\n      // Check if player is standing on a green platform (tile value 6)\n      if (level[playerY] && level[playerY][playerX] === 6) {\n        setGreenPlatformsCollapsed(true);\n\n        // First, remove the green platforms\n        setTimeout(() => {\n          setLevel(prevLevel => {\n            const newLevel = prevLevel.map(row => [...row]);\n            // Remove green platforms from left side\n            if (currentLevelIndex === 1) {\n              // Level 2: positions 5-7\n              for (let x = 5; x <= 7; x++) {\n                if (newLevel[10][x] === 6) {\n                  newLevel[10][x] = 0;\n                }\n              }\n            } else if (currentLevelIndex === 4) {\n              // Level 5: positions 9-11\n              for (let x = 9; x <= 11; x++) {\n                if (newLevel[10][x] === 6) {\n                  newLevel[10][x] = 0;\n                }\n              }\n            }\n            return newLevel;\n          });\n        }, 150);\n\n        // Then, make them reappear on the right side\n        setTimeout(() => {\n          setLevel(prevLevel => {\n            const newLevel = prevLevel.map(row => [...row]);\n            if (currentLevelIndex === 1) {\n              // Level 2: Add green platforms to right side (positions 9-11)\n              for (let x = 9; x <= 11; x++) {\n                newLevel[10][x] = 6;\n              }\n            } else if (currentLevelIndex === 4) {\n              // Level 5: Add green platforms to right side (positions 12-14)\n              for (let x = 12; x <= 14; x++) {\n                newLevel[10][x] = 6;\n              }\n            }\n            return newLevel;\n          });\n        }, 800);\n      }\n    }\n  }, [currentLevelIndex, greenPlatformsCollapsed, onGroundRef.current, player.x, player.y, level]);\n\n  // Level 3 & 5: Spike trigger tracking - spikes appear IN the trigger zone\n  useEffect(() => {\n    if ((currentLevelIndex === 2 || currentLevelIndex === 4) && !onGroundRef.current) {\n      const playerX = Math.floor(player.x);\n      const playerY = Math.floor(player.y + 0.45);\n\n      // Check tiles below player for trigger zones\n      for (let checkX = Math.floor(player.x - 0.35); checkX <= Math.floor(player.x + 0.35); checkX++) {\n        if (level[playerY] && level[playerY][checkX] === 7) {\n          const key = `${checkX},${playerY}`;\n          if (!triggeredSpikes.current.has(key)) {\n            triggeredSpikes.current.add(key);\n            setTimeout(() => {\n              setLevel(prevLevel => {\n                const newLevel = prevLevel.map(row => [...row]);\n                // Replace trigger zone with spike\n                if (newLevel[playerY][checkX] === 7) {\n                  newLevel[playerY][checkX] = 2;\n                }\n                return newLevel;\n              });\n            }, 200);\n          }\n        }\n      }\n    }\n  }, [currentLevelIndex, onGroundRef.current, player.x, player.y, level]);\n\n  // Level 4 & 5: Horse evasion logic - stops running away after 3 evades\n  useEffect(() => {\n    if ((currentLevelIndex === 3 || currentLevelIndex === 4) && gameState === 'playing' && doorEvadeCount < doorEvadeMax) {\n      const playerDist = Math.abs(player.x - doorPosition.x);\n      if (playerDist < 3 && player.y > 8) {\n        setDoorEvadeCount(prev => prev + 1);\n        if (doorEvadeCount + 1 < doorEvadeMax) {\n          // Move horse to random location (still evading)\n          const newX = Math.floor(Math.random() * 10) + 4;\n          const newY = player.y > 8 ? 6 : 9;\n          setDoorPosition({\n            x: newX,\n            y: newY\n          });\n        } else {\n          // After 3 evades, horse stops and stays in place\n          const finalX = Math.floor(Math.random() * 10) + 4;\n          setDoorPosition({\n            x: finalX,\n            y: currentLevelIndex === 4 ? 6 : 9\n          });\n        }\n      }\n    }\n  }, [player.x, player.y, doorPosition, currentLevelIndex, gameState, doorEvadeCount]);\n  useEffect(() => {\n    const down = e => {\n      if (gameState !== 'playing') return;\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          left: true\n        }));\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          right: true\n        }));\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === ' ') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          jump: true\n        }));\n        jumpBufferTime.current = Date.now();\n      }\n    };\n    const up = e => {\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\n        setKeys(k => ({\n          ...k,\n          left: false\n        }));\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\n        setKeys(k => ({\n          ...k,\n          right: false\n        }));\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === ' ') {\n        setKeys(k => ({\n          ...k,\n          jump: false\n        }));\n      }\n    };\n    window.addEventListener('keydown', down);\n    window.addEventListener('keyup', up);\n    return () => {\n      window.removeEventListener('keydown', down);\n      window.removeEventListener('keyup', up);\n    };\n  }, [gameState]);\n\n  // Enhanced game loop with better physics\n  useEffect(() => {\n    if (gameState !== 'playing' || isDying) return;\n    const interval = setInterval(() => {\n      setPlayer(prev => {\n        let {\n          x,\n          y,\n          vx,\n          vy\n        } = prev;\n\n        // Horizontal movement with momentum\n        const targetVx = keys.left && !keys.right ? -MOVE_SPEED : keys.right && !keys.left ? MOVE_SPEED : 0;\n\n        // Apply friction when grounded, air control when airborne\n        if (onGroundRef.current) {\n          vx = vx * FRICTION + targetVx * (1 - FRICTION);\n        } else {\n          vx = vx * AIR_CONTROL + targetVx * (1 - AIR_CONTROL);\n        }\n\n        // Stop if velocity is very small\n        if (Math.abs(vx) < 0.001) vx = 0;\n\n        // Coyote time and jump buffering\n        const timeSinceGrounded = Date.now() - lastGroundedTime.current;\n        const timeSinceJumpPress = Date.now() - jumpBufferTime.current;\n        const canCoyoteJump = timeSinceGrounded < COYOTE_TIME;\n        const hasJumpBuffer = timeSinceJumpPress < JUMP_BUFFER;\n        if (keys.jump && (onGroundRef.current || canCoyoteJump) && hasJumpBuffer && vy >= 0) {\n          vy = JUMP_FORCE;\n          jumpBufferTime.current = 0; // Clear buffer\n          onGroundRef.current = false; // Prevent double jump\n        }\n\n        // Variable jump height (release jump early for shorter jump)\n        if (!keys.jump && vy < 0) {\n          vy *= 0.5;\n        }\n\n        // Gravity\n        vy += GRAVITY;\n        vy = Math.min(vy, MAX_FALL_SPEED); // Terminal velocity\n\n        let newX = x + vx;\n        let newY = y + vy;\n\n        // Horizontal bounds\n        newX = Math.max(0.3, Math.min(newX, width - 0.3));\n\n        // Collision detection\n        const playerWidth = 0.35;\n        const playerHeight = 0.45;\n        const playerLeft = newX - playerWidth;\n        const playerRight = newX + playerWidth;\n        const playerTop = newY - playerHeight;\n        const playerBottom = newY + playerHeight;\n        let landed = false;\n        let hitCeiling = false;\n        let hitWall = false;\n\n        // Check tiles around player\n        const checkLeft = Math.floor(playerLeft);\n        const checkRight = Math.floor(playerRight);\n        const checkTop = Math.floor(playerTop);\n        const checkBottom = Math.floor(playerBottom);\n        for (let checkY = checkTop; checkY <= checkBottom; checkY++) {\n          for (let checkX = checkLeft; checkX <= checkRight; checkX++) {\n            const tile = getTile(level, checkX, checkY);\n\n            // SPIKES KILL INSTANTLY - NOW ENABLED!\n            if (tile === 2) {\n              const tileLeft = checkX;\n              const tileRight = checkX + 1;\n              const tileTop = checkY;\n              const tileBottom = checkY + 1;\n              if (playerRight > tileLeft && playerLeft < tileRight && playerBottom > tileTop && playerTop < tileBottom) {\n                triggerDeath('âš¡ The cyber spikes disintegrated you!', x * tileSize, y * tileSize);\n                return prev;\n              }\n            }\n\n            // Goal reached - check if it's the horse in level 4 or 5\n            if (tile === 3 || (currentLevelIndex === 3 || currentLevelIndex === 4) && Math.floor(player.x) === doorPosition.x && Math.floor(player.y) === doorPosition.y) {\n              const goalX = currentLevelIndex === 3 || currentLevelIndex === 4 ? doorPosition.x : checkX;\n              const goalY = currentLevelIndex === 3 || currentLevelIndex === 4 ? doorPosition.y : checkY;\n              const tileLeft = goalX;\n              const tileRight = goalX + 1;\n              const tileTop = goalY;\n              const tileBottom = goalY + 1;\n              if (playerRight > tileLeft + 0.2 && playerLeft < tileRight - 0.2 && playerBottom > tileTop + 0.2 && playerTop < tileBottom - 0.2) {\n                // Level complete!\n                if (currentLevelIndex < LEVELS.length - 1) {\n                  setFragments(prev => prev + 1);\n                  setCurrentLevelIndex(prev => prev + 1);\n                  setLevel(LEVELS[currentLevelIndex + 1].map(row => [...row]));\n                  setPlayer({\n                    x: 0.5,\n                    y: 9,\n                    vx: 0,\n                    vy: 0\n                  });\n                  setGreenPlatformsCollapsed(false);\n                  triggeredSpikes.current.clear();\n                  setDoorPosition({\n                    x: 16,\n                    y: 9\n                  });\n                  setDoorEvadeCount(0);\n                  onGroundRef.current = false;\n                  lastGroundedTime.current = Date.now();\n                } else {\n                  setFragments(5);\n                  setGameState('win');\n                  setMessage('ðŸŽ‰ Your wild horse is fully tamed! You are now bonded forever!');\n                }\n                return {\n                  x: newX,\n                  y: newY,\n                  vx,\n                  vy\n                };\n              }\n            }\n\n            // Collect sword fragment\n            if (tile === 5) {\n              const key = `${checkX},${checkY}`;\n              const tileLeft = checkX;\n              const tileRight = checkX + 1;\n              const tileTop = checkY;\n              const tileBottom = checkY + 1;\n              if (!collectedFragments.current.has(key) && playerRight > tileLeft + 0.2 && playerLeft < tileRight - 0.2 && playerBottom > tileTop + 0.2 && playerTop < tileBottom - 0.2) {\n                collectedFragments.current.add(key);\n                setLevel(prevLevel => {\n                  const clone = prevLevel.map(row => [...row]);\n                  clone[checkY][checkX] = 0;\n                  return clone;\n                });\n              }\n            }\n\n            // Solid tiles (ground, fake ground, or moving platform)\n            if (tile === 1 || tile === 4 || tile === 6) {\n              const tileLeft = checkX;\n              const tileRight = checkX + 1;\n              const tileTop = checkY;\n              const tileBottom = checkY + 1;\n              const prevBottom = prev.y + playerHeight;\n              const prevTop = prev.y - playerHeight;\n              const prevLeft = prev.x - playerWidth;\n              const prevRight = prev.x + playerWidth;\n\n              // Floor collision (falling down onto platform)\n              if (vy > 0 && playerBottom > tileTop && prevBottom <= tileTop + 0.05) {\n                if (playerRight > tileLeft + 0.1 && playerLeft < tileRight - 0.1) {\n                  newY = tileTop - playerHeight;\n                  vy = 0;\n                  landed = true;\n\n                  // Collapse fake ground\n                  if (tile === 4) {\n                    setTimeout(() => {\n                      setLevel(prevLevel => {\n                        const clone = prevLevel.map(row => [...row]);\n                        if (clone[checkY][checkX] === 4) {\n                          clone[checkY][checkX] = 0;\n                        }\n                        return clone;\n                      });\n                    }, 300);\n                  }\n                }\n              }\n\n              // Ceiling collision (jumping up into platform)\n              if (vy < 0 && playerTop < tileBottom && prevTop >= tileBottom - 0.05) {\n                if (playerRight > tileLeft + 0.1 && playerLeft < tileRight - 0.1) {\n                  newY = tileBottom + playerHeight;\n                  vy = 0;\n                  hitCeiling = true;\n                }\n              }\n\n              // Left wall collision\n              if (vx < 0 && playerLeft < tileRight && prevLeft >= tileRight - 0.05) {\n                if (playerBottom > tileTop + 0.1 && playerTop < tileBottom - 0.1) {\n                  newX = tileRight + playerWidth;\n                  vx = 0;\n                  hitWall = true;\n                }\n              }\n\n              // Right wall collision\n              if (vx > 0 && playerRight > tileLeft && prevRight <= tileLeft + 0.05) {\n                if (playerBottom > tileTop + 0.1 && playerTop < tileBottom - 0.1) {\n                  newX = tileLeft - playerWidth;\n                  vx = 0;\n                  hitWall = true;\n                }\n              }\n            }\n          }\n        }\n\n        // Update grounded state\n        if (landed) {\n          lastGroundedTime.current = Date.now();\n          onGroundRef.current = true;\n        } else if (vy >= 0) {\n          // Only update grounded if we're falling\n          onGroundRef.current = false;\n        }\n\n        // Fall off map\n        if (newY > height + 2) {\n          triggerDeath('ðŸ’€ You fell into the cyber void!', x * tileSize, y * tileSize);\n          return prev;\n        }\n        return {\n          x: newX,\n          y: newY,\n          vx,\n          vy\n        };\n      });\n    }, TICK_MS);\n    return () => clearInterval(interval);\n  }, [keys, gameState, level, isDying, currentLevelIndex, doorPosition, player.x, player.y, tileSize]);\n  const triggerDeath = (msg, x, y) => {\n    setDeathPosition({\n      x,\n      y\n    });\n    setIsDying(true);\n    setMessage(msg);\n    setGameState('dead');\n  };\n  const handleRestart = () => {\n    // Reset to beginning of game\n    setPlayer({\n      x: 0.5,\n      y: 9,\n      vx: 0,\n      vy: 0\n    });\n    setCurrentLevelIndex(0);\n    setLevel(LEVELS[0].map(row => [...row]));\n    setGameState('playing');\n    setMessage('');\n    setFragments(0);\n    setIsDying(false);\n    setDeathAnimation(0);\n    setScreenShake(0);\n    setGreenPlatformsCollapsed(false);\n    triggeredSpikes.current.clear();\n    collectedFragments.current.clear();\n    setDoorPosition({\n      x: 16,\n      y: 9\n    });\n    setDoorEvadeCount(0);\n    onGroundRef.current = false;\n    lastGroundedTime.current = Date.now();\n  };\n  const restartCurrentLevel = () => {\n    // Restart just the current level\n    setPlayer({\n      x: 0.5,\n      y: 9,\n      vx: 0,\n      vy: 0\n    });\n    setLevel(LEVELS[currentLevelIndex].map(row => [...row]));\n    setGameState('playing');\n    setMessage('');\n    setIsDying(false);\n    setDeathAnimation(0);\n    setScreenShake(0);\n\n    // Reset level-specific state\n    setGreenPlatformsCollapsed(false);\n    triggeredSpikes.current.clear();\n\n    // Reset door position for level 4 & 5\n    if (currentLevelIndex === 3 || currentLevelIndex === 4) {\n      setDoorPosition({\n        x: 16,\n        y: currentLevelIndex === 4 ? 6 : 9\n      });\n      setDoorEvadeCount(0);\n    }\n    onGroundRef.current = false;\n    lastGroundedTime.current = Date.now();\n  };\n  const handleExit = () => {\n    // In production, use: navigate(DASHBOARD_ROUTE);\n    window.location.href = DASHBOARD_ROUTE;\n  };\n\n  // Render\n  const shakeX = screenShake > 0 ? (Math.random() - 0.5) * screenShake : 0;\n  const shakeY = screenShake > 0 ? (Math.random() - 0.5) * screenShake : 0;\n  const boardStyle = {\n    display: 'grid',\n    gridTemplateColumns: `repeat(${width}, ${tileSize}px)`,\n    gridTemplateRows: `repeat(${height}, ${tileSize}px)`,\n    background: '#020617',\n    border: '4px solid #4b5563',\n    borderRadius: '12px',\n    boxShadow: '0 0 24px rgba(0,0,0,0.7)',\n    position: 'relative',\n    transform: `translate(${shakeX}px, ${shakeY}px)`\n  };\n  const tileBase = {\n    width: `${tileSize}px`,\n    height: `${tileSize}px`,\n    boxSizing: 'border-box'\n  };\n  const tiles = [];\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      const val = level[y][x];\n      let background = '#020617';\n      let border = '1px solid #0f172a';\n      let content = null;\n      if (val === 1) {\n        background = 'linear-gradient(180deg,#334155,#1e293b)';\n        border = '1px solid #0f172a';\n      } else if (val === 2) {\n        background = 'radial-gradient(circle,#ef4444,#991b1b)';\n        border = '1px solid #dc2626';\n        content = /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '20px',\n            lineHeight: `${tileSize}px`\n          },\n          children: \"\\u25B2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 19\n        }, this);\n        /* ========================================\r\n           STATIC HORSE SPRITE (Levels 1, 2, 3)\r\n           This renders the horse as a tile goal.\r\n           Change the emoji below to use a PNG:\r\n           Replace 'content' with an img tag or background image\r\n        ========================================= */\n      } else if (val === 3) {\n        // Don't render static horse in levels 4 & 5 (it's rendered as a moving overlay)\n        if (currentLevelIndex === 3 || currentLevelIndex === 4) {\n          background = '#020617';\n          border = '1px solid #0f172a';\n          content = null;\n        } else {\n          background = 'linear-gradient(135deg,#3b82f6,#06b6d4)';\n          border = '1px solid #0ea5e9';\n          content = /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              lineHeight: `${tileSize}px`\n            },\n            children: \"\\uD83D\\uDC34\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 21\n          }, this);\n        }\n        /* ========================================\r\n           END STATIC HORSE SPRITE\r\n        ========================================= */\n      } else if (val === 4) {\n        background = 'linear-gradient(180deg,#fbbf24,#92400e)';\n        border = '1px dashed #fcd34d';\n      } else if (val === 5) {\n        background = 'radial-gradient(circle,#8b5cf6,#4c1d95)';\n        border = '1px solid #7c3aed';\n        content = /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            lineHeight: `${tileSize}px`\n          },\n          children: \"\\u26A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 19\n        }, this);\n      } else if (val === 6) {\n        background = 'linear-gradient(180deg,#10b981,#047857)';\n        border = '1px solid #059669';\n      } else if (val === 7) {\n        background = 'rgba(251, 191, 36, 0.2)';\n        border = '1px dashed rgba(252, 211, 77, 0.4)';\n      }\n      tiles.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...tileBase,\n          background,\n          border,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#fff'\n        },\n        children: content\n      }, `${x}-${y}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  const playerScreenX = player.x * tileSize;\n  const playerScreenY = player.y * tileSize;\n\n  // Death animation effect\n  const deathScale = 1 - deathAnimation * 0.8;\n  const deathOpacity = 1 - deathAnimation;\n  const deathRotation = deathAnimation * 720;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'radial-gradient(circle at top,#0f172a 0,#020617 50%,#000 100%)',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: 'white',\n      fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,sans-serif',\n      padding: '1rem',\n      gap: '1rem',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleExit,\n      style: {\n        position: 'absolute',\n        top: '1rem',\n        right: '1rem',\n        background: 'rgba(0,0,0,0.6)',\n        borderRadius: '999px',\n        border: '1px solid rgba(255,255,255,0.3)',\n        color: 'white',\n        padding: '0.4rem 0.7rem',\n        cursor: 'pointer',\n        fontSize: '0.85rem'\n      },\n      children: \"\\u2715 Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 847,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: '2rem',\n        marginBottom: '0.25rem'\n      },\n      children: \"\\uD83D\\uDC34 Wild Horse Quest\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        opacity: 0.8,\n        marginBottom: '0.5rem',\n        textAlign: 'center',\n        maxWidth: '500px'\n      },\n      children: [\"Level \", currentLevelIndex + 1, \" of \", LEVELS.length, \": Find and tame your wild horse across all levels!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 867,\n        columnNumber: 107\n      }, this), \"Move: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u2190 \\u2192 / A D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 15\n      }, this), \" | Jump: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u2191 / W / Space\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 868,\n        columnNumber: 50\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 866,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1.5rem',\n        alignItems: 'flex-start',\n        flexWrap: 'wrap',\n        justifyContent: 'center',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: boardStyle,\n        children: [tiles, isDying && /*#__PURE__*/_jsxDEV(DeathParticles, {\n          x: deathPosition.x,\n          y: deathPosition.y,\n          tileSize: tileSize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 23\n        }, this), (currentLevelIndex === 3 || currentLevelIndex === 4) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: tileSize,\n            height: tileSize,\n            left: doorPosition.x * tileSize,\n            top: doorPosition.y * tileSize,\n            background: 'linear-gradient(135deg,#3b82f6,#06b6d4)',\n            border: '1px solid #0ea5e9',\n            borderRadius: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '24px',\n            transition: 'all 0.3s ease',\n            pointerEvents: 'none',\n            opacity: doorEvadeCount >= doorEvadeMax ? 1 : 1\n          },\n          children: \"\\uD83D\\uDC34\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 889,\n          columnNumber: 13\n        }, this), !isDying && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: tileSize * 0.7,\n            height: tileSize * 0.9,\n            left: playerScreenX - tileSize * 0.35,\n            top: playerScreenY - tileSize * 0.45,\n            background: 'linear-gradient(135deg,#38bdf8,#1e40af)',\n            borderRadius: '6px',\n            boxShadow: '0 0 12px rgba(56,189,248,0.8)',\n            border: '2px solid #0ea5e9',\n            pointerEvents: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 13\n        }, this), isDying && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: tileSize * 0.7,\n            height: tileSize * 0.9,\n            left: playerScreenX - tileSize * 0.35,\n            top: playerScreenY - tileSize * 0.45,\n            background: 'linear-gradient(135deg,#ef4444,#991b1b)',\n            borderRadius: '6px',\n            boxShadow: `0 0 ${20 * (1 - deathAnimation)}px rgba(239,68,68,${deathOpacity})`,\n            border: '2px solid #dc2626',\n            opacity: deathOpacity,\n            transform: `scale(${deathScale}) rotate(${deathRotation}deg)`,\n            pointerEvents: 'none',\n            transition: 'transform 20ms linear, opacity 20ms linear'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 13\n        }, this), (gameState === 'dead' || gameState === 'win') && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            background: 'rgba(0, 0, 0, 0.85)',\n            backdropFilter: 'blur(4px)',\n            borderRadius: '12px',\n            zIndex: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '2rem 2.5rem',\n              background: 'rgba(15,23,42,0.95)',\n              borderRadius: '16px',\n              border: gameState === 'win' ? '2px solid #4ade80' : '2px solid #f87171',\n              maxWidth: '400px',\n              textAlign: 'center',\n              boxShadow: '0 8px 32px rgba(0, 0, 0, 0.5)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: '1.5rem',\n                fontSize: '1.3rem',\n                fontWeight: '600'\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '0.75rem',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: gameState === 'dead' ? restartCurrentLevel : handleRestart,\n                style: {\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '999px',\n                  border: 'none',\n                  background: 'linear-gradient(135deg,#3b82f6,#1e40af)',\n                  color: 'white',\n                  fontWeight: 'bold',\n                  cursor: 'pointer',\n                  fontSize: '1rem',\n                  boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)'\n                },\n                children: gameState === 'dead' ? 'Retry Level' : 'Play Again'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 995,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleExit,\n                style: {\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '999px',\n                  border: '1px solid rgba(148,163,184,0.6)',\n                  background: 'rgba(15,23,42,0.7)',\n                  color: 'white',\n                  cursor: 'pointer',\n                  fontSize: '1rem'\n                },\n                children: \"Dashboard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1011,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 966,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 872,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HorseMeter, {\n        fragments: fragments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 871,\n      columnNumber: 7\n    }, this), gameState === 'playing' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRestart,\n      style: {\n        marginTop: '0.5rem',\n        padding: '0.4rem 1rem',\n        borderRadius: '999px',\n        border: '1px solid rgba(148,163,184,0.6)',\n        background: 'rgba(15,23,42,0.7)',\n        color: 'white',\n        fontSize: '0.85rem',\n        cursor: 'pointer'\n      },\n      children: \"Restart Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1035,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 832,\n    columnNumber: 5\n  }, this);\n}\n_s2(CyberBladeQuest, \"NzwvV0FSkctVG+MMkuteWZFoA9k=\");\n_c3 = CyberBladeQuest;\nfunction getTile(level, x, y) {\n  if (y < 0 || y >= level.length || x < 0 || x >= level[0].length) {\n    return 0;\n  }\n  return level[y][x];\n}\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HorseMeter\");\n$RefreshReg$(_c2, \"DeathParticles\");\n$RefreshReg$(_c3, \"CyberBladeQuest\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","DASHBOARD_ROUTE","LEVEL_1","LEVEL_2","LEVEL_3","LEVEL_4","LEVEL_5","LEVELS","GRAVITY","MOVE_SPEED","JUMP_FORCE","MAX_FALL_SPEED","TICK_MS","COYOTE_TIME","JUMP_BUFFER","FRICTION","AIR_CONTROL","HORSE_PIECES","label","threshold","level","HorseMeter","fragments","totalPieces","length","forgedPieces","filter","s","style","minWidth","padding","borderRadius","border","background","boxShadow","display","flexDirection","gap","children","alignItems","marginBottom","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","lineHeight","fontWeight","opacity","height","overflow","width","Math","min","transition","map","piece","index","filled","transform","marginTop","_c","DeathParticles","x","y","tileSize","_s","particles","setParticles","newParticles","Array","from","_","i","id","vx","random","vy","life","interval","setInterval","prev","p","clearInterval","position","left","top","pointerEvents","_c2","CyberBladeQuest","_s2","player","setPlayer","keys","setKeys","right","jump","currentLevelIndex","setCurrentLevelIndex","setLevel","row","gameState","setGameState","message","setMessage","setFragments","isDying","setIsDying","deathAnimation","setDeathAnimation","deathPosition","setDeathPosition","screenShake","setScreenShake","greenPlatformsCollapsed","setGreenPlatformsCollapsed","triggeredSpikes","Set","doorPosition","setDoorPosition","doorEvadeCount","setDoorEvadeCount","doorEvadeMax","lastGroundedTime","Date","now","jumpBufferTime","onGroundRef","collectedFragments","shakeInterval","max","animInterval","setTimeout","restartCurrentLevel","current","playerX","floor","playerY","prevLevel","newLevel","checkX","key","has","add","playerDist","abs","newX","newY","finalX","down","e","preventDefault","k","up","window","addEventListener","removeEventListener","targetVx","timeSinceGrounded","timeSinceJumpPress","canCoyoteJump","hasJumpBuffer","playerWidth","playerHeight","playerLeft","playerRight","playerTop","playerBottom","landed","hitCeiling","hitWall","checkLeft","checkRight","checkTop","checkBottom","checkY","tile","getTile","tileLeft","tileRight","tileTop","tileBottom","triggerDeath","goalX","goalY","clear","clone","prevBottom","prevTop","prevLeft","prevRight","msg","handleRestart","handleExit","location","href","shakeX","shakeY","boardStyle","gridTemplateColumns","gridTemplateRows","tileBase","boxSizing","tiles","val","content","push","justifyContent","color","playerScreenX","playerScreenY","deathScale","deathOpacity","deathRotation","minHeight","fontFamily","onClick","cursor","textAlign","maxWidth","flexWrap","bottom","backdropFilter","zIndex","_c3","$RefreshReg$"],"sources":["C:/Users/frenz/OneDrive/Desktop/CyberSlayers/frontend/src/pages/network_command_center.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst DASHBOARD_ROUTE = '/dashboard';\r\n\r\n// Level 1: Basic platforming with fake floors - MUST use orange platforms to reach door\r\nconst LEVEL_1 = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0],\r\n  [1, 1, 1, 4, 4, 0, 0, 0, 0, 4, 4, 0, 0, 0, 0, 0, 0, 0],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\r\n];\r\n\r\n// Level 2: Green platforms collapse to reveal chasm - must jump at right time\r\nconst LEVEL_2 = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0],\r\n  [1, 1, 1, 1, 1, 6, 6, 6, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1],\r\n  [1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1]\r\n];\r\n\r\n// Level 3: Spikes appear in trigger zones when you jump\r\nconst LEVEL_3 = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0],\r\n  [1, 1, 1, 7, 7, 7, 1, 1, 1, 7, 7, 7, 1, 1, 1, 1, 1, 1],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\r\n];\r\n\r\n// Level 4: Door moves away when approached\r\nconst LEVEL_4 = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\r\n];\r\n\r\n// Level 5: FINAL CHALLENGE - Combines all mechanics from previous levels\r\nconst LEVEL_5 = [\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 3, 0],\r\n  [0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 4, 4, 0],\r\n  [0, 0, 0, 1, 1, 7, 7, 7, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],\r\n  [1, 1, 4, 4, 0, 0, 0, 0, 0, 6, 6, 6, 0, 0, 0, 0, 1, 1],\r\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1]\r\n];\r\n\r\nconst LEVELS = [LEVEL_1, LEVEL_2, LEVEL_3, LEVEL_4, LEVEL_5];\r\n\r\n// 0 = empty, 1 = solid ground, 2 = spikes, 3 = horse/goal, 4 = fake ground, 5 = sword fragment\r\n// 6 = moving platform (chasm bridge), 7 = spike trigger zone\r\n\r\nconst GRAVITY = 0.025;\r\nconst MOVE_SPEED = 0.15;\r\nconst JUMP_FORCE = -0.42;\r\nconst MAX_FALL_SPEED = 0.4;\r\nconst TICK_MS = 16; // ~60fps for smooth controls\r\nconst COYOTE_TIME = 120; // ms after leaving ground where jump still works\r\nconst JUMP_BUFFER = 150; // ms to buffer jump input before landing\r\nconst FRICTION = 0.85; // Ground friction for smoother stops\r\nconst AIR_CONTROL = 0.92; // Air control multiplier\r\n\r\nconst HORSE_PIECES = [\r\n  { label: \"Trust\", threshold: 1, level: 1 },\r\n  { label: \"Courage\", threshold: 2, level: 2 },\r\n  { label: \"Bond\", threshold: 3, level: 3 },\r\n  { label: \"Loyalty\", threshold: 4, level: 4 },\r\n  { label: \"Mastery\", threshold: 5, level: 5 },\r\n];\r\n\r\nfunction HorseMeter({ fragments }) {\r\n  const totalPieces = HORSE_PIECES.length;\r\n  const forgedPieces = HORSE_PIECES.filter((s) => fragments >= s.threshold).length;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        minWidth: \"200px\",\r\n        padding: \"1rem\",\r\n        borderRadius: \"12px\",\r\n        border: \"1px solid rgba(148,163,184,0.6)\",\r\n        background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\r\n        boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"0.5rem\",\r\n      }}\r\n    >\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", marginBottom: \"0.25rem\" }}>\r\n        <span style={{ fontSize: \"1.9rem\" }}>ðŸ´</span>\r\n        <div style={{ fontSize: \"0.9rem\", lineHeight: 1.2 }}>\r\n          <div style={{ fontWeight: \"600\" }}>Tame Wild Horse</div>\r\n          <div style={{ opacity: 0.75 }}>\r\n            {forgedPieces}/{totalPieces} bonds formed\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          height: \"4px\",\r\n          borderRadius: \"999px\",\r\n          overflow: \"hidden\",\r\n          background: \"rgba(30,64,175,0.65)\",\r\n          marginBottom: \"0.25rem\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            width: `${Math.min(fragments / totalPieces, 1) * 100}%`,\r\n            height: \"100%\",\r\n            background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\",\r\n            transition: \"width 200ms ease\",\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"0.35rem\", fontSize: \"0.8rem\" }}>\r\n        {HORSE_PIECES.map((piece, index) => {\r\n          const filled = fragments >= piece.threshold;\r\n          return (\r\n            <div\r\n              key={piece.label}\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                gap: \"0.4rem\",\r\n                opacity: filled ? 1 : 0.5,\r\n                transform: filled ? \"translateX(2px)\" : \"none\",\r\n                transition: \"opacity 150ms ease, transform 150ms ease\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  width: \"18px\",\r\n                  height: \"18px\",\r\n                  borderRadius: \"4px\",\r\n                  border: \"1px solid rgba(148,163,184,0.85)\",\r\n                  background: filled ? \"linear-gradient(135deg,#3b82f6,#06b6d4)\" : \"transparent\",\r\n                  boxShadow: filled ? \"0 0 8px rgba(59,130,246,0.85)\" : \"none\",\r\n                }}\r\n              />\r\n              <span>\r\n                {index + 1}. {piece.label}\r\n              </span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"0.25rem\", fontSize: \"0.75rem\", opacity: 0.6 }}>\r\n        Complete levels ðŸ´ to earn your horse's trust.\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Particle component for death effects\r\nfunction DeathParticles({ x, y, tileSize }) {\r\n  const [particles, setParticles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const newParticles = Array.from({ length: 12 }, (_, i) => ({\r\n      id: i,\r\n      x: x,\r\n      y: y,\r\n      vx: (Math.random() - 0.5) * 8,\r\n      vy: (Math.random() - 0.5) * 8 - 2,\r\n      life: 1,\r\n    }));\r\n    setParticles(newParticles);\r\n\r\n    const interval = setInterval(() => {\r\n      setParticles(prev => \r\n        prev.map(p => ({\r\n          ...p,\r\n          x: p.x + p.vx,\r\n          y: p.y + p.vy,\r\n          vy: p.vy + 0.3,\r\n          life: p.life - 0.03,\r\n        })).filter(p => p.life > 0)\r\n      );\r\n    }, 30);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [x, y]);\r\n\r\n  return (\r\n    <>\r\n      {particles.map(p => (\r\n        <div\r\n          key={p.id}\r\n          style={{\r\n            position: 'absolute',\r\n            left: p.x,\r\n            top: p.y,\r\n            width: '8px',\r\n            height: '8px',\r\n            borderRadius: '50%',\r\n            background: `rgba(239, 68, 68, ${p.life})`,\r\n            boxShadow: `0 0 ${10 * p.life}px rgba(239, 68, 68, ${p.life})`,\r\n            pointerEvents: 'none',\r\n          }}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function CyberBladeQuest() {\r\n  const [player, setPlayer] = useState({ x: 0.5, y: 9, vx: 0, vy: 0 });\r\n  const [keys, setKeys] = useState({ left: false, right: false, jump: false });\r\n  const [currentLevelIndex, setCurrentLevelIndex] = useState(0);\r\n  const [level, setLevel] = useState(LEVELS[0].map(row => [...row]));\r\n  const [gameState, setGameState] = useState('playing');\r\n  const [message, setMessage] = useState('');\r\n  const [fragments, setFragments] = useState(0);\r\n  const [isDying, setIsDying] = useState(false);\r\n  const [deathAnimation, setDeathAnimation] = useState(0);\r\n  const [deathPosition, setDeathPosition] = useState({ x: 0, y: 0 });\r\n  const [screenShake, setScreenShake] = useState(0);\r\n  \r\n  // Level 2: Green platform collapse state\r\n  const [greenPlatformsCollapsed, setGreenPlatformsCollapsed] = useState(false);\r\n  \r\n  // Level 3: Spike trigger tracking\r\n  const triggeredSpikes = useRef(new Set());\r\n  \r\n  // Level 4: Door evasion\r\n  const [doorPosition, setDoorPosition] = useState({ x: 16, y: 9 });\r\n  const [doorEvadeCount, setDoorEvadeCount] = useState(0);\r\n  const doorEvadeMax = 3;\r\n  \r\n  const lastGroundedTime = useRef(Date.now());\r\n  const jumpBufferTime = useRef(0);\r\n  const onGroundRef = useRef(false);\r\n  const collectedFragments = useRef(new Set());\r\n\r\n  const width = level[0].length;\r\n  const height = level.length;\r\n  const tileSize = 40;\r\n\r\n  // Death animation with particles and screen shake\r\n  useEffect(() => {\r\n    if (isDying) {\r\n      setScreenShake(10);\r\n      const shakeInterval = setInterval(() => {\r\n        setScreenShake(prev => Math.max(0, prev - 0.5));\r\n      }, 50);\r\n\r\n      const animInterval = setInterval(() => {\r\n        setDeathAnimation(prev => {\r\n          if (prev >= 1) {\r\n            clearInterval(animInterval);\r\n            clearInterval(shakeInterval);\r\n            // Restart current level after animation\r\n            setTimeout(() => {\r\n              restartCurrentLevel();\r\n            }, 100);\r\n            return 1;\r\n          }\r\n          return prev + 0.04;\r\n        });\r\n      }, 20);\r\n      return () => {\r\n        clearInterval(animInterval);\r\n        clearInterval(shakeInterval);\r\n      };\r\n    }\r\n  }, [isDying]);\r\n\r\n  // Level 2 & 5: Collapse green platforms when stepped on, then move them to the right\r\n  useEffect(() => {\r\n    if ((currentLevelIndex === 1 || currentLevelIndex === 4) && !greenPlatformsCollapsed && onGroundRef.current) {\r\n      const playerX = Math.floor(player.x);\r\n      const playerY = Math.floor(player.y + 0.45); // Bottom of player\r\n      \r\n      // Check if player is standing on a green platform (tile value 6)\r\n      if (level[playerY] && level[playerY][playerX] === 6) {\r\n        setGreenPlatformsCollapsed(true);\r\n        \r\n        // First, remove the green platforms\r\n        setTimeout(() => {\r\n          setLevel(prevLevel => {\r\n            const newLevel = prevLevel.map(row => [...row]);\r\n            // Remove green platforms from left side\r\n            if (currentLevelIndex === 1) {\r\n              // Level 2: positions 5-7\r\n              for (let x = 5; x <= 7; x++) {\r\n                if (newLevel[10][x] === 6) {\r\n                  newLevel[10][x] = 0;\r\n                }\r\n              }\r\n            } else if (currentLevelIndex === 4) {\r\n              // Level 5: positions 9-11\r\n              for (let x = 9; x <= 11; x++) {\r\n                if (newLevel[10][x] === 6) {\r\n                  newLevel[10][x] = 0;\r\n                }\r\n              }\r\n            }\r\n            return newLevel;\r\n          });\r\n        }, 150);\r\n        \r\n        // Then, make them reappear on the right side\r\n        setTimeout(() => {\r\n          setLevel(prevLevel => {\r\n            const newLevel = prevLevel.map(row => [...row]);\r\n            if (currentLevelIndex === 1) {\r\n              // Level 2: Add green platforms to right side (positions 9-11)\r\n              for (let x = 9; x <= 11; x++) {\r\n                newLevel[10][x] = 6;\r\n              }\r\n            } else if (currentLevelIndex === 4) {\r\n              // Level 5: Add green platforms to right side (positions 12-14)\r\n              for (let x = 12; x <= 14; x++) {\r\n                newLevel[10][x] = 6;\r\n              }\r\n            }\r\n            return newLevel;\r\n          });\r\n        }, 800);\r\n      }\r\n    }\r\n  }, [currentLevelIndex, greenPlatformsCollapsed, onGroundRef.current, player.x, player.y, level]);\r\n\r\n  // Level 3 & 5: Spike trigger tracking - spikes appear IN the trigger zone\r\n  useEffect(() => {\r\n    if ((currentLevelIndex === 2 || currentLevelIndex === 4) && !onGroundRef.current) {\r\n      const playerX = Math.floor(player.x);\r\n      const playerY = Math.floor(player.y + 0.45);\r\n      \r\n      // Check tiles below player for trigger zones\r\n      for (let checkX = Math.floor(player.x - 0.35); checkX <= Math.floor(player.x + 0.35); checkX++) {\r\n        if (level[playerY] && level[playerY][checkX] === 7) {\r\n          const key = `${checkX},${playerY}`;\r\n          if (!triggeredSpikes.current.has(key)) {\r\n            triggeredSpikes.current.add(key);\r\n            setTimeout(() => {\r\n              setLevel(prevLevel => {\r\n                const newLevel = prevLevel.map(row => [...row]);\r\n                // Replace trigger zone with spike\r\n                if (newLevel[playerY][checkX] === 7) {\r\n                  newLevel[playerY][checkX] = 2;\r\n                }\r\n                return newLevel;\r\n              });\r\n            }, 200);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, [currentLevelIndex, onGroundRef.current, player.x, player.y, level]);\r\n\r\n  // Level 4 & 5: Horse evasion logic - stops running away after 3 evades\r\n  useEffect(() => {\r\n    if ((currentLevelIndex === 3 || currentLevelIndex === 4) && gameState === 'playing' && doorEvadeCount < doorEvadeMax) {\r\n      const playerDist = Math.abs(player.x - doorPosition.x);\r\n      \r\n      if (playerDist < 3 && player.y > 8) {\r\n        setDoorEvadeCount(prev => prev + 1);\r\n        \r\n        if (doorEvadeCount + 1 < doorEvadeMax) {\r\n          // Move horse to random location (still evading)\r\n          const newX = Math.floor(Math.random() * 10) + 4;\r\n          const newY = player.y > 8 ? 6 : 9;\r\n          setDoorPosition({ x: newX, y: newY });\r\n        } else {\r\n          // After 3 evades, horse stops and stays in place\r\n          const finalX = Math.floor(Math.random() * 10) + 4;\r\n          setDoorPosition({ x: finalX, y: currentLevelIndex === 4 ? 6 : 9 });\r\n        }\r\n      }\r\n    }\r\n  }, [player.x, player.y, doorPosition, currentLevelIndex, gameState, doorEvadeCount]);\r\n\r\n  useEffect(() => {\r\n    const down = (e) => {\r\n      if (gameState !== 'playing') return;\r\n      \r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, left: true }));\r\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, right: true }));\r\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === ' ') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, jump: true }));\r\n        jumpBufferTime.current = Date.now();\r\n      }\r\n    };\r\n\r\n    const up = (e) => {\r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\r\n        setKeys((k) => ({ ...k, left: false }));\r\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\r\n        setKeys((k) => ({ ...k, right: false }));\r\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W' || e.key === ' ') {\r\n        setKeys((k) => ({ ...k, jump: false }));\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', down);\r\n    window.addEventListener('keyup', up);\r\n    return () => {\r\n      window.removeEventListener('keydown', down);\r\n      window.removeEventListener('keyup', up);\r\n    };\r\n  }, [gameState]);\r\n\r\n  // Enhanced game loop with better physics\r\n  useEffect(() => {\r\n    if (gameState !== 'playing' || isDying) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setPlayer((prev) => {\r\n        let { x, y, vx, vy } = prev;\r\n\r\n        // Horizontal movement with momentum\r\n        const targetVx = keys.left && !keys.right ? -MOVE_SPEED : \r\n                        keys.right && !keys.left ? MOVE_SPEED : 0;\r\n        \r\n        // Apply friction when grounded, air control when airborne\r\n        if (onGroundRef.current) {\r\n          vx = vx * FRICTION + targetVx * (1 - FRICTION);\r\n        } else {\r\n          vx = vx * AIR_CONTROL + targetVx * (1 - AIR_CONTROL);\r\n        }\r\n\r\n        // Stop if velocity is very small\r\n        if (Math.abs(vx) < 0.001) vx = 0;\r\n\r\n        // Coyote time and jump buffering\r\n        const timeSinceGrounded = Date.now() - lastGroundedTime.current;\r\n        const timeSinceJumpPress = Date.now() - jumpBufferTime.current;\r\n        const canCoyoteJump = timeSinceGrounded < COYOTE_TIME;\r\n        const hasJumpBuffer = timeSinceJumpPress < JUMP_BUFFER;\r\n\r\n        if (keys.jump && (onGroundRef.current || canCoyoteJump) && hasJumpBuffer && vy >= 0) {\r\n          vy = JUMP_FORCE;\r\n          jumpBufferTime.current = 0; // Clear buffer\r\n          onGroundRef.current = false; // Prevent double jump\r\n        }\r\n\r\n        // Variable jump height (release jump early for shorter jump)\r\n        if (!keys.jump && vy < 0) {\r\n          vy *= 0.5;\r\n        }\r\n\r\n        // Gravity\r\n        vy += GRAVITY;\r\n        vy = Math.min(vy, MAX_FALL_SPEED); // Terminal velocity\r\n\r\n        let newX = x + vx;\r\n        let newY = y + vy;\r\n\r\n        // Horizontal bounds\r\n        newX = Math.max(0.3, Math.min(newX, width - 0.3));\r\n\r\n        // Collision detection\r\n        const playerWidth = 0.35;\r\n        const playerHeight = 0.45;\r\n        const playerLeft = newX - playerWidth;\r\n        const playerRight = newX + playerWidth;\r\n        const playerTop = newY - playerHeight;\r\n        const playerBottom = newY + playerHeight;\r\n\r\n        let landed = false;\r\n        let hitCeiling = false;\r\n        let hitWall = false;\r\n\r\n        // Check tiles around player\r\n        const checkLeft = Math.floor(playerLeft);\r\n        const checkRight = Math.floor(playerRight);\r\n        const checkTop = Math.floor(playerTop);\r\n        const checkBottom = Math.floor(playerBottom);\r\n\r\n        for (let checkY = checkTop; checkY <= checkBottom; checkY++) {\r\n          for (let checkX = checkLeft; checkX <= checkRight; checkX++) {\r\n            const tile = getTile(level, checkX, checkY);\r\n\r\n            // SPIKES KILL INSTANTLY - NOW ENABLED!\r\n            if (tile === 2) {\r\n              const tileLeft = checkX;\r\n              const tileRight = checkX + 1;\r\n              const tileTop = checkY;\r\n              const tileBottom = checkY + 1;\r\n\r\n              if (playerRight > tileLeft && playerLeft < tileRight &&\r\n                  playerBottom > tileTop && playerTop < tileBottom) {\r\n                triggerDeath('âš¡ The cyber spikes disintegrated you!', x * tileSize, y * tileSize);\r\n                return prev;\r\n              }\r\n            }\r\n\r\n            // Goal reached - check if it's the horse in level 4 or 5\r\n            if (tile === 3 || ((currentLevelIndex === 3 || currentLevelIndex === 4) && \r\n                Math.floor(player.x) === doorPosition.x && \r\n                Math.floor(player.y) === doorPosition.y)) {\r\n              const goalX = (currentLevelIndex === 3 || currentLevelIndex === 4) ? doorPosition.x : checkX;\r\n              const goalY = (currentLevelIndex === 3 || currentLevelIndex === 4) ? doorPosition.y : checkY;\r\n              const tileLeft = goalX;\r\n              const tileRight = goalX + 1;\r\n              const tileTop = goalY;\r\n              const tileBottom = goalY + 1;\r\n\r\n              if (playerRight > tileLeft + 0.2 && playerLeft < tileRight - 0.2 &&\r\n                  playerBottom > tileTop + 0.2 && playerTop < tileBottom - 0.2) {\r\n                \r\n                // Level complete!\r\n                if (currentLevelIndex < LEVELS.length - 1) {\r\n                  setFragments(prev => prev + 1);\r\n                  setCurrentLevelIndex(prev => prev + 1);\r\n                  setLevel(LEVELS[currentLevelIndex + 1].map(row => [...row]));\r\n                  setPlayer({ x: 0.5, y: 9, vx: 0, vy: 0 });\r\n                  setGreenPlatformsCollapsed(false);\r\n                  triggeredSpikes.current.clear();\r\n                  setDoorPosition({ x: 16, y: 9 });\r\n                  setDoorEvadeCount(0);\r\n                  onGroundRef.current = false;\r\n                  lastGroundedTime.current = Date.now();\r\n                } else {\r\n                  setFragments(5);\r\n                  setGameState('win');\r\n                  setMessage('ðŸŽ‰ Your wild horse is fully tamed! You are now bonded forever!');\r\n                }\r\n                return { x: newX, y: newY, vx, vy };\r\n              }\r\n            }\r\n\r\n            // Collect sword fragment\r\n            if (tile === 5) {\r\n              const key = `${checkX},${checkY}`;\r\n              const tileLeft = checkX;\r\n              const tileRight = checkX + 1;\r\n              const tileTop = checkY;\r\n              const tileBottom = checkY + 1;\r\n\r\n              if (!collectedFragments.current.has(key) &&\r\n                  playerRight > tileLeft + 0.2 && playerLeft < tileRight - 0.2 &&\r\n                  playerBottom > tileTop + 0.2 && playerTop < tileBottom - 0.2) {\r\n                collectedFragments.current.add(key);\r\n                setLevel((prevLevel) => {\r\n                  const clone = prevLevel.map((row) => [...row]);\r\n                  clone[checkY][checkX] = 0;\r\n                  return clone;\r\n                });\r\n              }\r\n            }\r\n\r\n            // Solid tiles (ground, fake ground, or moving platform)\r\n            if (tile === 1 || tile === 4 || tile === 6) {\r\n              const tileLeft = checkX;\r\n              const tileRight = checkX + 1;\r\n              const tileTop = checkY;\r\n              const tileBottom = checkY + 1;\r\n\r\n              const prevBottom = prev.y + playerHeight;\r\n              const prevTop = prev.y - playerHeight;\r\n              const prevLeft = prev.x - playerWidth;\r\n              const prevRight = prev.x + playerWidth;\r\n\r\n              // Floor collision (falling down onto platform)\r\n              if (vy > 0 && playerBottom > tileTop && prevBottom <= tileTop + 0.05) {\r\n                if (playerRight > tileLeft + 0.1 && playerLeft < tileRight - 0.1) {\r\n                  newY = tileTop - playerHeight;\r\n                  vy = 0;\r\n                  landed = true;\r\n\r\n                  // Collapse fake ground\r\n                  if (tile === 4) {\r\n                    setTimeout(() => {\r\n                      setLevel((prevLevel) => {\r\n                        const clone = prevLevel.map((row) => [...row]);\r\n                        if (clone[checkY][checkX] === 4) {\r\n                          clone[checkY][checkX] = 0;\r\n                        }\r\n                        return clone;\r\n                      });\r\n                    }, 300);\r\n                  }\r\n                }\r\n              }\r\n\r\n              // Ceiling collision (jumping up into platform)\r\n              if (vy < 0 && playerTop < tileBottom && prevTop >= tileBottom - 0.05) {\r\n                if (playerRight > tileLeft + 0.1 && playerLeft < tileRight - 0.1) {\r\n                  newY = tileBottom + playerHeight;\r\n                  vy = 0;\r\n                  hitCeiling = true;\r\n                }\r\n              }\r\n\r\n              // Left wall collision\r\n              if (vx < 0 && playerLeft < tileRight && prevLeft >= tileRight - 0.05) {\r\n                if (playerBottom > tileTop + 0.1 && playerTop < tileBottom - 0.1) {\r\n                  newX = tileRight + playerWidth;\r\n                  vx = 0;\r\n                  hitWall = true;\r\n                }\r\n              }\r\n\r\n              // Right wall collision\r\n              if (vx > 0 && playerRight > tileLeft && prevRight <= tileLeft + 0.05) {\r\n                if (playerBottom > tileTop + 0.1 && playerTop < tileBottom - 0.1) {\r\n                  newX = tileLeft - playerWidth;\r\n                  vx = 0;\r\n                  hitWall = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // Update grounded state\r\n        if (landed) {\r\n          lastGroundedTime.current = Date.now();\r\n          onGroundRef.current = true;\r\n        } else if (vy >= 0) {\r\n          // Only update grounded if we're falling\r\n          onGroundRef.current = false;\r\n        }\r\n\r\n        // Fall off map\r\n        if (newY > height + 2) {\r\n          triggerDeath('ðŸ’€ You fell into the cyber void!', x * tileSize, y * tileSize);\r\n          return prev;\r\n        }\r\n\r\n        return { x: newX, y: newY, vx, vy };\r\n      });\r\n    }, TICK_MS);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [keys, gameState, level, isDying, currentLevelIndex, doorPosition, player.x, player.y, tileSize]);\r\n\r\n  const triggerDeath = (msg, x, y) => {\r\n    setDeathPosition({ x, y });\r\n    setIsDying(true);\r\n    setMessage(msg);\r\n    setGameState('dead');\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    // Reset to beginning of game\r\n    setPlayer({ x: 0.5, y: 9, vx: 0, vy: 0 });\r\n    setCurrentLevelIndex(0);\r\n    setLevel(LEVELS[0].map((row) => [...row]));\r\n    setGameState('playing');\r\n    setMessage('');\r\n    setFragments(0);\r\n    setIsDying(false);\r\n    setDeathAnimation(0);\r\n    setScreenShake(0);\r\n    setGreenPlatformsCollapsed(false);\r\n    triggeredSpikes.current.clear();\r\n    collectedFragments.current.clear();\r\n    setDoorPosition({ x: 16, y: 9 });\r\n    setDoorEvadeCount(0);\r\n    onGroundRef.current = false;\r\n    lastGroundedTime.current = Date.now();\r\n  };\r\n\r\n  const restartCurrentLevel = () => {\r\n    // Restart just the current level\r\n    setPlayer({ x: 0.5, y: 9, vx: 0, vy: 0 });\r\n    setLevel(LEVELS[currentLevelIndex].map((row) => [...row]));\r\n    setGameState('playing');\r\n    setMessage('');\r\n    setIsDying(false);\r\n    setDeathAnimation(0);\r\n    setScreenShake(0);\r\n    \r\n    // Reset level-specific state\r\n    setGreenPlatformsCollapsed(false);\r\n    triggeredSpikes.current.clear();\r\n    \r\n    // Reset door position for level 4 & 5\r\n    if (currentLevelIndex === 3 || currentLevelIndex === 4) {\r\n      setDoorPosition({ x: 16, y: currentLevelIndex === 4 ? 6 : 9 });\r\n      setDoorEvadeCount(0);\r\n    }\r\n    \r\n    onGroundRef.current = false;\r\n    lastGroundedTime.current = Date.now();\r\n  };\r\n\r\n  const handleExit = () => {\r\n    // In production, use: navigate(DASHBOARD_ROUTE);\r\n    window.location.href = DASHBOARD_ROUTE;\r\n  };\r\n\r\n  // Render\r\n  const shakeX = screenShake > 0 ? (Math.random() - 0.5) * screenShake : 0;\r\n  const shakeY = screenShake > 0 ? (Math.random() - 0.5) * screenShake : 0;\r\n\r\n  const boardStyle = {\r\n    display: 'grid',\r\n    gridTemplateColumns: `repeat(${width}, ${tileSize}px)`,\r\n    gridTemplateRows: `repeat(${height}, ${tileSize}px)`,\r\n    background: '#020617',\r\n    border: '4px solid #4b5563',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 0 24px rgba(0,0,0,0.7)',\r\n    position: 'relative',\r\n    transform: `translate(${shakeX}px, ${shakeY}px)`,\r\n  };\r\n\r\n  const tileBase = {\r\n    width: `${tileSize}px`,\r\n    height: `${tileSize}px`,\r\n    boxSizing: 'border-box'\r\n  };\r\n\r\n  const tiles = [];\r\n  for (let y = 0; y < height; y++) {\r\n    for (let x = 0; x < width; x++) {\r\n      const val = level[y][x];\r\n      let background = '#020617';\r\n      let border = '1px solid #0f172a';\r\n      let content = null;\r\n\r\n      if (val === 1) {\r\n        background = 'linear-gradient(180deg,#334155,#1e293b)';\r\n        border = '1px solid #0f172a';\r\n      } else if (val === 2) {\r\n        background = 'radial-gradient(circle,#ef4444,#991b1b)';\r\n        border = '1px solid #dc2626';\r\n        content = <div style={{ fontSize: '20px', lineHeight: `${tileSize}px` }}>â–²</div>;\r\n      /* ========================================\r\n         STATIC HORSE SPRITE (Levels 1, 2, 3)\r\n         This renders the horse as a tile goal.\r\n         Change the emoji below to use a PNG:\r\n         Replace 'content' with an img tag or background image\r\n      ========================================= */\r\n      } else if (val === 3) {\r\n        // Don't render static horse in levels 4 & 5 (it's rendered as a moving overlay)\r\n        if (currentLevelIndex === 3 || currentLevelIndex === 4) {\r\n          background = '#020617';\r\n          border = '1px solid #0f172a';\r\n          content = null;\r\n        } else {\r\n          background = 'linear-gradient(135deg,#3b82f6,#06b6d4)';\r\n          border = '1px solid #0ea5e9';\r\n          content = <div style={{ fontSize: '24px', lineHeight: `${tileSize}px` }}>ðŸ´</div>;\r\n        }\r\n      /* ========================================\r\n         END STATIC HORSE SPRITE\r\n      ========================================= */\r\n      } else if (val === 4) {\r\n        background = 'linear-gradient(180deg,#fbbf24,#92400e)';\r\n        border = '1px dashed #fcd34d';\r\n      } else if (val === 5) {\r\n        background = 'radial-gradient(circle,#8b5cf6,#4c1d95)';\r\n        border = '1px solid #7c3aed';\r\n        content = <div style={{ fontSize: '24px', lineHeight: `${tileSize}px` }}>âš¡</div>;\r\n      } else if (val === 6) {\r\n        background = 'linear-gradient(180deg,#10b981,#047857)';\r\n        border = '1px solid #059669';\r\n      } else if (val === 7) {\r\n        background = 'rgba(251, 191, 36, 0.2)';\r\n        border = '1px dashed rgba(252, 211, 77, 0.4)';\r\n      }\r\n\r\n      tiles.push(\r\n        <div\r\n          key={`${x}-${y}`}\r\n          style={{\r\n            ...tileBase,\r\n            background,\r\n            border,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            color: '#fff'\r\n          }}\r\n        >\r\n          {content}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  const playerScreenX = player.x * tileSize;\r\n  const playerScreenY = player.y * tileSize;\r\n\r\n  // Death animation effect\r\n  const deathScale = 1 - deathAnimation * 0.8;\r\n  const deathOpacity = 1 - deathAnimation;\r\n  const deathRotation = deathAnimation * 720;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: '100vh',\r\n        background: 'radial-gradient(circle at top,#0f172a 0,#020617 50%,#000 100%)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        color: 'white',\r\n        fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,sans-serif',\r\n        padding: '1rem',\r\n        gap: '1rem',\r\n        position: 'relative'\r\n      }}\r\n    >\r\n      <button\r\n        onClick={handleExit}\r\n        style={{\r\n          position: 'absolute',\r\n          top: '1rem',\r\n          right: '1rem',\r\n          background: 'rgba(0,0,0,0.6)',\r\n          borderRadius: '999px',\r\n          border: '1px solid rgba(255,255,255,0.3)',\r\n          color: 'white',\r\n          padding: '0.4rem 0.7rem',\r\n          cursor: 'pointer',\r\n          fontSize: '0.85rem'\r\n        }}\r\n      >\r\n        âœ• Exit\r\n      </button>\r\n\r\n      <h1 style={{ fontSize: '2rem', marginBottom: '0.25rem' }}>ðŸ´ Wild Horse Quest</h1>\r\n      <p style={{ opacity: 0.8, marginBottom: '0.5rem', textAlign: 'center', maxWidth: '500px' }}>\r\n        Level {currentLevelIndex + 1} of {LEVELS.length}: Find and tame your wild horse across all levels!<br />\r\n        Move: <strong>â† â†’ / A D</strong> | Jump: <strong>â†‘ / W / Space</strong>\r\n      </p>\r\n\r\n      <div style={{ display: 'flex', gap: '1.5rem', alignItems: 'flex-start', flexWrap: 'wrap', justifyContent: 'center', position: 'relative' }}>\r\n        <div style={boardStyle}>\r\n          {tiles}\r\n          \r\n          {/* Death particles */}\r\n          {isDying && <DeathParticles x={deathPosition.x} y={deathPosition.y} tileSize={tileSize} />}\r\n          \r\n          {/* ========================================\r\n              MOVING HORSE SPRITE (Levels 4 & 5)\r\n              Change the emoji below to use a PNG image:\r\n              Replace the content div with:\r\n              backgroundImage: 'url(./path/to/your-horse.png)',\r\n              backgroundSize: 'contain',\r\n              backgroundRepeat: 'no-repeat',\r\n              backgroundPosition: 'center',\r\n              And remove the inner div with the emoji\r\n          ========================================= */}\r\n          {(currentLevelIndex === 3 || currentLevelIndex === 4) && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                width: tileSize,\r\n                height: tileSize,\r\n                left: doorPosition.x * tileSize,\r\n                top: doorPosition.y * tileSize,\r\n                background: 'linear-gradient(135deg,#3b82f6,#06b6d4)',\r\n                border: '1px solid #0ea5e9',\r\n                borderRadius: '4px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                fontSize: '24px',\r\n                transition: 'all 0.3s ease',\r\n                pointerEvents: 'none',\r\n                opacity: doorEvadeCount >= doorEvadeMax ? 1 : 1,\r\n              }}\r\n            >\r\n              ðŸ´\r\n            </div>\r\n          )}\r\n          {/* ========================================\r\n              END MOVING HORSE SPRITE\r\n          ========================================= */}\r\n          \r\n          {/* ========================================\r\n              PLAYER CHARACTER SPRITE\r\n              Change the styling below to use a PNG image:\r\n              Replace the 'background' property with:\r\n              backgroundImage: 'url(./path/to/your-character.png)',\r\n              backgroundSize: 'contain',\r\n              backgroundRepeat: 'no-repeat',\r\n              backgroundPosition: 'center',\r\n          ========================================= */}\r\n          {!isDying && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                width: tileSize * 0.7,\r\n                height: tileSize * 0.9,\r\n                left: playerScreenX - (tileSize * 0.35),\r\n                top: playerScreenY - (tileSize * 0.45),\r\n                background: 'linear-gradient(135deg,#38bdf8,#1e40af)',\r\n                borderRadius: '6px',\r\n                boxShadow: '0 0 12px rgba(56,189,248,0.8)',\r\n                border: '2px solid #0ea5e9',\r\n                pointerEvents: 'none'\r\n              }}\r\n            />\r\n          )}\r\n          {/* ========================================\r\n              END PLAYER CHARACTER SPRITE\r\n          ========================================= */}\r\n          \r\n          {isDying && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                width: tileSize * 0.7,\r\n                height: tileSize * 0.9,\r\n                left: playerScreenX - (tileSize * 0.35),\r\n                top: playerScreenY - (tileSize * 0.45),\r\n                background: 'linear-gradient(135deg,#ef4444,#991b1b)',\r\n                borderRadius: '6px',\r\n                boxShadow: `0 0 ${20 * (1 - deathAnimation)}px rgba(239,68,68,${deathOpacity})`,\r\n                border: '2px solid #dc2626',\r\n                opacity: deathOpacity,\r\n                transform: `scale(${deathScale}) rotate(${deathRotation}deg)`,\r\n                pointerEvents: 'none',\r\n                transition: 'transform 20ms linear, opacity 20ms linear'\r\n              }}\r\n            />\r\n          )}\r\n\r\n          {/* Game completion/death overlay */}\r\n          {(gameState === 'dead' || gameState === 'win') && (\r\n            <div\r\n              style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                left: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                background: 'rgba(0, 0, 0, 0.85)',\r\n                backdropFilter: 'blur(4px)',\r\n                borderRadius: '12px',\r\n                zIndex: 10,\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  padding: '2rem 2.5rem',\r\n                  background: 'rgba(15,23,42,0.95)',\r\n                  borderRadius: '16px',\r\n                  border: gameState === 'win' ? '2px solid #4ade80' : '2px solid #f87171',\r\n                  maxWidth: '400px',\r\n                  textAlign: 'center',\r\n                  boxShadow: '0 8px 32px rgba(0, 0, 0, 0.5)',\r\n                }}\r\n              >\r\n                <div style={{ marginBottom: '1.5rem', fontSize: '1.3rem', fontWeight: '600' }}>{message}</div>\r\n                <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'center' }}>\r\n                  <button\r\n                    onClick={gameState === 'dead' ? restartCurrentLevel : handleRestart}\r\n                    style={{\r\n                      padding: '0.75rem 1.5rem',\r\n                      borderRadius: '999px',\r\n                      border: 'none',\r\n                      background: 'linear-gradient(135deg,#3b82f6,#1e40af)',\r\n                      color: 'white',\r\n                      fontWeight: 'bold',\r\n                      cursor: 'pointer',\r\n                      fontSize: '1rem',\r\n                      boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)',\r\n                    }}\r\n                  >\r\n                    {gameState === 'dead' ? 'Retry Level' : 'Play Again'}\r\n                  </button>\r\n                  <button\r\n                    onClick={handleExit}\r\n                    style={{\r\n                      padding: '0.75rem 1.5rem',\r\n                      borderRadius: '999px',\r\n                      border: '1px solid rgba(148,163,184,0.6)',\r\n                      background: 'rgba(15,23,42,0.7)',\r\n                      color: 'white',\r\n                      cursor: 'pointer',\r\n                      fontSize: '1rem',\r\n                    }}\r\n                  >\r\n                    Dashboard\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <HorseMeter fragments={fragments} />\r\n      </div>\r\n\r\n      {gameState === 'playing' && (\r\n        <button\r\n          onClick={handleRestart}\r\n          style={{\r\n            marginTop: '0.5rem',\r\n            padding: '0.4rem 1rem',\r\n            borderRadius: '999px',\r\n            border: '1px solid rgba(148,163,184,0.6)',\r\n            background: 'rgba(15,23,42,0.7)',\r\n            color: 'white',\r\n            fontSize: '0.85rem',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Restart Game\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getTile(level, x, y) {\r\n  if (y < 0 || y >= level.length || x < 0 || x >= level[0].length) {\r\n    return 0;\r\n  }\r\n  return level[y][x];\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3D,MAAMC,eAAe,GAAG,YAAY;;AAEpC;AACA,MAAMC,OAAO,GAAG,CACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACvD;;AAED;AACA,MAAMC,OAAO,GAAG,CACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACvD;;AAED;AACA,MAAMC,OAAO,GAAG,CACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACvD;;AAED;AACA,MAAMC,OAAO,GAAG,CACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CACvD;;AAED;AACA,MAAMC,OAAO,GAAG,CACd,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACtD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}