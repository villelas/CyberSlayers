{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frenz\\\\OneDrive\\\\Desktop\\\\CyberSlayers\\\\frontend\\\\src\\\\pages\\\\malware_analysis_lab.jsx\",\n  _s = $RefreshSig$();\n// GalagaGame.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DASHBOARD_ROUTE = '/dashboard';\nconst GAME_WIDTH = 600;\nconst GAME_HEIGHT = 700;\nconst PLAYER_WIDTH = 50;\nconst PLAYER_HEIGHT = 40;\nconst PLAYER_SPEED = 6;\nconst BULLET_WIDTH = 6;\nconst BULLET_HEIGHT = 16;\nconst BULLET_SPEED = 10;\nconst ENEMY_BULLET_SPEED = 5;\nconst ENEMY_WIDTH = 44;\nconst ENEMY_HEIGHT = 36;\nconst TICK_MS = 16;\nconst PLAYER_LIVES = 5;\n\n// Enemy types with different behaviors\nconst ENEMY_TYPES = {\n  MALWARE: {\n    name: 'ü¶†',\n    color: 'linear-gradient(135deg, #dc2626, #991b1b)',\n    border: '#ef4444',\n    points: 100,\n    speed: 2,\n    canShoot: false,\n    canDive: true,\n    attackType: 'dive'\n  },\n  PHISHING: {\n    name: 'üìß',\n    color: 'linear-gradient(135deg, #f59e0b, #d97706)',\n    border: '#fbbf24',\n    points: 150,\n    speed: 1.5,\n    canShoot: true,\n    canDive: true,\n    attackType: 'diveShoot'\n  },\n  BAD_CONNECTION: {\n    name: 'üì°',\n    color: 'linear-gradient(135deg, #8b5cf6, #6d28d9)',\n    border: '#a78bfa',\n    points: 200,\n    speed: 1,\n    canShoot: true,\n    canDive: false,\n    attackType: 'spread'\n  },\n  MALICIOUS_ADS: {\n    name: 'üí∞',\n    color: 'linear-gradient(135deg, #f97316, #db2777)',\n    border: '#fb7185',\n    points: 250,\n    speed: 2.5,\n    canShoot: true,\n    canDive: false,\n    attackType: 'laser'\n  }\n};\n\n// Wave configurations - Galaga-style grid formations\n// Rows ordered from top (furthest) to bottom (closest to player)\nconst WAVES = [{\n  name: 'Malware Outbreak',\n  rows: [{\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }]\n}, {\n  name: 'Phishing Campaign',\n  rows: [{\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }]\n}, {\n  name: 'Network Attack',\n  rows: [{\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }]\n}, {\n  name: 'Full Assault',\n  rows: [{\n    type: 'MALICIOUS_ADS',\n    count: 8\n  }, {\n    type: 'MALICIOUS_ADS',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'BAD_CONNECTION',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'PHISHING',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }, {\n    type: 'MALWARE',\n    count: 8\n  }]\n}];\nfunction WaveMeter({\n  currentWave,\n  totalWaves,\n  lives,\n  maxLives,\n  score\n}) {\n  const waveProgress = currentWave / totalWaves * 100;\n  const waveName = currentWave <= totalWaves ? WAVES[currentWave - 1].name : 'Complete';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minWidth: \"200px\",\n      padding: \"0.75rem\",\n      borderRadius: \"12px\",\n      border: \"1px solid rgba(148,163,184,0.6)\",\n      background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\n      boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: \"0.4rem\",\n      fontSize: \"0.85rem\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"0.5rem\",\n        marginBottom: \"0.15rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: \"1.5rem\"\n        },\n        children: \"\\uD83D\\uDEE1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          lineHeight: 1.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: \"600\"\n          },\n          children: \"Security Defense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            opacity: 0.75,\n            fontSize: \"0.8rem\"\n          },\n          children: [\"Wave \", Math.min(currentWave, totalWaves), \" / \", totalWaves]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"5px\",\n        borderRadius: \"999px\",\n        overflow: \"hidden\",\n        background: \"rgba(30,64,175,0.65)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: `${waveProgress}%`,\n          height: \"100%\",\n          background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\",\n          transition: \"width 300ms ease\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: \"0.8rem\",\n        fontWeight: \"600\",\n        opacity: 0.9\n      },\n      children: waveName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"0.25rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"0.75rem\",\n          fontWeight: \"600\",\n          opacity: 0.9\n        },\n        children: \"Lives\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: \"0.2rem\",\n          flexWrap: \"wrap\"\n        },\n        children: Array.from({\n          length: maxLives\n        }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"26px\",\n            height: \"26px\",\n            borderRadius: \"5px\",\n            border: \"2px solid rgba(148,163,184,0.6)\",\n            background: i < lives ? \"linear-gradient(135deg, #38bdf8, #1e40af)\" : \"rgba(15,23,42,0.5)\",\n            boxShadow: i < lives ? \"0 0 8px rgba(56,189,248,0.5)\" : \"none\",\n            transition: \"all 200ms ease\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            fontSize: \"1rem\"\n          },\n          children: i < lives ? 'üöÄ' : ''\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"0.25rem\",\n        padding: \"0.4rem\",\n        background: \"rgba(59,130,246,0.1)\",\n        borderRadius: \"6px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: \"600\"\n        },\n        children: [\"Score: \", score]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          opacity: 0.7,\n          fontSize: \"0.7rem\"\n        },\n        children: \"Defend the network!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n// Explosion particle component\n_c = WaveMeter;\nfunction Explosion({\n  x,\n  y,\n  color\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'absolute',\n      left: x,\n      top: y,\n      width: ENEMY_WIDTH,\n      height: ENEMY_HEIGHT,\n      pointerEvents: 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '60px',\n        height: '60px',\n        borderRadius: '50%',\n        background: `radial-gradient(circle, ${color} 0%, transparent 70%)`,\n        animation: 'explosionFlash 300ms ease-out forwards'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), [...Array(8)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '50%',\n        top: '50%',\n        width: '8px',\n        height: '8px',\n        borderRadius: '50%',\n        background: color,\n        boxShadow: `0 0 10px ${color}`,\n        animation: `explosionParticle${i} 400ms ease-out forwards`\n      }\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes explosionFlash {\n          0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }\n          100% { opacity: 0; transform: translate(-50%, -50%) scale(2); }\n        }\n        @keyframes explosionParticle0 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 30px), calc(-50% + 0px)); }\n        }\n        @keyframes explosionParticle1 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + 21px)); }\n        }\n        @keyframes explosionParticle2 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + 30px)); }\n        }\n        @keyframes explosionParticle3 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + 21px)); }\n        }\n        @keyframes explosionParticle4 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -30px), calc(-50% + 0px)); }\n        }\n        @keyframes explosionParticle5 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + -21px)); }\n        }\n        @keyframes explosionParticle6 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + -30px)); }\n        }\n        @keyframes explosionParticle7 {\n          0% { opacity: 1; transform: translate(-50%, -50%); }\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + -21px)); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Explosion;\nfunction createWaveEnemies(waveIndex) {\n  // Guard against invalid wave index\n  if (waveIndex < 0 || waveIndex >= WAVES.length) {\n    return [];\n  }\n  const wave = WAVES[waveIndex];\n  const enemies = [];\n  let id = 0;\n  const rowHeight = 44;\n  const startY = 50;\n  wave.rows.forEach((row, rowIndex) => {\n    const type = ENEMY_TYPES[row.type];\n    const count = row.count;\n    const spacing = (GAME_WIDTH - 60) / count;\n    const startX = 30 + spacing / 2;\n    for (let col = 0; col < count; col++) {\n      enemies.push({\n        id: id++,\n        x: startX + col * spacing - ENEMY_WIDTH / 2,\n        y: startY + rowIndex * rowHeight,\n        type: row.type,\n        typeData: type,\n        alive: true,\n        moveTimer: 0,\n        shootTimer: Math.random() * 2000 + 1000,\n        diveTimer: Math.random() * 3000 + 2000,\n        isDiving: false\n      });\n    }\n  });\n  return enemies;\n}\nexport default function GalagaGame() {\n  _s();\n  const navigate = useNavigate();\n  const [playerX, setPlayerX] = useState(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\n  const [playerY, setPlayerY] = useState(GAME_HEIGHT - 80);\n  const [bullets, setBullets] = useState([]);\n  const [enemyBullets, setEnemyBullets] = useState([]);\n  const [lasers, setLasers] = useState([]);\n  const [enemies, setEnemies] = useState(() => createWaveEnemies(0));\n  const [explosions, setExplosions] = useState([]);\n  const [keys, setKeys] = useState({\n    left: false,\n    right: false,\n    up: false,\n    down: false,\n    shoot: false\n  });\n  const [gameState, setGameState] = useState('playing');\n  const [score, setScore] = useState(0);\n  const [lives, setLives] = useState(PLAYER_LIVES);\n  const [currentWave, setCurrentWave] = useState(1);\n  const [isInvulnerable, setIsInvulnerable] = useState(false);\n  const [waveTransition, setWaveTransition] = useState(false);\n  const lastShotTimeRef = useRef(0);\n  const shootCooldown = 250;\n  const playerXRef = useRef(playerX);\n  const playerYRef = useRef(playerY);\n  const explosionIdRef = useRef(0);\n  useEffect(() => {\n    playerXRef.current = playerX;\n    playerYRef.current = playerY;\n  }, [playerX, playerY]);\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (gameState !== 'playing') return;\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          left: true\n        }));\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          right: true\n        }));\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          up: true\n        }));\n      } else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          down: true\n        }));\n      } else if (e.key === ' ') {\n        e.preventDefault();\n        setKeys(k => ({\n          ...k,\n          shoot: true\n        }));\n      }\n    };\n    const handleKeyUp = e => {\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') setKeys(k => ({\n        ...k,\n        left: false\n      }));else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') setKeys(k => ({\n        ...k,\n        right: false\n      }));else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') setKeys(k => ({\n        ...k,\n        up: false\n      }));else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') setKeys(k => ({\n        ...k,\n        down: false\n      }));else if (e.key === ' ') setKeys(k => ({\n        ...k,\n        shoot: false\n      }));\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [gameState]);\n\n  // Function to add explosion\n  const addExplosion = (x, y, color) => {\n    const id = explosionIdRef.current++;\n    setExplosions(prev => [...prev, {\n      id,\n      x,\n      y,\n      color\n    }]);\n    // Remove explosion after animation completes\n    setTimeout(() => {\n      setExplosions(prev => prev.filter(e => e.id !== id));\n    }, 400);\n  };\n\n  // Game loop\n  useEffect(() => {\n    if (gameState !== 'playing') return;\n    const interval = setInterval(() => {\n      // Move player\n      setPlayerX(prevX => {\n        let x = prevX;\n        if (keys.left && !keys.right) x -= PLAYER_SPEED;\n        if (keys.right && !keys.left) x += PLAYER_SPEED;\n        return Math.max(0, Math.min(x, GAME_WIDTH - PLAYER_WIDTH));\n      });\n      setPlayerY(prevY => {\n        let y = prevY;\n        if (keys.up && !keys.down) y -= PLAYER_SPEED;\n        if (keys.down && !keys.up) y += PLAYER_SPEED;\n        return Math.max(GAME_HEIGHT / 2, Math.min(y, GAME_HEIGHT - PLAYER_HEIGHT - 20));\n      });\n\n      // Player shooting\n      if (keys.shoot) {\n        const now = performance.now();\n        if (now - lastShotTimeRef.current > shootCooldown) {\n          lastShotTimeRef.current = now;\n          setBullets(prev => [...prev, {\n            x: playerXRef.current + PLAYER_WIDTH / 2 - BULLET_WIDTH / 2,\n            y: playerYRef.current - 10\n          }]);\n        }\n      }\n\n      // Move bullets\n      setBullets(prev => prev.map(b => ({\n        ...b,\n        y: b.y - BULLET_SPEED\n      })).filter(b => b.y > 0));\n      setEnemyBullets(prev => prev.map(b => ({\n        ...b,\n        y: b.y + ENEMY_BULLET_SPEED,\n        x: b.x + (b.vx || 0) // Apply horizontal velocity for spread shots\n      })).filter(b => b.y < GAME_HEIGHT && b.x > 0 && b.x < GAME_WIDTH));\n\n      // Move and update enemies\n      setEnemies(prevEnemies => {\n        // Calculate global formation offset for synchronized movement\n        const formationOffsetX = Math.sin(Date.now() / 1500) * 30;\n\n        // Count currently attacking enemies (diving or shooting)\n        const currentlyAttacking = prevEnemies.filter(e => e.alive && (e.isDiving || e.isShooting)).length;\n        const maxAttacking = 15;\n        return prevEnemies.map((enemy, index) => {\n          if (!enemy.alive) return enemy;\n          let newX = enemy.x;\n          let newY = enemy.y;\n          let newMoveTimer = enemy.moveTimer + TICK_MS;\n          let newShootTimer = enemy.shootTimer - TICK_MS;\n          let newDiveTimer = enemy.diveTimer - TICK_MS;\n          let newIsDiving = enemy.isDiving;\n          let newIsShooting = enemy.isShooting || false;\n\n          // Store original grid position on first frame\n          if (enemy.baseX === undefined) {\n            enemy.baseX = enemy.x;\n            enemy.baseY = enemy.y;\n          }\n          if (newIsDiving) {\n            // Diving behavior - swoop toward player\n            newY += 5;\n            newX += (playerXRef.current - enemy.x) * 0.04;\n\n            // Phishing enemies shoot while diving\n            if (enemy.typeData.attackType === 'diveShoot' && newShootTimer <= 0) {\n              setEnemyBullets(prev => [...prev, {\n                x: enemy.x + ENEMY_WIDTH / 2 - BULLET_WIDTH / 2,\n                y: enemy.y + ENEMY_HEIGHT,\n                type: 'normal'\n              }]);\n              newShootTimer = 400; // Fast shooting while diving\n            }\n\n            // Reset after dive completes\n            if (newY > GAME_HEIGHT - 80) {\n              newIsDiving = false;\n              newDiveTimer = 3000 + Math.random() * 3000;\n              // Return to formation position\n              newX = enemy.baseX;\n              newY = enemy.baseY;\n            }\n          } else {\n            // Formation movement - all enemies sway together\n            newX = enemy.baseX + formationOffsetX;\n\n            // Check if this enemy can start attacking (respect the limit)\n            const canStartAttack = currentlyAttacking < maxAttacking;\n\n            // Chance to start diving (only for dive-capable enemies)\n            if (canStartAttack && enemy.typeData.canDive && newDiveTimer <= 0 && Math.random() < 0.003) {\n              newIsDiving = true;\n              newDiveTimer = 4000;\n            }\n\n            // Shooting logic for non-diving enemies\n            if (enemy.typeData.canShoot && newShootTimer <= 0 && !newIsDiving) {\n              // Only shoot if under the attack limit\n              if (canStartAttack || newIsShooting) {\n                const centerX = enemy.x + ENEMY_WIDTH / 2;\n                const bottomY = enemy.y + ENEMY_HEIGHT;\n                if (enemy.typeData.attackType === 'spread') {\n                  // Purple enemies shoot a 3-shot spread\n                  setEnemyBullets(prev => [...prev, {\n                    x: centerX - BULLET_WIDTH / 2,\n                    y: bottomY,\n                    type: 'normal',\n                    vx: -2\n                  }, {\n                    x: centerX - BULLET_WIDTH / 2,\n                    y: bottomY,\n                    type: 'normal',\n                    vx: 0\n                  }, {\n                    x: centerX - BULLET_WIDTH / 2,\n                    y: bottomY,\n                    type: 'normal',\n                    vx: 2\n                  }]);\n                  newShootTimer = 2500 + Math.random() * 1500;\n                  newIsShooting = false; // Spread is instant\n                } else if (enemy.typeData.attackType === 'laser') {\n                  // Money enemies shoot a laser beam\n                  setLasers(prev => [...prev, {\n                    x: centerX - 4,\n                    y: bottomY,\n                    sourceId: enemy.id,\n                    duration: 1000,\n                    // 1 second duration\n                    createdAt: Date.now()\n                  }]);\n                  newShootTimer = 4000 + Math.random() * 2000;\n                  newIsShooting = true;\n                  // Mark as not shooting after laser ends\n                  setTimeout(() => {\n                    setEnemies(prev => prev.map(e => e.id === enemy.id ? {\n                      ...e,\n                      isShooting: false\n                    } : e));\n                  }, 1000);\n                }\n              } else {\n                // Delay the shot attempt\n                newShootTimer = 500 + Math.random() * 500;\n              }\n            }\n          }\n\n          // Keep in horizontal bounds\n          newX = Math.max(10, Math.min(newX, GAME_WIDTH - ENEMY_WIDTH - 10));\n          return {\n            ...enemy,\n            x: newX,\n            y: newY,\n            baseX: enemy.baseX,\n            baseY: enemy.baseY,\n            moveTimer: newMoveTimer,\n            shootTimer: newShootTimer,\n            diveTimer: newDiveTimer,\n            isDiving: newIsDiving,\n            isShooting: newIsShooting\n          };\n        });\n      });\n\n      // Update lasers - remove expired ones and update position to follow enemy\n      setLasers(prev => {\n        const now = Date.now();\n        return prev.filter(laser => now - laser.createdAt < laser.duration).map(laser => {\n          const sourceEnemy = enemies.find(e => e.id === laser.sourceId && e.alive);\n          if (sourceEnemy) {\n            return {\n              ...laser,\n              x: sourceEnemy.x + ENEMY_WIDTH / 2 - 4,\n              y: sourceEnemy.y + ENEMY_HEIGHT\n            };\n          }\n          return laser;\n        });\n      });\n\n      // Bullet collisions\n      setBullets(prevBullets => {\n        let updatedEnemies = [...enemies];\n        let updatedBullets = [...prevBullets];\n        let hits = false;\n        let explosionsToAdd = [];\n        updatedBullets.forEach((bullet, bulletIndex) => {\n          if (!bullet) return;\n          updatedEnemies.forEach((enemy, enemyIndex) => {\n            if (!enemy.alive) return;\n            if (bullet.x < enemy.x + ENEMY_WIDTH && bullet.x + BULLET_WIDTH > enemy.x && bullet.y < enemy.y + ENEMY_HEIGHT && bullet.y + BULLET_HEIGHT > enemy.y) {\n              explosionsToAdd.push({\n                x: enemy.x,\n                y: enemy.y,\n                color: enemy.typeData.border\n              });\n              updatedEnemies[enemyIndex] = {\n                ...enemy,\n                alive: false\n              };\n              updatedBullets[bulletIndex] = null;\n              setScore(prev => prev + enemy.typeData.points);\n              hits = true;\n            }\n          });\n        });\n        if (hits) {\n          setEnemies(updatedEnemies);\n          explosionsToAdd.forEach(exp => addExplosion(exp.x, exp.y, exp.color));\n        }\n\n        // Check wave completion\n        const aliveCount = updatedEnemies.filter(e => e.alive).length;\n        if (aliveCount === 0 && !waveTransition) {\n          setWaveTransition(true);\n          if (currentWave < WAVES.length) {\n            // Calculate next wave index here, before the timeout\n            const nextWaveIndex = currentWave; // currentWave is 1-indexed, so this gives us the next 0-indexed wave\n            setTimeout(() => {\n              setCurrentWave(currentWave + 1);\n              setEnemies(createWaveEnemies(nextWaveIndex));\n              setWaveTransition(false);\n            }, 1000);\n          } else {\n            setGameState('win');\n          }\n        }\n        return updatedBullets.filter(b => b !== null);\n      });\n\n      // Player collision with enemy bullets\n      if (!isInvulnerable) {\n        setEnemyBullets(prevBullets => {\n          let hit = false;\n          const filtered = prevBullets.filter(bullet => {\n            if (bullet.x < playerXRef.current + PLAYER_WIDTH && bullet.x + BULLET_WIDTH > playerXRef.current && bullet.y < playerYRef.current + PLAYER_HEIGHT && bullet.y + BULLET_HEIGHT > playerYRef.current) {\n              hit = true;\n              return false;\n            }\n            return true;\n          });\n          if (hit) {\n            setLives(prev => {\n              const newLives = prev - 1;\n              if (newLives <= 0) setGameState('lose');\n              return newLives;\n            });\n            setIsInvulnerable(true);\n            setTimeout(() => setIsInvulnerable(false), 2000);\n          }\n          return filtered;\n        });\n\n        // Player collision with lasers\n        const laserHit = lasers.some(laser => {\n          const laserWidth = 8;\n          const laserHeight = GAME_HEIGHT - laser.y;\n          return playerXRef.current < laser.x + laserWidth && playerXRef.current + PLAYER_WIDTH > laser.x && playerYRef.current < laser.y + laserHeight && playerYRef.current + PLAYER_HEIGHT > laser.y;\n        });\n        if (laserHit) {\n          setLives(prev => {\n            const newLives = prev - 1;\n            if (newLives <= 0) setGameState('lose');\n            return newLives;\n          });\n          setIsInvulnerable(true);\n          setTimeout(() => setIsInvulnerable(false), 2000);\n        }\n      }\n\n      // Player collision with enemies\n      if (!isInvulnerable) {\n        const playerCollision = enemies.some(enemy => {\n          if (!enemy.alive) return false;\n          return playerXRef.current < enemy.x + ENEMY_WIDTH && playerXRef.current + PLAYER_WIDTH > enemy.x && playerYRef.current < enemy.y + ENEMY_HEIGHT && playerYRef.current + PLAYER_HEIGHT > enemy.y;\n        });\n        if (playerCollision) {\n          setLives(prev => {\n            const newLives = prev - 1;\n            if (newLives <= 0) setGameState('lose');\n            return newLives;\n          });\n          setIsInvulnerable(true);\n          setTimeout(() => setIsInvulnerable(false), 2000);\n        }\n      }\n    }, TICK_MS);\n    return () => clearInterval(interval);\n  }, [keys, gameState, enemies, currentWave, isInvulnerable, waveTransition, lasers]);\n  const handleRestart = () => {\n    setPlayerX(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\n    setPlayerY(GAME_HEIGHT - 80);\n    setBullets([]);\n    setEnemyBullets([]);\n    setLasers([]);\n    setEnemies(createWaveEnemies(0));\n    setExplosions([]);\n    setGameState('playing');\n    setScore(0);\n    setLives(PLAYER_LIVES);\n    setCurrentWave(1);\n    setIsInvulnerable(false);\n    setWaveTransition(false);\n    lastShotTimeRef.current = 0;\n  };\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      background: 'radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%)',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: 'white',\n      fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n      padding: '1rem',\n      gap: '0.75rem',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleExit,\n      style: {\n        position: 'absolute',\n        top: '0.75rem',\n        right: '0.75rem',\n        background: 'rgba(0,0,0,0.6)',\n        borderRadius: '999px',\n        border: '1px solid rgba(255,255,255,0.3)',\n        color: 'white',\n        padding: '0.4rem 0.8rem',\n        cursor: 'pointer',\n        fontSize: '0.85rem',\n        fontWeight: '500'\n      },\n      children: \"\\u2715 Exit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: '1.8rem',\n        textAlign: 'center',\n        margin: 0\n      },\n      children: \"\\uD83D\\uDEE1\\uFE0F Cyber Defense Force\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        opacity: 0.8,\n        textAlign: 'center',\n        maxWidth: 500,\n        fontSize: '0.85rem',\n        margin: 0\n      },\n      children: [\"Move with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"WASD / Arrows\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 19\n      }, this), \", shoot with \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Space\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1rem',\n        alignItems: 'flex-start',\n        flexWrap: 'wrap',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          width: GAME_WIDTH,\n          height: GAME_HEIGHT,\n          background: 'linear-gradient(180deg, #020617 0%, #020617 60%, #000 100%)',\n          border: '3px solid #4b5563',\n          borderRadius: '10px',\n          overflow: 'hidden',\n          boxShadow: '0 0 24px rgba(0,0,0,0.9)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: PLAYER_WIDTH,\n            height: PLAYER_HEIGHT,\n            left: playerX,\n            top: playerY,\n            background: 'linear-gradient(135deg, #38bdf8, #1e40af)',\n            borderRadius: '8px',\n            boxShadow: isInvulnerable ? '0 0 30px rgba(239,68,68,0.9)' : '0 0 20px rgba(56,189,248,0.9)',\n            border: '2px solid #0ea5e9',\n            opacity: isInvulnerable && Date.now() % 200 < 100 ? 0.5 : 1,\n            transition: 'opacity 100ms'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: 0,\n              height: 0,\n              borderLeft: `${PLAYER_WIDTH / 2}px solid transparent`,\n              borderRight: `${PLAYER_WIDTH / 2}px solid transparent`,\n              borderBottom: '14px solid #bfdbfe',\n              position: 'absolute',\n              top: -14,\n              left: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 11\n        }, this), bullets.map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: BULLET_WIDTH,\n            height: BULLET_HEIGHT,\n            left: b.x,\n            top: b.y,\n            background: 'linear-gradient(180deg, #facc15, #f97316)',\n            boxShadow: '0 0 12px rgba(250,204,21,0.95)',\n            borderRadius: '999px'\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this)), enemyBullets.map((b, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: BULLET_WIDTH,\n            height: BULLET_HEIGHT,\n            left: b.x,\n            top: b.y,\n            background: 'linear-gradient(180deg, #dc2626, #991b1b)',\n            boxShadow: '0 0 12px rgba(220,38,38,0.95)',\n            borderRadius: '999px'\n          }\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 13\n        }, this)), lasers.map((laser, i) => {\n          const age = Date.now() - laser.createdAt;\n          const opacity = Math.min(1, age / 100) * (1 - age / laser.duration * 0.3);\n          const pulseScale = 1 + Math.sin(age / 50) * 0.2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              left: laser.x,\n              top: laser.y,\n              width: 8 * pulseScale,\n              height: GAME_HEIGHT - laser.y,\n              background: `linear-gradient(180deg, #f97316 0%, #dc2626 30%, #991b1b 100%)`,\n              boxShadow: `0 0 20px rgba(249,115,22,${opacity}), 0 0 40px rgba(220,38,38,${opacity * 0.5})`,\n              opacity: opacity,\n              borderRadius: '4px 4px 0 0',\n              transform: `translateX(${(1 - pulseScale) * 4}px)`\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this);\n        }), enemies.map(e => e.alive && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            width: ENEMY_WIDTH,\n            height: ENEMY_HEIGHT,\n            left: e.x,\n            top: e.y,\n            background: e.typeData.color,\n            borderRadius: '6px',\n            border: `2px solid ${e.typeData.border}`,\n            boxShadow: `0 0 14px ${e.typeData.border}99`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '1.6rem'\n          },\n          children: e.typeData.name\n        }, e.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 13\n        }, this)), explosions.map(exp => /*#__PURE__*/_jsxDEV(Explosion, {\n          x: exp.x,\n          y: exp.y,\n          color: exp.color\n        }, exp.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 13\n        }, this)), waveTransition && gameState === 'playing' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(0,0,0,0.6)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.5rem',\n              fontWeight: 'bold',\n              animation: 'pulse 0.5s ease-in-out infinite'\n            },\n            children: [\"Wave \", currentWave + 1, \" incoming...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this), gameState !== 'playing' && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            inset: 0,\n            background: 'rgba(0,0,0,0.85)',\n            backdropFilter: 'blur(4px)',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.75rem',\n            textAlign: 'center',\n            padding: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '1.6rem',\n              margin: 0\n            },\n            children: gameState === 'win' ? 'üéâ NETWORK SECURED!' : 'üíÄ SYSTEM COMPROMISED'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 784,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              opacity: 0.9,\n              fontSize: '0.95rem',\n              maxWidth: '350px',\n              margin: 0\n            },\n            children: gameState === 'win' ? 'All cyber threats eliminated!' : 'The threats breached your defenses.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '1.1rem',\n              fontWeight: 'bold'\n            },\n            children: [\"Final Score: \", score]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '0.5rem',\n              marginTop: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRestart,\n              style: {\n                padding: '0.6rem 1.2rem',\n                borderRadius: '999px',\n                border: 'none',\n                background: 'linear-gradient(135deg, #3b82f6, #1e40af)',\n                color: 'white',\n                fontWeight: 'bold',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)'\n              },\n              children: \"Play Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleExit,\n              style: {\n                padding: '0.6rem 1.2rem',\n                borderRadius: '999px',\n                border: '1px solid rgba(148,163,184,0.6)',\n                background: 'rgba(15,23,42,0.9)',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '0.9rem'\n              },\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WaveMeter, {\n        currentWave: currentWave,\n        totalWaves: WAVES.length,\n        lives: lives,\n        maxLives: PLAYER_LIVES,\n        score: score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 797,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 7\n    }, this), gameState === 'playing' && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRestart,\n      style: {\n        padding: '0.4rem 1rem',\n        borderRadius: '999px',\n        border: '1px solid rgba(148,163,184,0.6)',\n        background: 'rgba(15,23,42,0.7)',\n        color: 'white',\n        fontSize: '0.85rem',\n        cursor: 'pointer'\n      },\n      children: \"Restart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 713,\n    columnNumber: 5\n  }, this);\n}\n_s(GalagaGame, \"Z+EkTYZ+7EAvYElBTjyopwNO9ho=\", false, function () {\n  return [useNavigate];\n});\n_c3 = GalagaGame;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"WaveMeter\");\n$RefreshReg$(_c2, \"Explosion\");\n$RefreshReg$(_c3, \"GalagaGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","jsxDEV","_jsxDEV","DASHBOARD_ROUTE","GAME_WIDTH","GAME_HEIGHT","PLAYER_WIDTH","PLAYER_HEIGHT","PLAYER_SPEED","BULLET_WIDTH","BULLET_HEIGHT","BULLET_SPEED","ENEMY_BULLET_SPEED","ENEMY_WIDTH","ENEMY_HEIGHT","TICK_MS","PLAYER_LIVES","ENEMY_TYPES","MALWARE","name","color","border","points","speed","canShoot","canDive","attackType","PHISHING","BAD_CONNECTION","MALICIOUS_ADS","WAVES","rows","type","count","WaveMeter","currentWave","totalWaves","lives","maxLives","score","waveProgress","waveName","style","minWidth","padding","borderRadius","background","boxShadow","display","flexDirection","gap","fontSize","children","alignItems","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","lineHeight","fontWeight","opacity","Math","min","height","overflow","width","transition","flexWrap","Array","from","length","map","_","i","justifyContent","marginTop","_c","Explosion","x","y","position","left","top","pointerEvents","transform","animation","_c2","createWaveEnemies","waveIndex","wave","enemies","id","rowHeight","startY","forEach","row","rowIndex","spacing","startX","col","push","typeData","alive","moveTimer","shootTimer","random","diveTimer","isDiving","GalagaGame","_s","navigate","playerX","setPlayerX","playerY","setPlayerY","bullets","setBullets","enemyBullets","setEnemyBullets","lasers","setLasers","setEnemies","explosions","setExplosions","keys","setKeys","right","up","down","shoot","gameState","setGameState","setScore","setLives","setCurrentWave","isInvulnerable","setIsInvulnerable","waveTransition","setWaveTransition","lastShotTimeRef","shootCooldown","playerXRef","playerYRef","explosionIdRef","current","handleKeyDown","e","key","preventDefault","k","handleKeyUp","window","addEventListener","removeEventListener","addExplosion","prev","setTimeout","filter","interval","setInterval","prevX","max","prevY","now","performance","b","vx","prevEnemies","formationOffsetX","sin","Date","currentlyAttacking","isShooting","maxAttacking","enemy","index","newX","newY","newMoveTimer","newShootTimer","newDiveTimer","newIsDiving","newIsShooting","baseX","undefined","baseY","canStartAttack","centerX","bottomY","sourceId","duration","createdAt","laser","sourceEnemy","find","prevBullets","updatedEnemies","updatedBullets","hits","explosionsToAdd","bullet","bulletIndex","enemyIndex","exp","aliveCount","nextWaveIndex","hit","filtered","newLives","laserHit","some","laserWidth","laserHeight","playerCollision","clearInterval","handleRestart","handleExit","minHeight","fontFamily","onClick","cursor","textAlign","margin","maxWidth","borderLeft","borderRight","borderBottom","age","pulseScale","inset","backdropFilter","_c3","$RefreshReg$"],"sources":["C:/Users/frenz/OneDrive/Desktop/CyberSlayers/frontend/src/pages/malware_analysis_lab.jsx"],"sourcesContent":["// GalagaGame.jsx\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst DASHBOARD_ROUTE = '/dashboard';\r\n\r\nconst GAME_WIDTH = 600;\r\nconst GAME_HEIGHT = 700;\r\n\r\nconst PLAYER_WIDTH = 50;\r\nconst PLAYER_HEIGHT = 40;\r\nconst PLAYER_SPEED = 6;\r\n\r\nconst BULLET_WIDTH = 6;\r\nconst BULLET_HEIGHT = 16;\r\nconst BULLET_SPEED = 10;\r\nconst ENEMY_BULLET_SPEED = 5;\r\n\r\nconst ENEMY_WIDTH = 44;\r\nconst ENEMY_HEIGHT = 36;\r\n\r\nconst TICK_MS = 16;\r\nconst PLAYER_LIVES = 5;\r\n\r\n// Enemy types with different behaviors\r\nconst ENEMY_TYPES = {\r\n  MALWARE: {\r\n    name: 'ü¶†',\r\n    color: 'linear-gradient(135deg, #dc2626, #991b1b)',\r\n    border: '#ef4444',\r\n    points: 100,\r\n    speed: 2,\r\n    canShoot: false,\r\n    canDive: true,\r\n    attackType: 'dive'\r\n  },\r\n  PHISHING: {\r\n    name: 'üìß',\r\n    color: 'linear-gradient(135deg, #f59e0b, #d97706)',\r\n    border: '#fbbf24',\r\n    points: 150,\r\n    speed: 1.5,\r\n    canShoot: true,\r\n    canDive: true,\r\n    attackType: 'diveShoot'\r\n  },\r\n  BAD_CONNECTION: {\r\n    name: 'üì°',\r\n    color: 'linear-gradient(135deg, #8b5cf6, #6d28d9)',\r\n    border: '#a78bfa',\r\n    points: 200,\r\n    speed: 1,\r\n    canShoot: true,\r\n    canDive: false,\r\n    attackType: 'spread'\r\n  },\r\n  MALICIOUS_ADS: {\r\n    name: 'üí∞',\r\n    color: 'linear-gradient(135deg, #f97316, #db2777)',\r\n    border: '#fb7185',\r\n    points: 250,\r\n    speed: 2.5,\r\n    canShoot: true,\r\n    canDive: false,\r\n    attackType: 'laser'\r\n  }\r\n};\r\n\r\n// Wave configurations - Galaga-style grid formations\r\n// Rows ordered from top (furthest) to bottom (closest to player)\r\nconst WAVES = [\r\n  {\r\n    name: 'Malware Outbreak',\r\n    rows: [\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Phishing Campaign',\r\n    rows: [\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Network Attack',\r\n    rows: [\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n    ]\r\n  },\r\n  {\r\n    name: 'Full Assault',\r\n    rows: [\r\n      { type: 'MALICIOUS_ADS', count: 8 },\r\n      { type: 'MALICIOUS_ADS', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'BAD_CONNECTION', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'PHISHING', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n      { type: 'MALWARE', count: 8 },\r\n    ]\r\n  }\r\n];\r\n\r\nfunction WaveMeter({ currentWave, totalWaves, lives, maxLives, score }) {\r\n  const waveProgress = ((currentWave) / totalWaves) * 100;\r\n  const waveName = currentWave <= totalWaves ? WAVES[currentWave - 1].name : 'Complete';\r\n\r\n  return (\r\n    <div style={{\r\n        minWidth: \"200px\",\r\n        padding: \"0.75rem\",\r\n        borderRadius: \"12px\",\r\n        border: \"1px solid rgba(148,163,184,0.6)\",\r\n        background: \"radial-gradient(circle at top, rgba(15,23,42,0.95), rgba(2,6,23,0.95))\",\r\n        boxShadow: \"0 0 18px rgba(15,23,42,0.9)\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"0.4rem\",\r\n        fontSize: \"0.85rem\",\r\n      }}\r\n    >\r\n      <div style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\", marginBottom: \"0.15rem\" }}>\r\n        <span style={{ fontSize: \"1.5rem\" }}>üõ°Ô∏è</span>\r\n        <div style={{ lineHeight: 1.2 }}>\r\n          <div style={{ fontWeight: \"600\" }}>Security Defense</div>\r\n          <div style={{ opacity: 0.75, fontSize: \"0.8rem\" }}>Wave {Math.min(currentWave, totalWaves)} / {totalWaves}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ height: \"5px\", borderRadius: \"999px\", overflow: \"hidden\", background: \"rgba(30,64,175,0.65)\" }}>\r\n        <div style={{ width: `${waveProgress}%`, height: \"100%\", background: \"linear-gradient(90deg, #3b82f6, #06b6d4)\", transition: \"width 300ms ease\" }} />\r\n      </div>\r\n\r\n      <div style={{ fontSize: \"0.8rem\", fontWeight: \"600\", opacity: 0.9 }}>\r\n        {waveName}\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"0.25rem\" }}>\r\n        <div style={{ fontSize: \"0.75rem\", fontWeight: \"600\", opacity: 0.9 }}>Lives</div>\r\n        <div style={{ display: \"flex\", gap: \"0.2rem\", flexWrap: \"wrap\" }}>\r\n          {Array.from({ length: maxLives }).map((_, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                width: \"26px\",\r\n                height: \"26px\",\r\n                borderRadius: \"5px\",\r\n                border: \"2px solid rgba(148,163,184,0.6)\",\r\n                background: i < lives ? \"linear-gradient(135deg, #38bdf8, #1e40af)\" : \"rgba(15,23,42,0.5)\",\r\n                boxShadow: i < lives ? \"0 0 8px rgba(56,189,248,0.5)\" : \"none\",\r\n                transition: \"all 200ms ease\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                fontSize: \"1rem\",\r\n              }}\r\n            >\r\n              {i < lives ? 'üöÄ' : ''}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"0.25rem\", padding: \"0.4rem\", background: \"rgba(59,130,246,0.1)\", borderRadius: \"6px\" }}>\r\n        <div style={{ fontWeight: \"600\" }}>Score: {score}</div>\r\n        <div style={{ opacity: 0.7, fontSize: \"0.7rem\" }}>Defend the network!</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Explosion particle component\r\nfunction Explosion({ x, y, color }) {\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      left: x,\r\n      top: y,\r\n      width: ENEMY_WIDTH,\r\n      height: ENEMY_HEIGHT,\r\n      pointerEvents: 'none',\r\n    }}>\r\n      {/* Central flash */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        left: '50%',\r\n        top: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: '60px',\r\n        height: '60px',\r\n        borderRadius: '50%',\r\n        background: `radial-gradient(circle, ${color} 0%, transparent 70%)`,\r\n        animation: 'explosionFlash 300ms ease-out forwards',\r\n      }} />\r\n      {/* Particles */}\r\n      {[...Array(8)].map((_, i) => (\r\n        <div\r\n          key={i}\r\n          style={{\r\n            position: 'absolute',\r\n            left: '50%',\r\n            top: '50%',\r\n            width: '8px',\r\n            height: '8px',\r\n            borderRadius: '50%',\r\n            background: color,\r\n            boxShadow: `0 0 10px ${color}`,\r\n            animation: `explosionParticle${i} 400ms ease-out forwards`,\r\n          }}\r\n        />\r\n      ))}\r\n      <style>{`\r\n        @keyframes explosionFlash {\r\n          0% { opacity: 1; transform: translate(-50%, -50%) scale(0.5); }\r\n          100% { opacity: 0; transform: translate(-50%, -50%) scale(2); }\r\n        }\r\n        @keyframes explosionParticle0 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 30px), calc(-50% + 0px)); }\r\n        }\r\n        @keyframes explosionParticle1 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + 21px)); }\r\n        }\r\n        @keyframes explosionParticle2 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + 30px)); }\r\n        }\r\n        @keyframes explosionParticle3 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + 21px)); }\r\n        }\r\n        @keyframes explosionParticle4 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -30px), calc(-50% + 0px)); }\r\n        }\r\n        @keyframes explosionParticle5 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + -21px), calc(-50% + -21px)); }\r\n        }\r\n        @keyframes explosionParticle6 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 0px), calc(-50% + -30px)); }\r\n        }\r\n        @keyframes explosionParticle7 {\r\n          0% { opacity: 1; transform: translate(-50%, -50%); }\r\n          100% { opacity: 0; transform: translate(calc(-50% + 21px), calc(-50% + -21px)); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction createWaveEnemies(waveIndex) {\r\n  // Guard against invalid wave index\r\n  if (waveIndex < 0 || waveIndex >= WAVES.length) {\r\n    return [];\r\n  }\r\n  \r\n  const wave = WAVES[waveIndex];\r\n  const enemies = [];\r\n  let id = 0;\r\n  \r\n  const rowHeight = 44;\r\n  const startY = 50;\r\n  \r\n  wave.rows.forEach((row, rowIndex) => {\r\n    const type = ENEMY_TYPES[row.type];\r\n    const count = row.count;\r\n    const spacing = (GAME_WIDTH - 60) / count;\r\n    const startX = 30 + spacing / 2;\r\n    \r\n    for (let col = 0; col < count; col++) {\r\n      enemies.push({\r\n        id: id++,\r\n        x: startX + col * spacing - ENEMY_WIDTH / 2,\r\n        y: startY + rowIndex * rowHeight,\r\n        type: row.type,\r\n        typeData: type,\r\n        alive: true,\r\n        moveTimer: 0,\r\n        shootTimer: Math.random() * 2000 + 1000,\r\n        diveTimer: Math.random() * 3000 + 2000,\r\n        isDiving: false\r\n      });\r\n    }\r\n  });\r\n\r\n  return enemies;\r\n}\r\n\r\nexport default function GalagaGame() {\r\n  const navigate = useNavigate();\r\n\r\n  const [playerX, setPlayerX] = useState(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\r\n  const [playerY, setPlayerY] = useState(GAME_HEIGHT - 80);\r\n  const [bullets, setBullets] = useState([]);\r\n  const [enemyBullets, setEnemyBullets] = useState([]);\r\n  const [lasers, setLasers] = useState([]);\r\n  const [enemies, setEnemies] = useState(() => createWaveEnemies(0));\r\n  const [explosions, setExplosions] = useState([]);\r\n  const [keys, setKeys] = useState({ left: false, right: false, up: false, down: false, shoot: false });\r\n  const [gameState, setGameState] = useState('playing');\r\n  const [score, setScore] = useState(0);\r\n  const [lives, setLives] = useState(PLAYER_LIVES);\r\n  const [currentWave, setCurrentWave] = useState(1);\r\n  const [isInvulnerable, setIsInvulnerable] = useState(false);\r\n  const [waveTransition, setWaveTransition] = useState(false);\r\n\r\n  const lastShotTimeRef = useRef(0);\r\n  const shootCooldown = 250;\r\n  const playerXRef = useRef(playerX);\r\n  const playerYRef = useRef(playerY);\r\n  const explosionIdRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    playerXRef.current = playerX;\r\n    playerYRef.current = playerY;\r\n  }, [playerX, playerY]);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (gameState !== 'playing') return;\r\n      \r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, left: true }));\r\n      } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, right: true }));\r\n      } else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, up: true }));\r\n      } else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, down: true }));\r\n      } else if (e.key === ' ') {\r\n        e.preventDefault();\r\n        setKeys((k) => ({ ...k, shoot: true }));\r\n      }\r\n    };\r\n\r\n    const handleKeyUp = (e) => {\r\n      if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') setKeys((k) => ({ ...k, left: false }));\r\n      else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') setKeys((k) => ({ ...k, right: false }));\r\n      else if (e.key === 'ArrowUp' || e.key === 'w' || e.key === 'W') setKeys((k) => ({ ...k, up: false }));\r\n      else if (e.key === 'ArrowDown' || e.key === 's' || e.key === 'S') setKeys((k) => ({ ...k, down: false }));\r\n      else if (e.key === ' ') setKeys((k) => ({ ...k, shoot: false }));\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, [gameState]);\r\n\r\n  // Function to add explosion\r\n  const addExplosion = (x, y, color) => {\r\n    const id = explosionIdRef.current++;\r\n    setExplosions(prev => [...prev, { id, x, y, color }]);\r\n    // Remove explosion after animation completes\r\n    setTimeout(() => {\r\n      setExplosions(prev => prev.filter(e => e.id !== id));\r\n    }, 400);\r\n  };\r\n\r\n  // Game loop\r\n  useEffect(() => {\r\n    if (gameState !== 'playing') return;\r\n\r\n    const interval = setInterval(() => {\r\n      // Move player\r\n      setPlayerX((prevX) => {\r\n        let x = prevX;\r\n        if (keys.left && !keys.right) x -= PLAYER_SPEED;\r\n        if (keys.right && !keys.left) x += PLAYER_SPEED;\r\n        return Math.max(0, Math.min(x, GAME_WIDTH - PLAYER_WIDTH));\r\n      });\r\n\r\n      setPlayerY((prevY) => {\r\n        let y = prevY;\r\n        if (keys.up && !keys.down) y -= PLAYER_SPEED;\r\n        if (keys.down && !keys.up) y += PLAYER_SPEED;\r\n        return Math.max(GAME_HEIGHT / 2, Math.min(y, GAME_HEIGHT - PLAYER_HEIGHT - 20));\r\n      });\r\n\r\n      // Player shooting\r\n      if (keys.shoot) {\r\n        const now = performance.now();\r\n        if (now - lastShotTimeRef.current > shootCooldown) {\r\n          lastShotTimeRef.current = now;\r\n          setBullets((prev) => [...prev, {\r\n            x: playerXRef.current + PLAYER_WIDTH / 2 - BULLET_WIDTH / 2,\r\n            y: playerYRef.current - 10\r\n          }]);\r\n        }\r\n      }\r\n\r\n      // Move bullets\r\n      setBullets((prev) => prev.map((b) => ({ ...b, y: b.y - BULLET_SPEED })).filter((b) => b.y > 0));\r\n      setEnemyBullets((prev) => prev\r\n        .map((b) => ({ \r\n          ...b, \r\n          y: b.y + ENEMY_BULLET_SPEED,\r\n          x: b.x + (b.vx || 0) // Apply horizontal velocity for spread shots\r\n        }))\r\n        .filter((b) => b.y < GAME_HEIGHT && b.x > 0 && b.x < GAME_WIDTH));\r\n\r\n      // Move and update enemies\r\n      setEnemies((prevEnemies) => {\r\n        // Calculate global formation offset for synchronized movement\r\n        const formationOffsetX = Math.sin(Date.now() / 1500) * 30;\r\n        \r\n        // Count currently attacking enemies (diving or shooting)\r\n        const currentlyAttacking = prevEnemies.filter(e => e.alive && (e.isDiving || e.isShooting)).length;\r\n        const maxAttacking = 15;\r\n        \r\n        return prevEnemies.map((enemy, index) => {\r\n          if (!enemy.alive) return enemy;\r\n\r\n          let newX = enemy.x;\r\n          let newY = enemy.y;\r\n          let newMoveTimer = enemy.moveTimer + TICK_MS;\r\n          let newShootTimer = enemy.shootTimer - TICK_MS;\r\n          let newDiveTimer = enemy.diveTimer - TICK_MS;\r\n          let newIsDiving = enemy.isDiving;\r\n          let newIsShooting = enemy.isShooting || false;\r\n          \r\n          // Store original grid position on first frame\r\n          if (enemy.baseX === undefined) {\r\n            enemy.baseX = enemy.x;\r\n            enemy.baseY = enemy.y;\r\n          }\r\n\r\n          if (newIsDiving) {\r\n            // Diving behavior - swoop toward player\r\n            newY += 5;\r\n            newX += (playerXRef.current - enemy.x) * 0.04;\r\n            \r\n            // Phishing enemies shoot while diving\r\n            if (enemy.typeData.attackType === 'diveShoot' && newShootTimer <= 0) {\r\n              setEnemyBullets((prev) => [...prev, {\r\n                x: enemy.x + ENEMY_WIDTH / 2 - BULLET_WIDTH / 2,\r\n                y: enemy.y + ENEMY_HEIGHT,\r\n                type: 'normal'\r\n              }]);\r\n              newShootTimer = 400; // Fast shooting while diving\r\n            }\r\n            \r\n            // Reset after dive completes\r\n            if (newY > GAME_HEIGHT - 80) {\r\n              newIsDiving = false;\r\n              newDiveTimer = 3000 + Math.random() * 3000;\r\n              // Return to formation position\r\n              newX = enemy.baseX;\r\n              newY = enemy.baseY;\r\n            }\r\n          } else {\r\n            // Formation movement - all enemies sway together\r\n            newX = enemy.baseX + formationOffsetX;\r\n            \r\n            // Check if this enemy can start attacking (respect the limit)\r\n            const canStartAttack = currentlyAttacking < maxAttacking;\r\n            \r\n            // Chance to start diving (only for dive-capable enemies)\r\n            if (canStartAttack && enemy.typeData.canDive && newDiveTimer <= 0 && Math.random() < 0.003) {\r\n              newIsDiving = true;\r\n              newDiveTimer = 4000;\r\n            }\r\n            \r\n            // Shooting logic for non-diving enemies\r\n            if (enemy.typeData.canShoot && newShootTimer <= 0 && !newIsDiving) {\r\n              // Only shoot if under the attack limit\r\n              if (canStartAttack || newIsShooting) {\r\n                const centerX = enemy.x + ENEMY_WIDTH / 2;\r\n                const bottomY = enemy.y + ENEMY_HEIGHT;\r\n                \r\n                if (enemy.typeData.attackType === 'spread') {\r\n                  // Purple enemies shoot a 3-shot spread\r\n                  setEnemyBullets((prev) => [\r\n                    ...prev,\r\n                    { x: centerX - BULLET_WIDTH / 2, y: bottomY, type: 'normal', vx: -2 },\r\n                    { x: centerX - BULLET_WIDTH / 2, y: bottomY, type: 'normal', vx: 0 },\r\n                    { x: centerX - BULLET_WIDTH / 2, y: bottomY, type: 'normal', vx: 2 },\r\n                  ]);\r\n                  newShootTimer = 2500 + Math.random() * 1500;\r\n                  newIsShooting = false; // Spread is instant\r\n                } else if (enemy.typeData.attackType === 'laser') {\r\n                  // Money enemies shoot a laser beam\r\n                  setLasers((prev) => [...prev, {\r\n                    x: centerX - 4,\r\n                    y: bottomY,\r\n                    sourceId: enemy.id,\r\n                    duration: 1000, // 1 second duration\r\n                    createdAt: Date.now()\r\n                  }]);\r\n                  newShootTimer = 4000 + Math.random() * 2000;\r\n                  newIsShooting = true;\r\n                  // Mark as not shooting after laser ends\r\n                  setTimeout(() => {\r\n                    setEnemies(prev => prev.map(e => \r\n                      e.id === enemy.id ? { ...e, isShooting: false } : e\r\n                    ));\r\n                  }, 1000);\r\n                }\r\n              } else {\r\n                // Delay the shot attempt\r\n                newShootTimer = 500 + Math.random() * 500;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Keep in horizontal bounds\r\n          newX = Math.max(10, Math.min(newX, GAME_WIDTH - ENEMY_WIDTH - 10));\r\n\r\n          return {\r\n            ...enemy,\r\n            x: newX,\r\n            y: newY,\r\n            baseX: enemy.baseX,\r\n            baseY: enemy.baseY,\r\n            moveTimer: newMoveTimer,\r\n            shootTimer: newShootTimer,\r\n            diveTimer: newDiveTimer,\r\n            isDiving: newIsDiving,\r\n            isShooting: newIsShooting\r\n          };\r\n        });\r\n      });\r\n      \r\n      // Update lasers - remove expired ones and update position to follow enemy\r\n      setLasers((prev) => {\r\n        const now = Date.now();\r\n        return prev\r\n          .filter(laser => now - laser.createdAt < laser.duration)\r\n          .map(laser => {\r\n            const sourceEnemy = enemies.find(e => e.id === laser.sourceId && e.alive);\r\n            if (sourceEnemy) {\r\n              return {\r\n                ...laser,\r\n                x: sourceEnemy.x + ENEMY_WIDTH / 2 - 4,\r\n                y: sourceEnemy.y + ENEMY_HEIGHT\r\n              };\r\n            }\r\n            return laser;\r\n          });\r\n      });\r\n\r\n      // Bullet collisions\r\n      setBullets((prevBullets) => {\r\n        let updatedEnemies = [...enemies];\r\n        let updatedBullets = [...prevBullets];\r\n        let hits = false;\r\n        let explosionsToAdd = [];\r\n\r\n        updatedBullets.forEach((bullet, bulletIndex) => {\r\n          if (!bullet) return;\r\n          updatedEnemies.forEach((enemy, enemyIndex) => {\r\n            if (!enemy.alive) return;\r\n            if (bullet.x < enemy.x + ENEMY_WIDTH &&\r\n                bullet.x + BULLET_WIDTH > enemy.x &&\r\n                bullet.y < enemy.y + ENEMY_HEIGHT &&\r\n                bullet.y + BULLET_HEIGHT > enemy.y) {\r\n              explosionsToAdd.push({\r\n                x: enemy.x,\r\n                y: enemy.y,\r\n                color: enemy.typeData.border\r\n              });\r\n              updatedEnemies[enemyIndex] = { ...enemy, alive: false };\r\n              updatedBullets[bulletIndex] = null;\r\n              setScore((prev) => prev + enemy.typeData.points);\r\n              hits = true;\r\n            }\r\n          });\r\n        });\r\n\r\n        if (hits) {\r\n          setEnemies(updatedEnemies);\r\n          explosionsToAdd.forEach(exp => addExplosion(exp.x, exp.y, exp.color));\r\n        }\r\n        \r\n        // Check wave completion\r\n        const aliveCount = updatedEnemies.filter((e) => e.alive).length;\r\n        if (aliveCount === 0 && !waveTransition) {\r\n          setWaveTransition(true);\r\n          if (currentWave < WAVES.length) {\r\n            // Calculate next wave index here, before the timeout\r\n            const nextWaveIndex = currentWave; // currentWave is 1-indexed, so this gives us the next 0-indexed wave\r\n            setTimeout(() => {\r\n              setCurrentWave(currentWave + 1);\r\n              setEnemies(createWaveEnemies(nextWaveIndex));\r\n              setWaveTransition(false);\r\n            }, 1000);\r\n          } else {\r\n            setGameState('win');\r\n          }\r\n        }\r\n\r\n        return updatedBullets.filter((b) => b !== null);\r\n      });\r\n\r\n      // Player collision with enemy bullets\r\n      if (!isInvulnerable) {\r\n        setEnemyBullets((prevBullets) => {\r\n          let hit = false;\r\n          const filtered = prevBullets.filter((bullet) => {\r\n            if (bullet.x < playerXRef.current + PLAYER_WIDTH &&\r\n                bullet.x + BULLET_WIDTH > playerXRef.current &&\r\n                bullet.y < playerYRef.current + PLAYER_HEIGHT &&\r\n                bullet.y + BULLET_HEIGHT > playerYRef.current) {\r\n              hit = true;\r\n              return false;\r\n            }\r\n            return true;\r\n          });\r\n\r\n          if (hit) {\r\n            setLives((prev) => {\r\n              const newLives = prev - 1;\r\n              if (newLives <= 0) setGameState('lose');\r\n              return newLives;\r\n            });\r\n            setIsInvulnerable(true);\r\n            setTimeout(() => setIsInvulnerable(false), 2000);\r\n          }\r\n\r\n          return filtered;\r\n        });\r\n        \r\n        // Player collision with lasers\r\n        const laserHit = lasers.some((laser) => {\r\n          const laserWidth = 8;\r\n          const laserHeight = GAME_HEIGHT - laser.y;\r\n          return (\r\n            playerXRef.current < laser.x + laserWidth &&\r\n            playerXRef.current + PLAYER_WIDTH > laser.x &&\r\n            playerYRef.current < laser.y + laserHeight &&\r\n            playerYRef.current + PLAYER_HEIGHT > laser.y\r\n          );\r\n        });\r\n        \r\n        if (laserHit) {\r\n          setLives((prev) => {\r\n            const newLives = prev - 1;\r\n            if (newLives <= 0) setGameState('lose');\r\n            return newLives;\r\n          });\r\n          setIsInvulnerable(true);\r\n          setTimeout(() => setIsInvulnerable(false), 2000);\r\n        }\r\n      }\r\n\r\n      // Player collision with enemies\r\n      if (!isInvulnerable) {\r\n        const playerCollision = enemies.some((enemy) => {\r\n          if (!enemy.alive) return false;\r\n          return (\r\n            playerXRef.current < enemy.x + ENEMY_WIDTH &&\r\n            playerXRef.current + PLAYER_WIDTH > enemy.x &&\r\n            playerYRef.current < enemy.y + ENEMY_HEIGHT &&\r\n            playerYRef.current + PLAYER_HEIGHT > enemy.y\r\n          );\r\n        });\r\n\r\n        if (playerCollision) {\r\n          setLives((prev) => {\r\n            const newLives = prev - 1;\r\n            if (newLives <= 0) setGameState('lose');\r\n            return newLives;\r\n          });\r\n          setIsInvulnerable(true);\r\n          setTimeout(() => setIsInvulnerable(false), 2000);\r\n        }\r\n      }\r\n    }, TICK_MS);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [keys, gameState, enemies, currentWave, isInvulnerable, waveTransition, lasers]);\r\n\r\n  const handleRestart = () => {\r\n    setPlayerX(GAME_WIDTH / 2 - PLAYER_WIDTH / 2);\r\n    setPlayerY(GAME_HEIGHT - 80);\r\n    setBullets([]);\r\n    setEnemyBullets([]);\r\n    setLasers([]);\r\n    setEnemies(createWaveEnemies(0));\r\n    setExplosions([]);\r\n    setGameState('playing');\r\n    setScore(0);\r\n    setLives(PLAYER_LIVES);\r\n    setCurrentWave(1);\r\n    setIsInvulnerable(false);\r\n    setWaveTransition(false);\r\n    lastShotTimeRef.current = 0;\r\n  };\r\n\r\n  const handleExit = () => navigate(DASHBOARD_ROUTE);\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh', background: 'radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', color: 'white', fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif', padding: '1rem', gap: '0.75rem', position: 'relative' }}>\r\n      <button onClick={handleExit} style={{ position: 'absolute', top: '0.75rem', right: '0.75rem', background: 'rgba(0,0,0,0.6)', borderRadius: '999px', border: '1px solid rgba(255,255,255,0.3)', color: 'white', padding: '0.4rem 0.8rem', cursor: 'pointer', fontSize: '0.85rem', fontWeight: '500' }}>‚úï Exit</button>\r\n\r\n      <h1 style={{ fontSize: '1.8rem', textAlign: 'center', margin: 0 }}>üõ°Ô∏è Cyber Defense Force</h1>\r\n      <p style={{ opacity: 0.8, textAlign: 'center', maxWidth: 500, fontSize: '0.85rem', margin: 0 }}>\r\n        Move with <strong>WASD / Arrows</strong>, shoot with <strong>Space</strong>\r\n      </p>\r\n\r\n      <div style={{ display: 'flex', gap: '1rem', alignItems: 'flex-start', flexWrap: 'wrap', justifyContent: 'center' }}>\r\n        <div style={{ position: 'relative', width: GAME_WIDTH, height: GAME_HEIGHT, background: 'linear-gradient(180deg, #020617 0%, #020617 60%, #000 100%)', border: '3px solid #4b5563', borderRadius: '10px', overflow: 'hidden', boxShadow: '0 0 24px rgba(0,0,0,0.9)' }}>\r\n          \r\n          {/* Player */}\r\n          <div style={{ position: 'absolute', width: PLAYER_WIDTH, height: PLAYER_HEIGHT, left: playerX, top: playerY, background: 'linear-gradient(135deg, #38bdf8, #1e40af)', borderRadius: '8px', boxShadow: isInvulnerable ? '0 0 30px rgba(239,68,68,0.9)' : '0 0 20px rgba(56,189,248,0.9)', border: '2px solid #0ea5e9', opacity: isInvulnerable && Date.now() % 200 < 100 ? 0.5 : 1, transition: 'opacity 100ms' }}>\r\n            <div style={{ width: 0, height: 0, borderLeft: `${PLAYER_WIDTH / 2}px solid transparent`, borderRight: `${PLAYER_WIDTH / 2}px solid transparent`, borderBottom: '14px solid #bfdbfe', position: 'absolute', top: -14, left: 0 }} />\r\n          </div>\r\n\r\n          {/* Player bullets */}\r\n          {bullets.map((b, i) => (\r\n            <div key={i} style={{ position: 'absolute', width: BULLET_WIDTH, height: BULLET_HEIGHT, left: b.x, top: b.y, background: 'linear-gradient(180deg, #facc15, #f97316)', boxShadow: '0 0 12px rgba(250,204,21,0.95)', borderRadius: '999px' }} />\r\n          ))}\r\n\r\n          {/* Enemy bullets */}\r\n          {enemyBullets.map((b, i) => (\r\n            <div key={i} style={{ position: 'absolute', width: BULLET_WIDTH, height: BULLET_HEIGHT, left: b.x, top: b.y, background: 'linear-gradient(180deg, #dc2626, #991b1b)', boxShadow: '0 0 12px rgba(220,38,38,0.95)', borderRadius: '999px' }} />\r\n          ))}\r\n\r\n          {/* Laser beams */}\r\n          {lasers.map((laser, i) => {\r\n            const age = Date.now() - laser.createdAt;\r\n            const opacity = Math.min(1, age / 100) * (1 - age / laser.duration * 0.3);\r\n            const pulseScale = 1 + Math.sin(age / 50) * 0.2;\r\n            return (\r\n              <div key={i} style={{\r\n                position: 'absolute',\r\n                left: laser.x,\r\n                top: laser.y,\r\n                width: 8 * pulseScale,\r\n                height: GAME_HEIGHT - laser.y,\r\n                background: `linear-gradient(180deg, #f97316 0%, #dc2626 30%, #991b1b 100%)`,\r\n                boxShadow: `0 0 20px rgba(249,115,22,${opacity}), 0 0 40px rgba(220,38,38,${opacity * 0.5})`,\r\n                opacity: opacity,\r\n                borderRadius: '4px 4px 0 0',\r\n                transform: `translateX(${(1 - pulseScale) * 4}px)`,\r\n              }} />\r\n            );\r\n          })}\r\n\r\n          {/* Enemies */}\r\n          {enemies.map((e) => e.alive && (\r\n            <div key={e.id} style={{ position: 'absolute', width: ENEMY_WIDTH, height: ENEMY_HEIGHT, left: e.x, top: e.y, background: e.typeData.color, borderRadius: '6px', border: `2px solid ${e.typeData.border}`, boxShadow: `0 0 14px ${e.typeData.border}99`, display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '1.6rem' }}>\r\n              {e.typeData.name}\r\n            </div>\r\n          ))}\r\n\r\n          {/* Explosions */}\r\n          {explosions.map((exp) => (\r\n            <Explosion key={exp.id} x={exp.x} y={exp.y} color={exp.color} />\r\n          ))}\r\n\r\n          {/* Wave transition overlay */}\r\n          {waveTransition && gameState === 'playing' && (\r\n            <div style={{ position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.6)', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n              <div style={{ fontSize: '1.5rem', fontWeight: 'bold', animation: 'pulse 0.5s ease-in-out infinite' }}>\r\n                Wave {currentWave + 1} incoming...\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* End game overlay */}\r\n          {gameState !== 'playing' && (\r\n            <div style={{ position: 'absolute', inset: 0, background: 'rgba(0,0,0,0.85)', backdropFilter: 'blur(4px)', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', gap: '0.75rem', textAlign: 'center', padding: '1rem' }}>\r\n              <h2 style={{ fontSize: '1.6rem', margin: 0 }}>{gameState === 'win' ? 'üéâ NETWORK SECURED!' : 'üíÄ SYSTEM COMPROMISED'}</h2>\r\n              <p style={{ opacity: 0.9, fontSize: '0.95rem', maxWidth: '350px', margin: 0 }}>\r\n                {gameState === 'win' ? 'All cyber threats eliminated!' : 'The threats breached your defenses.'}\r\n              </p>\r\n              <div style={{ fontSize: '1.1rem', fontWeight: 'bold' }}>Final Score: {score}</div>\r\n              <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                <button onClick={handleRestart} style={{ padding: '0.6rem 1.2rem', borderRadius: '999px', border: 'none', background: 'linear-gradient(135deg, #3b82f6, #1e40af)', color: 'white', fontWeight: 'bold', cursor: 'pointer', fontSize: '0.9rem', boxShadow: '0 4px 12px rgba(59, 130, 246, 0.4)' }}>Play Again</button>\r\n                <button onClick={handleExit} style={{ padding: '0.6rem 1.2rem', borderRadius: '999px', border: '1px solid rgba(148,163,184,0.6)', background: 'rgba(15,23,42,0.9)', color: 'white', cursor: 'pointer', fontSize: '0.9rem' }}>Dashboard</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <WaveMeter currentWave={currentWave} totalWaves={WAVES.length} lives={lives} maxLives={PLAYER_LIVES} score={score} />\r\n      </div>\r\n\r\n      {gameState === 'playing' && (\r\n        <button onClick={handleRestart} style={{ padding: '0.4rem 1rem', borderRadius: '999px', border: '1px solid rgba(148,163,184,0.6)', background: 'rgba(15,23,42,0.7)', color: 'white', fontSize: '0.85rem', cursor: 'pointer' }}>Restart</button>\r\n      )}\r\n\r\n      <style>{`\r\n        @keyframes pulse {\r\n          0%, 100% { opacity: 1; }\r\n          50% { opacity: 0.5; }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,eAAe,GAAG,YAAY;AAEpC,MAAMC,UAAU,GAAG,GAAG;AACtB,MAAMC,WAAW,GAAG,GAAG;AAEvB,MAAMC,YAAY,GAAG,EAAE;AACvB,MAAMC,aAAa,GAAG,EAAE;AACxB,MAAMC,YAAY,GAAG,CAAC;AAEtB,MAAMC,YAAY,GAAG,CAAC;AACtB,MAAMC,aAAa,GAAG,EAAE;AACxB,MAAMC,YAAY,GAAG,EAAE;AACvB,MAAMC,kBAAkB,GAAG,CAAC;AAE5B,MAAMC,WAAW,GAAG,EAAE;AACtB,MAAMC,YAAY,GAAG,EAAE;AAEvB,MAAMC,OAAO,GAAG,EAAE;AAClB,MAAMC,YAAY,GAAG,CAAC;;AAEtB;AACA,MAAMC,WAAW,GAAG;EAClBC,OAAO,EAAE;IACPC,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,2CAA2C;IAClDC,MAAM,EAAE,SAAS;IACjBC,MAAM,EAAE,GAAG;IACXC,KAAK,EAAE,CAAC;IACRC,QAAQ,EAAE,KAAK;IACfC,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE;EACd,CAAC;EACDC,QAAQ,EAAE;IACRR,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,2CAA2C;IAClDC,MAAM,EAAE,SAAS;IACjBC,MAAM,EAAE,GAAG;IACXC,KAAK,EAAE,GAAG;IACVC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE;EACd,CAAC;EACDE,cAAc,EAAE;IACdT,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,2CAA2C;IAClDC,MAAM,EAAE,SAAS;IACjBC,MAAM,EAAE,GAAG;IACXC,KAAK,EAAE,CAAC;IACRC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE,KAAK;IACdC,UAAU,EAAE;EACd,CAAC;EACDG,aAAa,EAAE;IACbV,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,2CAA2C;IAClDC,MAAM,EAAE,SAAS;IACjBC,MAAM,EAAE,GAAG;IACXC,KAAK,EAAE,GAAG;IACVC,QAAQ,EAAE,IAAI;IACdC,OAAO,EAAE,KAAK;IACdC,UAAU,EAAE;EACd;AACF,CAAC;;AAED;AACA;AACA,MAAMI,KAAK,GAAG,CACZ;EACEX,IAAI,EAAE,kBAAkB;EACxBY,IAAI,EAAE,CACJ;IAAEC,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC7B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC7B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC;AAEjC,CAAC,EACD;EACEd,IAAI,EAAE,mBAAmB;EACzBY,IAAI,EAAE,CACJ;IAAEC,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC7B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC;AAEjC,CAAC,EACD;EACEd,IAAI,EAAE,gBAAgB;EACtBY,IAAI,EAAE,CACJ;IAAEC,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAE,CAAC,EACpC;IAAED,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAE,CAAC,EACpC;IAAED,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC7B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC;AAEjC,CAAC,EACD;EACEd,IAAI,EAAE,cAAc;EACpBY,IAAI,EAAE,CACJ;IAAEC,IAAI,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAE,CAAC,EACnC;IAAED,IAAI,EAAE,eAAe;IAAEC,KAAK,EAAE;EAAE,CAAC,EACnC;IAAED,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAE,CAAC,EACpC;IAAED,IAAI,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAE,CAAC,EACpC;IAAED,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC9B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC,EAC7B;IAAED,IAAI,EAAE,SAAS;IAAEC,KAAK,EAAE;EAAE,CAAC;AAEjC,CAAC,CACF;AAED,SAASC,SAASA,CAAC;EAAEC,WAAW;EAAEC,UAAU;EAAEC,KAAK;EAAEC,QAAQ;EAAEC;AAAM,CAAC,EAAE;EACtE,MAAMC,YAAY,GAAKL,WAAW,GAAIC,UAAU,GAAI,GAAG;EACvD,MAAMK,QAAQ,GAAGN,WAAW,IAAIC,UAAU,GAAGN,KAAK,CAACK,WAAW,GAAG,CAAC,CAAC,CAAChB,IAAI,GAAG,UAAU;EAErF,oBACEjB,OAAA;IAAKwC,KAAK,EAAE;MACRC,QAAQ,EAAE,OAAO;MACjBC,OAAO,EAAE,SAAS;MAClBC,YAAY,EAAE,MAAM;MACpBxB,MAAM,EAAE,iCAAiC;MACzCyB,UAAU,EAAE,wEAAwE;MACpFC,SAAS,EAAE,6BAA6B;MACxCC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,GAAG,EAAE,QAAQ;MACbC,QAAQ,EAAE;IACZ,CAAE;IAAAC,QAAA,gBAEFlD,OAAA;MAAKwC,KAAK,EAAE;QAAEM,OAAO,EAAE,MAAM;QAAEK,UAAU,EAAE,QAAQ;QAAEH,GAAG,EAAE,QAAQ;QAAEI,YAAY,EAAE;MAAU,CAAE;MAAAF,QAAA,gBAC5FlD,OAAA;QAAMwC,KAAK,EAAE;UAAES,QAAQ,EAAE;QAAS,CAAE;QAAAC,QAAA,EAAC;MAAG;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/CxD,OAAA;QAAKwC,KAAK,EAAE;UAAEiB,UAAU,EAAE;QAAI,CAAE;QAAAP,QAAA,gBAC9BlD,OAAA;UAAKwC,KAAK,EAAE;YAAEkB,UAAU,EAAE;UAAM,CAAE;UAAAR,QAAA,EAAC;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACzDxD,OAAA;UAAKwC,KAAK,EAAE;YAAEmB,OAAO,EAAE,IAAI;YAAEV,QAAQ,EAAE;UAAS,CAAE;UAAAC,QAAA,GAAC,OAAK,EAACU,IAAI,CAACC,GAAG,CAAC5B,WAAW,EAAEC,UAAU,CAAC,EAAC,KAAG,EAACA,UAAU;QAAA;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7G,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENxD,OAAA;MAAKwC,KAAK,EAAE;QAAEsB,MAAM,EAAE,KAAK;QAAEnB,YAAY,EAAE,OAAO;QAAEoB,QAAQ,EAAE,QAAQ;QAAEnB,UAAU,EAAE;MAAuB,CAAE;MAAAM,QAAA,eAC3GlD,OAAA;QAAKwC,KAAK,EAAE;UAAEwB,KAAK,EAAE,GAAG1B,YAAY,GAAG;UAAEwB,MAAM,EAAE,MAAM;UAAElB,UAAU,EAAE,0CAA0C;UAAEqB,UAAU,EAAE;QAAmB;MAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClJ,CAAC,eAENxD,OAAA;MAAKwC,KAAK,EAAE;QAAES,QAAQ,EAAE,QAAQ;QAAES,UAAU,EAAE,KAAK;QAAEC,OAAO,EAAE;MAAI,CAAE;MAAAT,QAAA,EACjEX;IAAQ;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENxD,OAAA;MAAKwC,KAAK,EAAE;QAAEM,OAAO,EAAE,MAAM;QAAEC,aAAa,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAU,CAAE;MAAAE,QAAA,gBACvElD,OAAA;QAAKwC,KAAK,EAAE;UAAES,QAAQ,EAAE,SAAS;UAAES,UAAU,EAAE,KAAK;UAAEC,OAAO,EAAE;QAAI,CAAE;QAAAT,QAAA,EAAC;MAAK;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACjFxD,OAAA;QAAKwC,KAAK,EAAE;UAAEM,OAAO,EAAE,MAAM;UAAEE,GAAG,EAAE,QAAQ;UAAEkB,QAAQ,EAAE;QAAO,CAAE;QAAAhB,QAAA,EAC9DiB,KAAK,CAACC,IAAI,CAAC;UAAEC,MAAM,EAAEjC;QAAS,CAAC,CAAC,CAACkC,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACzCxE,OAAA;UAEEwC,KAAK,EAAE;YACLwB,KAAK,EAAE,MAAM;YACbF,MAAM,EAAE,MAAM;YACdnB,YAAY,EAAE,KAAK;YACnBxB,MAAM,EAAE,iCAAiC;YACzCyB,UAAU,EAAE4B,CAAC,GAAGrC,KAAK,GAAG,2CAA2C,GAAG,oBAAoB;YAC1FU,SAAS,EAAE2B,CAAC,GAAGrC,KAAK,GAAG,8BAA8B,GAAG,MAAM;YAC9D8B,UAAU,EAAE,gBAAgB;YAC5BnB,OAAO,EAAE,MAAM;YACfK,UAAU,EAAE,QAAQ;YACpBsB,cAAc,EAAE,QAAQ;YACxBxB,QAAQ,EAAE;UACZ,CAAE;UAAAC,QAAA,EAEDsB,CAAC,GAAGrC,KAAK,GAAG,IAAI,GAAG;QAAE,GAfjBqC,CAAC;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAgBH,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENxD,OAAA;MAAKwC,KAAK,EAAE;QAAEkC,SAAS,EAAE,SAAS;QAAEhC,OAAO,EAAE,QAAQ;QAAEE,UAAU,EAAE,sBAAsB;QAAED,YAAY,EAAE;MAAM,CAAE;MAAAO,QAAA,gBAC/GlD,OAAA;QAAKwC,KAAK,EAAE;UAAEkB,UAAU,EAAE;QAAM,CAAE;QAAAR,QAAA,GAAC,SAAO,EAACb,KAAK;MAAA;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACvDxD,OAAA;QAAKwC,KAAK,EAAE;UAAEmB,OAAO,EAAE,GAAG;UAAEV,QAAQ,EAAE;QAAS,CAAE;QAAAC,QAAA,EAAC;MAAmB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;;AAEA;AAAAmB,EAAA,GApES3C,SAAS;AAqElB,SAAS4C,SAASA,CAAC;EAAEC,CAAC;EAAEC,CAAC;EAAE5D;AAAM,CAAC,EAAE;EAClC,oBACElB,OAAA;IAAKwC,KAAK,EAAE;MACVuC,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAEH,CAAC;MACPI,GAAG,EAAEH,CAAC;MACNd,KAAK,EAAErD,WAAW;MAClBmD,MAAM,EAAElD,YAAY;MACpBsE,aAAa,EAAE;IACjB,CAAE;IAAAhC,QAAA,gBAEAlD,OAAA;MAAKwC,KAAK,EAAE;QACVuC,QAAQ,EAAE,UAAU;QACpBC,IAAI,EAAE,KAAK;QACXC,GAAG,EAAE,KAAK;QACVE,SAAS,EAAE,uBAAuB;QAClCnB,KAAK,EAAE,MAAM;QACbF,MAAM,EAAE,MAAM;QACdnB,YAAY,EAAE,KAAK;QACnBC,UAAU,EAAE,2BAA2B1B,KAAK,uBAAuB;QACnEkE,SAAS,EAAE;MACb;IAAE;MAAA/B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAEJ,CAAC,GAAGW,KAAK,CAAC,CAAC,CAAC,CAAC,CAACG,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,kBACtBxE,OAAA;MAEEwC,KAAK,EAAE;QACLuC,QAAQ,EAAE,UAAU;QACpBC,IAAI,EAAE,KAAK;QACXC,GAAG,EAAE,KAAK;QACVjB,KAAK,EAAE,KAAK;QACZF,MAAM,EAAE,KAAK;QACbnB,YAAY,EAAE,KAAK;QACnBC,UAAU,EAAE1B,KAAK;QACjB2B,SAAS,EAAE,YAAY3B,KAAK,EAAE;QAC9BkE,SAAS,EAAE,oBAAoBZ,CAAC;MAClC;IAAE,GAXGA,CAAC;MAAAnB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYP,CACF,CAAC,eACFxD,OAAA;MAAAkD,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAAC6B,GAAA,GA/EQT,SAAS;AAiFlB,SAASU,iBAAiBA,CAACC,SAAS,EAAE;EACpC;EACA,IAAIA,SAAS,GAAG,CAAC,IAAIA,SAAS,IAAI3D,KAAK,CAACyC,MAAM,EAAE;IAC9C,OAAO,EAAE;EACX;EAEA,MAAMmB,IAAI,GAAG5D,KAAK,CAAC2D,SAAS,CAAC;EAC7B,MAAME,OAAO,GAAG,EAAE;EAClB,IAAIC,EAAE,GAAG,CAAC;EAEV,MAAMC,SAAS,GAAG,EAAE;EACpB,MAAMC,MAAM,GAAG,EAAE;EAEjBJ,IAAI,CAAC3D,IAAI,CAACgE,OAAO,CAAC,CAACC,GAAG,EAAEC,QAAQ,KAAK;IACnC,MAAMjE,IAAI,GAAGf,WAAW,CAAC+E,GAAG,CAAChE,IAAI,CAAC;IAClC,MAAMC,KAAK,GAAG+D,GAAG,CAAC/D,KAAK;IACvB,MAAMiE,OAAO,GAAG,CAAC9F,UAAU,GAAG,EAAE,IAAI6B,KAAK;IACzC,MAAMkE,MAAM,GAAG,EAAE,GAAGD,OAAO,GAAG,CAAC;IAE/B,KAAK,IAAIE,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGnE,KAAK,EAAEmE,GAAG,EAAE,EAAE;MACpCT,OAAO,CAACU,IAAI,CAAC;QACXT,EAAE,EAAEA,EAAE,EAAE;QACRb,CAAC,EAAEoB,MAAM,GAAGC,GAAG,GAAGF,OAAO,GAAGrF,WAAW,GAAG,CAAC;QAC3CmE,CAAC,EAAEc,MAAM,GAAGG,QAAQ,GAAGJ,SAAS;QAChC7D,IAAI,EAAEgE,GAAG,CAAChE,IAAI;QACdsE,QAAQ,EAAEtE,IAAI;QACduE,KAAK,EAAE,IAAI;QACXC,SAAS,EAAE,CAAC;QACZC,UAAU,EAAE3C,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI;QACvCC,SAAS,EAAE7C,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI;QACtCE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EAEF,OAAOjB,OAAO;AAChB;AAEA,eAAe,SAASkB,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAMC,QAAQ,GAAG/G,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACgH,OAAO,EAAEC,UAAU,CAAC,GAAGpH,QAAQ,CAACO,UAAU,GAAG,CAAC,GAAGE,YAAY,GAAG,CAAC,CAAC;EACzE,MAAM,CAAC4G,OAAO,EAAEC,UAAU,CAAC,GAAGtH,QAAQ,CAACQ,WAAW,GAAG,EAAE,CAAC;EACxD,MAAM,CAAC+G,OAAO,EAAEC,UAAU,CAAC,GAAGxH,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACyH,YAAY,EAAEC,eAAe,CAAC,GAAG1H,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC2H,MAAM,EAAEC,SAAS,CAAC,GAAG5H,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC8F,OAAO,EAAE+B,UAAU,CAAC,GAAG7H,QAAQ,CAAC,MAAM2F,iBAAiB,CAAC,CAAC,CAAC,CAAC;EAClE,MAAM,CAACmC,UAAU,EAAEC,aAAa,CAAC,GAAG/H,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgI,IAAI,EAAEC,OAAO,CAAC,GAAGjI,QAAQ,CAAC;IAAEqF,IAAI,EAAE,KAAK;IAAE6C,KAAK,EAAE,KAAK;IAAEC,EAAE,EAAE,KAAK;IAAEC,IAAI,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAM,CAAC,CAAC;EACrG,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGvI,QAAQ,CAAC,SAAS,CAAC;EACrD,MAAM,CAAC0C,KAAK,EAAE8F,QAAQ,CAAC,GAAGxI,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACwC,KAAK,EAAEiG,QAAQ,CAAC,GAAGzI,QAAQ,CAACmB,YAAY,CAAC;EAChD,MAAM,CAACmB,WAAW,EAAEoG,cAAc,CAAC,GAAG1I,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC2I,cAAc,EAAEC,iBAAiB,CAAC,GAAG5I,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC6I,cAAc,EAAEC,iBAAiB,CAAC,GAAG9I,QAAQ,CAAC,KAAK,CAAC;EAE3D,MAAM+I,eAAe,GAAG7I,MAAM,CAAC,CAAC,CAAC;EACjC,MAAM8I,aAAa,GAAG,GAAG;EACzB,MAAMC,UAAU,GAAG/I,MAAM,CAACiH,OAAO,CAAC;EAClC,MAAM+B,UAAU,GAAGhJ,MAAM,CAACmH,OAAO,CAAC;EAClC,MAAM8B,cAAc,GAAGjJ,MAAM,CAAC,CAAC,CAAC;EAEhCD,SAAS,CAAC,MAAM;IACdgJ,UAAU,CAACG,OAAO,GAAGjC,OAAO;IAC5B+B,UAAU,CAACE,OAAO,GAAG/B,OAAO;EAC9B,CAAC,EAAE,CAACF,OAAO,EAAEE,OAAO,CAAC,CAAC;EAEtBpH,SAAS,CAAC,MAAM;IACd,MAAMoJ,aAAa,GAAIC,CAAC,IAAK;MAC3B,IAAIhB,SAAS,KAAK,SAAS,EAAE;MAE7B,IAAIgB,CAAC,CAACC,GAAG,KAAK,WAAW,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QAC3DD,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBvB,OAAO,CAAEwB,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAEpE,IAAI,EAAE;QAAK,CAAC,CAAC,CAAC;MACxC,CAAC,MAAM,IAAIiE,CAAC,CAACC,GAAG,KAAK,YAAY,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QACnED,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBvB,OAAO,CAAEwB,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAEvB,KAAK,EAAE;QAAK,CAAC,CAAC,CAAC;MACzC,CAAC,MAAM,IAAIoB,CAAC,CAACC,GAAG,KAAK,SAAS,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QAChED,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBvB,OAAO,CAAEwB,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAEtB,EAAE,EAAE;QAAK,CAAC,CAAC,CAAC;MACtC,CAAC,MAAM,IAAImB,CAAC,CAACC,GAAG,KAAK,WAAW,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QAClED,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBvB,OAAO,CAAEwB,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAErB,IAAI,EAAE;QAAK,CAAC,CAAC,CAAC;MACxC,CAAC,MAAM,IAAIkB,CAAC,CAACC,GAAG,KAAK,GAAG,EAAE;QACxBD,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBvB,OAAO,CAAEwB,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAEpB,KAAK,EAAE;QAAK,CAAC,CAAC,CAAC;MACzC;IACF,CAAC;IAED,MAAMqB,WAAW,GAAIJ,CAAC,IAAK;MACzB,IAAIA,CAAC,CAACC,GAAG,KAAK,WAAW,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAEtB,OAAO,CAAEwB,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEpE,IAAI,EAAE;MAAM,CAAC,CAAC,CAAC,CAAC,KAChG,IAAIiE,CAAC,CAACC,GAAG,KAAK,YAAY,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAEtB,OAAO,CAAEwB,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEvB,KAAK,EAAE;MAAM,CAAC,CAAC,CAAC,CAAC,KACvG,IAAIoB,CAAC,CAACC,GAAG,KAAK,SAAS,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAEtB,OAAO,CAAEwB,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEtB,EAAE,EAAE;MAAM,CAAC,CAAC,CAAC,CAAC,KACjG,IAAImB,CAAC,CAACC,GAAG,KAAK,WAAW,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,IAAID,CAAC,CAACC,GAAG,KAAK,GAAG,EAAEtB,OAAO,CAAEwB,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAErB,IAAI,EAAE;MAAM,CAAC,CAAC,CAAC,CAAC,KACrG,IAAIkB,CAAC,CAACC,GAAG,KAAK,GAAG,EAAEtB,OAAO,CAAEwB,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEpB,KAAK,EAAE;MAAM,CAAC,CAAC,CAAC;IAClE,CAAC;IAEDsB,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEP,aAAa,CAAC;IACjDM,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEF,WAAW,CAAC;IAC7C,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;MACpDM,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEH,WAAW,CAAC;IAClD,CAAC;EACH,CAAC,EAAE,CAACpB,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMwB,YAAY,GAAGA,CAAC5E,CAAC,EAAEC,CAAC,EAAE5D,KAAK,KAAK;IACpC,MAAMwE,EAAE,GAAGoD,cAAc,CAACC,OAAO,EAAE;IACnCrB,aAAa,CAACgC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;MAAEhE,EAAE;MAAEb,CAAC;MAAEC,CAAC;MAAE5D;IAAM,CAAC,CAAC,CAAC;IACrD;IACAyI,UAAU,CAAC,MAAM;MACfjC,aAAa,CAACgC,IAAI,IAAIA,IAAI,CAACE,MAAM,CAACX,CAAC,IAAIA,CAAC,CAACvD,EAAE,KAAKA,EAAE,CAAC,CAAC;IACtD,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;;EAED;EACA9F,SAAS,CAAC,MAAM;IACd,IAAIqI,SAAS,KAAK,SAAS,EAAE;IAE7B,MAAM4B,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjC;MACA/C,UAAU,CAAEgD,KAAK,IAAK;QACpB,IAAIlF,CAAC,GAAGkF,KAAK;QACb,IAAIpC,IAAI,CAAC3C,IAAI,IAAI,CAAC2C,IAAI,CAACE,KAAK,EAAEhD,CAAC,IAAIvE,YAAY;QAC/C,IAAIqH,IAAI,CAACE,KAAK,IAAI,CAACF,IAAI,CAAC3C,IAAI,EAAEH,CAAC,IAAIvE,YAAY;QAC/C,OAAOsD,IAAI,CAACoG,GAAG,CAAC,CAAC,EAAEpG,IAAI,CAACC,GAAG,CAACgB,CAAC,EAAE3E,UAAU,GAAGE,YAAY,CAAC,CAAC;MAC5D,CAAC,CAAC;MAEF6G,UAAU,CAAEgD,KAAK,IAAK;QACpB,IAAInF,CAAC,GAAGmF,KAAK;QACb,IAAItC,IAAI,CAACG,EAAE,IAAI,CAACH,IAAI,CAACI,IAAI,EAAEjD,CAAC,IAAIxE,YAAY;QAC5C,IAAIqH,IAAI,CAACI,IAAI,IAAI,CAACJ,IAAI,CAACG,EAAE,EAAEhD,CAAC,IAAIxE,YAAY;QAC5C,OAAOsD,IAAI,CAACoG,GAAG,CAAC7J,WAAW,GAAG,CAAC,EAAEyD,IAAI,CAACC,GAAG,CAACiB,CAAC,EAAE3E,WAAW,GAAGE,aAAa,GAAG,EAAE,CAAC,CAAC;MACjF,CAAC,CAAC;;MAEF;MACA,IAAIsH,IAAI,CAACK,KAAK,EAAE;QACd,MAAMkC,GAAG,GAAGC,WAAW,CAACD,GAAG,CAAC,CAAC;QAC7B,IAAIA,GAAG,GAAGxB,eAAe,CAACK,OAAO,GAAGJ,aAAa,EAAE;UACjDD,eAAe,CAACK,OAAO,GAAGmB,GAAG;UAC7B/C,UAAU,CAAEuC,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;YAC7B7E,CAAC,EAAE+D,UAAU,CAACG,OAAO,GAAG3I,YAAY,GAAG,CAAC,GAAGG,YAAY,GAAG,CAAC;YAC3DuE,CAAC,EAAE+D,UAAU,CAACE,OAAO,GAAG;UAC1B,CAAC,CAAC,CAAC;QACL;MACF;;MAEA;MACA5B,UAAU,CAAEuC,IAAI,IAAKA,IAAI,CAACpF,GAAG,CAAE8F,CAAC,KAAM;QAAE,GAAGA,CAAC;QAAEtF,CAAC,EAAEsF,CAAC,CAACtF,CAAC,GAAGrE;MAAa,CAAC,CAAC,CAAC,CAACmJ,MAAM,CAAEQ,CAAC,IAAKA,CAAC,CAACtF,CAAC,GAAG,CAAC,CAAC,CAAC;MAC/FuC,eAAe,CAAEqC,IAAI,IAAKA,IAAI,CAC3BpF,GAAG,CAAE8F,CAAC,KAAM;QACX,GAAGA,CAAC;QACJtF,CAAC,EAAEsF,CAAC,CAACtF,CAAC,GAAGpE,kBAAkB;QAC3BmE,CAAC,EAAEuF,CAAC,CAACvF,CAAC,IAAIuF,CAAC,CAACC,EAAE,IAAI,CAAC,CAAC,CAAC;MACvB,CAAC,CAAC,CAAC,CACFT,MAAM,CAAEQ,CAAC,IAAKA,CAAC,CAACtF,CAAC,GAAG3E,WAAW,IAAIiK,CAAC,CAACvF,CAAC,GAAG,CAAC,IAAIuF,CAAC,CAACvF,CAAC,GAAG3E,UAAU,CAAC,CAAC;;MAEnE;MACAsH,UAAU,CAAE8C,WAAW,IAAK;QAC1B;QACA,MAAMC,gBAAgB,GAAG3G,IAAI,CAAC4G,GAAG,CAACC,IAAI,CAACP,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE;;QAEzD;QACA,MAAMQ,kBAAkB,GAAGJ,WAAW,CAACV,MAAM,CAACX,CAAC,IAAIA,CAAC,CAAC5C,KAAK,KAAK4C,CAAC,CAACvC,QAAQ,IAAIuC,CAAC,CAAC0B,UAAU,CAAC,CAAC,CAACtG,MAAM;QAClG,MAAMuG,YAAY,GAAG,EAAE;QAEvB,OAAON,WAAW,CAAChG,GAAG,CAAC,CAACuG,KAAK,EAAEC,KAAK,KAAK;UACvC,IAAI,CAACD,KAAK,CAACxE,KAAK,EAAE,OAAOwE,KAAK;UAE9B,IAAIE,IAAI,GAAGF,KAAK,CAAChG,CAAC;UAClB,IAAImG,IAAI,GAAGH,KAAK,CAAC/F,CAAC;UAClB,IAAImG,YAAY,GAAGJ,KAAK,CAACvE,SAAS,GAAGzF,OAAO;UAC5C,IAAIqK,aAAa,GAAGL,KAAK,CAACtE,UAAU,GAAG1F,OAAO;UAC9C,IAAIsK,YAAY,GAAGN,KAAK,CAACpE,SAAS,GAAG5F,OAAO;UAC5C,IAAIuK,WAAW,GAAGP,KAAK,CAACnE,QAAQ;UAChC,IAAI2E,aAAa,GAAGR,KAAK,CAACF,UAAU,IAAI,KAAK;;UAE7C;UACA,IAAIE,KAAK,CAACS,KAAK,KAAKC,SAAS,EAAE;YAC7BV,KAAK,CAACS,KAAK,GAAGT,KAAK,CAAChG,CAAC;YACrBgG,KAAK,CAACW,KAAK,GAAGX,KAAK,CAAC/F,CAAC;UACvB;UAEA,IAAIsG,WAAW,EAAE;YACf;YACAJ,IAAI,IAAI,CAAC;YACTD,IAAI,IAAI,CAACnC,UAAU,CAACG,OAAO,GAAG8B,KAAK,CAAChG,CAAC,IAAI,IAAI;;YAE7C;YACA,IAAIgG,KAAK,CAACzE,QAAQ,CAAC5E,UAAU,KAAK,WAAW,IAAI0J,aAAa,IAAI,CAAC,EAAE;cACnE7D,eAAe,CAAEqC,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;gBAClC7E,CAAC,EAAEgG,KAAK,CAAChG,CAAC,GAAGlE,WAAW,GAAG,CAAC,GAAGJ,YAAY,GAAG,CAAC;gBAC/CuE,CAAC,EAAE+F,KAAK,CAAC/F,CAAC,GAAGlE,YAAY;gBACzBkB,IAAI,EAAE;cACR,CAAC,CAAC,CAAC;cACHoJ,aAAa,GAAG,GAAG,CAAC,CAAC;YACvB;;YAEA;YACA,IAAIF,IAAI,GAAG7K,WAAW,GAAG,EAAE,EAAE;cAC3BiL,WAAW,GAAG,KAAK;cACnBD,YAAY,GAAG,IAAI,GAAGvH,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,IAAI;cAC1C;cACAuE,IAAI,GAAGF,KAAK,CAACS,KAAK;cAClBN,IAAI,GAAGH,KAAK,CAACW,KAAK;YACpB;UACF,CAAC,MAAM;YACL;YACAT,IAAI,GAAGF,KAAK,CAACS,KAAK,GAAGf,gBAAgB;;YAErC;YACA,MAAMkB,cAAc,GAAGf,kBAAkB,GAAGE,YAAY;;YAExD;YACA,IAAIa,cAAc,IAAIZ,KAAK,CAACzE,QAAQ,CAAC7E,OAAO,IAAI4J,YAAY,IAAI,CAAC,IAAIvH,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,KAAK,EAAE;cAC1F4E,WAAW,GAAG,IAAI;cAClBD,YAAY,GAAG,IAAI;YACrB;;YAEA;YACA,IAAIN,KAAK,CAACzE,QAAQ,CAAC9E,QAAQ,IAAI4J,aAAa,IAAI,CAAC,IAAI,CAACE,WAAW,EAAE;cACjE;cACA,IAAIK,cAAc,IAAIJ,aAAa,EAAE;gBACnC,MAAMK,OAAO,GAAGb,KAAK,CAAChG,CAAC,GAAGlE,WAAW,GAAG,CAAC;gBACzC,MAAMgL,OAAO,GAAGd,KAAK,CAAC/F,CAAC,GAAGlE,YAAY;gBAEtC,IAAIiK,KAAK,CAACzE,QAAQ,CAAC5E,UAAU,KAAK,QAAQ,EAAE;kBAC1C;kBACA6F,eAAe,CAAEqC,IAAI,IAAK,CACxB,GAAGA,IAAI,EACP;oBAAE7E,CAAC,EAAE6G,OAAO,GAAGnL,YAAY,GAAG,CAAC;oBAAEuE,CAAC,EAAE6G,OAAO;oBAAE7J,IAAI,EAAE,QAAQ;oBAAEuI,EAAE,EAAE,CAAC;kBAAE,CAAC,EACrE;oBAAExF,CAAC,EAAE6G,OAAO,GAAGnL,YAAY,GAAG,CAAC;oBAAEuE,CAAC,EAAE6G,OAAO;oBAAE7J,IAAI,EAAE,QAAQ;oBAAEuI,EAAE,EAAE;kBAAE,CAAC,EACpE;oBAAExF,CAAC,EAAE6G,OAAO,GAAGnL,YAAY,GAAG,CAAC;oBAAEuE,CAAC,EAAE6G,OAAO;oBAAE7J,IAAI,EAAE,QAAQ;oBAAEuI,EAAE,EAAE;kBAAE,CAAC,CACrE,CAAC;kBACFa,aAAa,GAAG,IAAI,GAAGtH,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,IAAI;kBAC3C6E,aAAa,GAAG,KAAK,CAAC,CAAC;gBACzB,CAAC,MAAM,IAAIR,KAAK,CAACzE,QAAQ,CAAC5E,UAAU,KAAK,OAAO,EAAE;kBAChD;kBACA+F,SAAS,CAAEmC,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;oBAC5B7E,CAAC,EAAE6G,OAAO,GAAG,CAAC;oBACd5G,CAAC,EAAE6G,OAAO;oBACVC,QAAQ,EAAEf,KAAK,CAACnF,EAAE;oBAClBmG,QAAQ,EAAE,IAAI;oBAAE;oBAChBC,SAAS,EAAErB,IAAI,CAACP,GAAG,CAAC;kBACtB,CAAC,CAAC,CAAC;kBACHgB,aAAa,GAAG,IAAI,GAAGtH,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,IAAI;kBAC3C6E,aAAa,GAAG,IAAI;kBACpB;kBACA1B,UAAU,CAAC,MAAM;oBACfnC,UAAU,CAACkC,IAAI,IAAIA,IAAI,CAACpF,GAAG,CAAC2E,CAAC,IAC3BA,CAAC,CAACvD,EAAE,KAAKmF,KAAK,CAACnF,EAAE,GAAG;sBAAE,GAAGuD,CAAC;sBAAE0B,UAAU,EAAE;oBAAM,CAAC,GAAG1B,CACpD,CAAC,CAAC;kBACJ,CAAC,EAAE,IAAI,CAAC;gBACV;cACF,CAAC,MAAM;gBACL;gBACAiC,aAAa,GAAG,GAAG,GAAGtH,IAAI,CAAC4C,MAAM,CAAC,CAAC,GAAG,GAAG;cAC3C;YACF;UACF;;UAEA;UACAuE,IAAI,GAAGnH,IAAI,CAACoG,GAAG,CAAC,EAAE,EAAEpG,IAAI,CAACC,GAAG,CAACkH,IAAI,EAAE7K,UAAU,GAAGS,WAAW,GAAG,EAAE,CAAC,CAAC;UAElE,OAAO;YACL,GAAGkK,KAAK;YACRhG,CAAC,EAAEkG,IAAI;YACPjG,CAAC,EAAEkG,IAAI;YACPM,KAAK,EAAET,KAAK,CAACS,KAAK;YAClBE,KAAK,EAAEX,KAAK,CAACW,KAAK;YAClBlF,SAAS,EAAE2E,YAAY;YACvB1E,UAAU,EAAE2E,aAAa;YACzBzE,SAAS,EAAE0E,YAAY;YACvBzE,QAAQ,EAAE0E,WAAW;YACrBT,UAAU,EAAEU;UACd,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC;;MAEF;MACA9D,SAAS,CAAEmC,IAAI,IAAK;QAClB,MAAMQ,GAAG,GAAGO,IAAI,CAACP,GAAG,CAAC,CAAC;QACtB,OAAOR,IAAI,CACRE,MAAM,CAACmC,KAAK,IAAI7B,GAAG,GAAG6B,KAAK,CAACD,SAAS,GAAGC,KAAK,CAACF,QAAQ,CAAC,CACvDvH,GAAG,CAACyH,KAAK,IAAI;UACZ,MAAMC,WAAW,GAAGvG,OAAO,CAACwG,IAAI,CAAChD,CAAC,IAAIA,CAAC,CAACvD,EAAE,KAAKqG,KAAK,CAACH,QAAQ,IAAI3C,CAAC,CAAC5C,KAAK,CAAC;UACzE,IAAI2F,WAAW,EAAE;YACf,OAAO;cACL,GAAGD,KAAK;cACRlH,CAAC,EAAEmH,WAAW,CAACnH,CAAC,GAAGlE,WAAW,GAAG,CAAC,GAAG,CAAC;cACtCmE,CAAC,EAAEkH,WAAW,CAAClH,CAAC,GAAGlE;YACrB,CAAC;UACH;UACA,OAAOmL,KAAK;QACd,CAAC,CAAC;MACN,CAAC,CAAC;;MAEF;MACA5E,UAAU,CAAE+E,WAAW,IAAK;QAC1B,IAAIC,cAAc,GAAG,CAAC,GAAG1G,OAAO,CAAC;QACjC,IAAI2G,cAAc,GAAG,CAAC,GAAGF,WAAW,CAAC;QACrC,IAAIG,IAAI,GAAG,KAAK;QAChB,IAAIC,eAAe,GAAG,EAAE;QAExBF,cAAc,CAACvG,OAAO,CAAC,CAAC0G,MAAM,EAAEC,WAAW,KAAK;UAC9C,IAAI,CAACD,MAAM,EAAE;UACbJ,cAAc,CAACtG,OAAO,CAAC,CAACgF,KAAK,EAAE4B,UAAU,KAAK;YAC5C,IAAI,CAAC5B,KAAK,CAACxE,KAAK,EAAE;YAClB,IAAIkG,MAAM,CAAC1H,CAAC,GAAGgG,KAAK,CAAChG,CAAC,GAAGlE,WAAW,IAChC4L,MAAM,CAAC1H,CAAC,GAAGtE,YAAY,GAAGsK,KAAK,CAAChG,CAAC,IACjC0H,MAAM,CAACzH,CAAC,GAAG+F,KAAK,CAAC/F,CAAC,GAAGlE,YAAY,IACjC2L,MAAM,CAACzH,CAAC,GAAGtE,aAAa,GAAGqK,KAAK,CAAC/F,CAAC,EAAE;cACtCwH,eAAe,CAACnG,IAAI,CAAC;gBACnBtB,CAAC,EAAEgG,KAAK,CAAChG,CAAC;gBACVC,CAAC,EAAE+F,KAAK,CAAC/F,CAAC;gBACV5D,KAAK,EAAE2J,KAAK,CAACzE,QAAQ,CAACjF;cACxB,CAAC,CAAC;cACFgL,cAAc,CAACM,UAAU,CAAC,GAAG;gBAAE,GAAG5B,KAAK;gBAAExE,KAAK,EAAE;cAAM,CAAC;cACvD+F,cAAc,CAACI,WAAW,CAAC,GAAG,IAAI;cAClCrE,QAAQ,CAAEuB,IAAI,IAAKA,IAAI,GAAGmB,KAAK,CAACzE,QAAQ,CAAChF,MAAM,CAAC;cAChDiL,IAAI,GAAG,IAAI;YACb;UACF,CAAC,CAAC;QACJ,CAAC,CAAC;QAEF,IAAIA,IAAI,EAAE;UACR7E,UAAU,CAAC2E,cAAc,CAAC;UAC1BG,eAAe,CAACzG,OAAO,CAAC6G,GAAG,IAAIjD,YAAY,CAACiD,GAAG,CAAC7H,CAAC,EAAE6H,GAAG,CAAC5H,CAAC,EAAE4H,GAAG,CAACxL,KAAK,CAAC,CAAC;QACvE;;QAEA;QACA,MAAMyL,UAAU,GAAGR,cAAc,CAACvC,MAAM,CAAEX,CAAC,IAAKA,CAAC,CAAC5C,KAAK,CAAC,CAAChC,MAAM;QAC/D,IAAIsI,UAAU,KAAK,CAAC,IAAI,CAACnE,cAAc,EAAE;UACvCC,iBAAiB,CAAC,IAAI,CAAC;UACvB,IAAIxG,WAAW,GAAGL,KAAK,CAACyC,MAAM,EAAE;YAC9B;YACA,MAAMuI,aAAa,GAAG3K,WAAW,CAAC,CAAC;YACnC0H,UAAU,CAAC,MAAM;cACftB,cAAc,CAACpG,WAAW,GAAG,CAAC,CAAC;cAC/BuF,UAAU,CAAClC,iBAAiB,CAACsH,aAAa,CAAC,CAAC;cAC5CnE,iBAAiB,CAAC,KAAK,CAAC;YAC1B,CAAC,EAAE,IAAI,CAAC;UACV,CAAC,MAAM;YACLP,YAAY,CAAC,KAAK,CAAC;UACrB;QACF;QAEA,OAAOkE,cAAc,CAACxC,MAAM,CAAEQ,CAAC,IAAKA,CAAC,KAAK,IAAI,CAAC;MACjD,CAAC,CAAC;;MAEF;MACA,IAAI,CAAC9B,cAAc,EAAE;QACnBjB,eAAe,CAAE6E,WAAW,IAAK;UAC/B,IAAIW,GAAG,GAAG,KAAK;UACf,MAAMC,QAAQ,GAAGZ,WAAW,CAACtC,MAAM,CAAE2C,MAAM,IAAK;YAC9C,IAAIA,MAAM,CAAC1H,CAAC,GAAG+D,UAAU,CAACG,OAAO,GAAG3I,YAAY,IAC5CmM,MAAM,CAAC1H,CAAC,GAAGtE,YAAY,GAAGqI,UAAU,CAACG,OAAO,IAC5CwD,MAAM,CAACzH,CAAC,GAAG+D,UAAU,CAACE,OAAO,GAAG1I,aAAa,IAC7CkM,MAAM,CAACzH,CAAC,GAAGtE,aAAa,GAAGqI,UAAU,CAACE,OAAO,EAAE;cACjD8D,GAAG,GAAG,IAAI;cACV,OAAO,KAAK;YACd;YACA,OAAO,IAAI;UACb,CAAC,CAAC;UAEF,IAAIA,GAAG,EAAE;YACPzE,QAAQ,CAAEsB,IAAI,IAAK;cACjB,MAAMqD,QAAQ,GAAGrD,IAAI,GAAG,CAAC;cACzB,IAAIqD,QAAQ,IAAI,CAAC,EAAE7E,YAAY,CAAC,MAAM,CAAC;cACvC,OAAO6E,QAAQ;YACjB,CAAC,CAAC;YACFxE,iBAAiB,CAAC,IAAI,CAAC;YACvBoB,UAAU,CAAC,MAAMpB,iBAAiB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;UAClD;UAEA,OAAOuE,QAAQ;QACjB,CAAC,CAAC;;QAEF;QACA,MAAME,QAAQ,GAAG1F,MAAM,CAAC2F,IAAI,CAAElB,KAAK,IAAK;UACtC,MAAMmB,UAAU,GAAG,CAAC;UACpB,MAAMC,WAAW,GAAGhN,WAAW,GAAG4L,KAAK,CAACjH,CAAC;UACzC,OACE8D,UAAU,CAACG,OAAO,GAAGgD,KAAK,CAAClH,CAAC,GAAGqI,UAAU,IACzCtE,UAAU,CAACG,OAAO,GAAG3I,YAAY,GAAG2L,KAAK,CAAClH,CAAC,IAC3CgE,UAAU,CAACE,OAAO,GAAGgD,KAAK,CAACjH,CAAC,GAAGqI,WAAW,IAC1CtE,UAAU,CAACE,OAAO,GAAG1I,aAAa,GAAG0L,KAAK,CAACjH,CAAC;QAEhD,CAAC,CAAC;QAEF,IAAIkI,QAAQ,EAAE;UACZ5E,QAAQ,CAAEsB,IAAI,IAAK;YACjB,MAAMqD,QAAQ,GAAGrD,IAAI,GAAG,CAAC;YACzB,IAAIqD,QAAQ,IAAI,CAAC,EAAE7E,YAAY,CAAC,MAAM,CAAC;YACvC,OAAO6E,QAAQ;UACjB,CAAC,CAAC;UACFxE,iBAAiB,CAAC,IAAI,CAAC;UACvBoB,UAAU,CAAC,MAAMpB,iBAAiB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;QAClD;MACF;;MAEA;MACA,IAAI,CAACD,cAAc,EAAE;QACnB,MAAM8E,eAAe,GAAG3H,OAAO,CAACwH,IAAI,CAAEpC,KAAK,IAAK;UAC9C,IAAI,CAACA,KAAK,CAACxE,KAAK,EAAE,OAAO,KAAK;UAC9B,OACEuC,UAAU,CAACG,OAAO,GAAG8B,KAAK,CAAChG,CAAC,GAAGlE,WAAW,IAC1CiI,UAAU,CAACG,OAAO,GAAG3I,YAAY,GAAGyK,KAAK,CAAChG,CAAC,IAC3CgE,UAAU,CAACE,OAAO,GAAG8B,KAAK,CAAC/F,CAAC,GAAGlE,YAAY,IAC3CiI,UAAU,CAACE,OAAO,GAAG1I,aAAa,GAAGwK,KAAK,CAAC/F,CAAC;QAEhD,CAAC,CAAC;QAEF,IAAIsI,eAAe,EAAE;UACnBhF,QAAQ,CAAEsB,IAAI,IAAK;YACjB,MAAMqD,QAAQ,GAAGrD,IAAI,GAAG,CAAC;YACzB,IAAIqD,QAAQ,IAAI,CAAC,EAAE7E,YAAY,CAAC,MAAM,CAAC;YACvC,OAAO6E,QAAQ;UACjB,CAAC,CAAC;UACFxE,iBAAiB,CAAC,IAAI,CAAC;UACvBoB,UAAU,CAAC,MAAMpB,iBAAiB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;QAClD;MACF;IACF,CAAC,EAAE1H,OAAO,CAAC;IAEX,OAAO,MAAMwM,aAAa,CAACxD,QAAQ,CAAC;EACtC,CAAC,EAAE,CAAClC,IAAI,EAAEM,SAAS,EAAExC,OAAO,EAAExD,WAAW,EAAEqG,cAAc,EAAEE,cAAc,EAAElB,MAAM,CAAC,CAAC;EAEnF,MAAMgG,aAAa,GAAGA,CAAA,KAAM;IAC1BvG,UAAU,CAAC7G,UAAU,GAAG,CAAC,GAAGE,YAAY,GAAG,CAAC,CAAC;IAC7C6G,UAAU,CAAC9G,WAAW,GAAG,EAAE,CAAC;IAC5BgH,UAAU,CAAC,EAAE,CAAC;IACdE,eAAe,CAAC,EAAE,CAAC;IACnBE,SAAS,CAAC,EAAE,CAAC;IACbC,UAAU,CAAClC,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAChCoC,aAAa,CAAC,EAAE,CAAC;IACjBQ,YAAY,CAAC,SAAS,CAAC;IACvBC,QAAQ,CAAC,CAAC,CAAC;IACXC,QAAQ,CAACtH,YAAY,CAAC;IACtBuH,cAAc,CAAC,CAAC,CAAC;IACjBE,iBAAiB,CAAC,KAAK,CAAC;IACxBE,iBAAiB,CAAC,KAAK,CAAC;IACxBC,eAAe,CAACK,OAAO,GAAG,CAAC;EAC7B,CAAC;EAED,MAAMwE,UAAU,GAAGA,CAAA,KAAM1G,QAAQ,CAAC5G,eAAe,CAAC;EAElD,oBACED,OAAA;IAAKwC,KAAK,EAAE;MAAEgL,SAAS,EAAE,OAAO;MAAE5K,UAAU,EAAE,mEAAmE;MAAEE,OAAO,EAAE,MAAM;MAAEC,aAAa,EAAE,QAAQ;MAAEI,UAAU,EAAE,QAAQ;MAAEsB,cAAc,EAAE,QAAQ;MAAEvD,KAAK,EAAE,OAAO;MAAEuM,UAAU,EAAE,mEAAmE;MAAE/K,OAAO,EAAE,MAAM;MAAEM,GAAG,EAAE,SAAS;MAAE+B,QAAQ,EAAE;IAAW,CAAE;IAAA7B,QAAA,gBACpWlD,OAAA;MAAQ0N,OAAO,EAAEH,UAAW;MAAC/K,KAAK,EAAE;QAAEuC,QAAQ,EAAE,UAAU;QAAEE,GAAG,EAAE,SAAS;QAAE4C,KAAK,EAAE,SAAS;QAAEjF,UAAU,EAAE,iBAAiB;QAAED,YAAY,EAAE,OAAO;QAAExB,MAAM,EAAE,iCAAiC;QAAED,KAAK,EAAE,OAAO;QAAEwB,OAAO,EAAE,eAAe;QAAEiL,MAAM,EAAE,SAAS;QAAE1K,QAAQ,EAAE,SAAS;QAAES,UAAU,EAAE;MAAM,CAAE;MAAAR,QAAA,EAAC;IAAM;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAErTxD,OAAA;MAAIwC,KAAK,EAAE;QAAES,QAAQ,EAAE,QAAQ;QAAE2K,SAAS,EAAE,QAAQ;QAAEC,MAAM,EAAE;MAAE,CAAE;MAAA3K,QAAA,EAAC;IAAuB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/FxD,OAAA;MAAGwC,KAAK,EAAE;QAAEmB,OAAO,EAAE,GAAG;QAAEiK,SAAS,EAAE,QAAQ;QAAEE,QAAQ,EAAE,GAAG;QAAE7K,QAAQ,EAAE,SAAS;QAAE4K,MAAM,EAAE;MAAE,CAAE;MAAA3K,QAAA,GAAC,YACpF,eAAAlD,OAAA;QAAAkD,QAAA,EAAQ;MAAa;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,iBAAa,eAAAxD,OAAA;QAAAkD,QAAA,EAAQ;MAAK;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E,CAAC,eAEJxD,OAAA;MAAKwC,KAAK,EAAE;QAAEM,OAAO,EAAE,MAAM;QAAEE,GAAG,EAAE,MAAM;QAAEG,UAAU,EAAE,YAAY;QAAEe,QAAQ,EAAE,MAAM;QAAEO,cAAc,EAAE;MAAS,CAAE;MAAAvB,QAAA,gBACjHlD,OAAA;QAAKwC,KAAK,EAAE;UAAEuC,QAAQ,EAAE,UAAU;UAAEf,KAAK,EAAE9D,UAAU;UAAE4D,MAAM,EAAE3D,WAAW;UAAEyC,UAAU,EAAE,6DAA6D;UAAEzB,MAAM,EAAE,mBAAmB;UAAEwB,YAAY,EAAE,MAAM;UAAEoB,QAAQ,EAAE,QAAQ;UAAElB,SAAS,EAAE;QAA2B,CAAE;QAAAK,QAAA,gBAGpQlD,OAAA;UAAKwC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEf,KAAK,EAAE5D,YAAY;YAAE0D,MAAM,EAAEzD,aAAa;YAAE2E,IAAI,EAAE8B,OAAO;YAAE7B,GAAG,EAAE+B,OAAO;YAAEpE,UAAU,EAAE,2CAA2C;YAAED,YAAY,EAAE,KAAK;YAAEE,SAAS,EAAEyF,cAAc,GAAG,8BAA8B,GAAG,+BAA+B;YAAEnH,MAAM,EAAE,mBAAmB;YAAEwC,OAAO,EAAE2E,cAAc,IAAImC,IAAI,CAACP,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;YAAEjG,UAAU,EAAE;UAAgB,CAAE;UAAAf,QAAA,eAC/YlD,OAAA;YAAKwC,KAAK,EAAE;cAAEwB,KAAK,EAAE,CAAC;cAAEF,MAAM,EAAE,CAAC;cAAEiK,UAAU,EAAE,GAAG3N,YAAY,GAAG,CAAC,sBAAsB;cAAE4N,WAAW,EAAE,GAAG5N,YAAY,GAAG,CAAC,sBAAsB;cAAE6N,YAAY,EAAE,oBAAoB;cAAElJ,QAAQ,EAAE,UAAU;cAAEE,GAAG,EAAE,CAAC,EAAE;cAAED,IAAI,EAAE;YAAE;UAAE;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChO,CAAC,EAGL0D,OAAO,CAAC5C,GAAG,CAAC,CAAC8F,CAAC,EAAE5F,CAAC,kBAChBxE,OAAA;UAAawC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEf,KAAK,EAAEzD,YAAY;YAAEuD,MAAM,EAAEtD,aAAa;YAAEwE,IAAI,EAAEoF,CAAC,CAACvF,CAAC;YAAEI,GAAG,EAAEmF,CAAC,CAACtF,CAAC;YAAElC,UAAU,EAAE,2CAA2C;YAAEC,SAAS,EAAE,gCAAgC;YAAEF,YAAY,EAAE;UAAQ;QAAE,GAAjO6B,CAAC;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAkO,CAC9O,CAAC,EAGD4D,YAAY,CAAC9C,GAAG,CAAC,CAAC8F,CAAC,EAAE5F,CAAC,kBACrBxE,OAAA;UAAawC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEf,KAAK,EAAEzD,YAAY;YAAEuD,MAAM,EAAEtD,aAAa;YAAEwE,IAAI,EAAEoF,CAAC,CAACvF,CAAC;YAAEI,GAAG,EAAEmF,CAAC,CAACtF,CAAC;YAAElC,UAAU,EAAE,2CAA2C;YAAEC,SAAS,EAAE,+BAA+B;YAAEF,YAAY,EAAE;UAAQ;QAAE,GAAhO6B,CAAC;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAiO,CAC7O,CAAC,EAGD8D,MAAM,CAAChD,GAAG,CAAC,CAACyH,KAAK,EAAEvH,CAAC,KAAK;UACxB,MAAM0J,GAAG,GAAGzD,IAAI,CAACP,GAAG,CAAC,CAAC,GAAG6B,KAAK,CAACD,SAAS;UACxC,MAAMnI,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEqK,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAGA,GAAG,GAAGnC,KAAK,CAACF,QAAQ,GAAG,GAAG,CAAC;UACzE,MAAMsC,UAAU,GAAG,CAAC,GAAGvK,IAAI,CAAC4G,GAAG,CAAC0D,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG;UAC/C,oBACElO,OAAA;YAAawC,KAAK,EAAE;cAClBuC,QAAQ,EAAE,UAAU;cACpBC,IAAI,EAAE+G,KAAK,CAAClH,CAAC;cACbI,GAAG,EAAE8G,KAAK,CAACjH,CAAC;cACZd,KAAK,EAAE,CAAC,GAAGmK,UAAU;cACrBrK,MAAM,EAAE3D,WAAW,GAAG4L,KAAK,CAACjH,CAAC;cAC7BlC,UAAU,EAAE,gEAAgE;cAC5EC,SAAS,EAAE,4BAA4Bc,OAAO,8BAA8BA,OAAO,GAAG,GAAG,GAAG;cAC5FA,OAAO,EAAEA,OAAO;cAChBhB,YAAY,EAAE,aAAa;cAC3BwC,SAAS,EAAE,cAAc,CAAC,CAAC,GAAGgJ,UAAU,IAAI,CAAC;YAC/C;UAAE,GAXQ3J,CAAC;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWP,CAAC;QAET,CAAC,CAAC,EAGDiC,OAAO,CAACnB,GAAG,CAAE2E,CAAC,IAAKA,CAAC,CAAC5C,KAAK,iBACzBrG,OAAA;UAAgBwC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEf,KAAK,EAAErD,WAAW;YAAEmD,MAAM,EAAElD,YAAY;YAAEoE,IAAI,EAAEiE,CAAC,CAACpE,CAAC;YAAEI,GAAG,EAAEgE,CAAC,CAACnE,CAAC;YAAElC,UAAU,EAAEqG,CAAC,CAAC7C,QAAQ,CAAClF,KAAK;YAAEyB,YAAY,EAAE,KAAK;YAAExB,MAAM,EAAE,aAAa8H,CAAC,CAAC7C,QAAQ,CAACjF,MAAM,EAAE;YAAE0B,SAAS,EAAE,YAAYoG,CAAC,CAAC7C,QAAQ,CAACjF,MAAM,IAAI;YAAE2B,OAAO,EAAE,MAAM;YAAEK,UAAU,EAAE,QAAQ;YAAEsB,cAAc,EAAE,QAAQ;YAAExB,QAAQ,EAAE;UAAS,CAAE;UAAAC,QAAA,EAC5U+F,CAAC,CAAC7C,QAAQ,CAACnF;QAAI,GADRgI,CAAC,CAACvD,EAAE;UAAArC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAET,CACN,CAAC,EAGDiE,UAAU,CAACnD,GAAG,CAAEoI,GAAG,iBAClB1M,OAAA,CAAC4E,SAAS;UAAcC,CAAC,EAAE6H,GAAG,CAAC7H,CAAE;UAACC,CAAC,EAAE4H,GAAG,CAAC5H,CAAE;UAAC5D,KAAK,EAAEwL,GAAG,CAACxL;QAAM,GAA7CwL,GAAG,CAAChH,EAAE;UAAArC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAyC,CAChE,CAAC,EAGDgF,cAAc,IAAIP,SAAS,KAAK,SAAS,iBACxCjI,OAAA;UAAKwC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEqJ,KAAK,EAAE,CAAC;YAAExL,UAAU,EAAE,iBAAiB;YAAEE,OAAO,EAAE,MAAM;YAAEK,UAAU,EAAE,QAAQ;YAAEsB,cAAc,EAAE;UAAS,CAAE;UAAAvB,QAAA,eAC7IlD,OAAA;YAAKwC,KAAK,EAAE;cAAES,QAAQ,EAAE,QAAQ;cAAES,UAAU,EAAE,MAAM;cAAE0B,SAAS,EAAE;YAAkC,CAAE;YAAAlC,QAAA,GAAC,OAC/F,EAACjB,WAAW,GAAG,CAAC,EAAC,cACxB;UAAA;YAAAoB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGAyE,SAAS,KAAK,SAAS,iBACtBjI,OAAA;UAAKwC,KAAK,EAAE;YAAEuC,QAAQ,EAAE,UAAU;YAAEqJ,KAAK,EAAE,CAAC;YAAExL,UAAU,EAAE,kBAAkB;YAAEyL,cAAc,EAAE,WAAW;YAAEvL,OAAO,EAAE,MAAM;YAAEC,aAAa,EAAE,QAAQ;YAAEI,UAAU,EAAE,QAAQ;YAAEsB,cAAc,EAAE,QAAQ;YAAEzB,GAAG,EAAE,SAAS;YAAE4K,SAAS,EAAE,QAAQ;YAAElL,OAAO,EAAE;UAAO,CAAE;UAAAQ,QAAA,gBAC1PlD,OAAA;YAAIwC,KAAK,EAAE;cAAES,QAAQ,EAAE,QAAQ;cAAE4K,MAAM,EAAE;YAAE,CAAE;YAAA3K,QAAA,EAAE+E,SAAS,KAAK,KAAK,GAAG,qBAAqB,GAAG;UAAuB;YAAA5E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1HxD,OAAA;YAAGwC,KAAK,EAAE;cAAEmB,OAAO,EAAE,GAAG;cAAEV,QAAQ,EAAE,SAAS;cAAE6K,QAAQ,EAAE,OAAO;cAAED,MAAM,EAAE;YAAE,CAAE;YAAA3K,QAAA,EAC3E+E,SAAS,KAAK,KAAK,GAAG,+BAA+B,GAAG;UAAqC;YAAA5E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7F,CAAC,eACJxD,OAAA;YAAKwC,KAAK,EAAE;cAAES,QAAQ,EAAE,QAAQ;cAAES,UAAU,EAAE;YAAO,CAAE;YAAAR,QAAA,GAAC,eAAa,EAACb,KAAK;UAAA;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClFxD,OAAA;YAAKwC,KAAK,EAAE;cAAEM,OAAO,EAAE,MAAM;cAAEE,GAAG,EAAE,QAAQ;cAAE0B,SAAS,EAAE;YAAS,CAAE;YAAAxB,QAAA,gBAClElD,OAAA;cAAQ0N,OAAO,EAAEJ,aAAc;cAAC9K,KAAK,EAAE;gBAAEE,OAAO,EAAE,eAAe;gBAAEC,YAAY,EAAE,OAAO;gBAAExB,MAAM,EAAE,MAAM;gBAAEyB,UAAU,EAAE,2CAA2C;gBAAE1B,KAAK,EAAE,OAAO;gBAAEwC,UAAU,EAAE,MAAM;gBAAEiK,MAAM,EAAE,SAAS;gBAAE1K,QAAQ,EAAE,QAAQ;gBAAEJ,SAAS,EAAE;cAAqC,CAAE;cAAAK,QAAA,EAAC;YAAU;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpTxD,OAAA;cAAQ0N,OAAO,EAAEH,UAAW;cAAC/K,KAAK,EAAE;gBAAEE,OAAO,EAAE,eAAe;gBAAEC,YAAY,EAAE,OAAO;gBAAExB,MAAM,EAAE,iCAAiC;gBAAEyB,UAAU,EAAE,oBAAoB;gBAAE1B,KAAK,EAAE,OAAO;gBAAEyM,MAAM,EAAE,SAAS;gBAAE1K,QAAQ,EAAE;cAAS,CAAE;cAAAC,QAAA,EAAC;YAAS;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5O,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENxD,OAAA,CAACgC,SAAS;QAACC,WAAW,EAAEA,WAAY;QAACC,UAAU,EAAEN,KAAK,CAACyC,MAAO;QAAClC,KAAK,EAAEA,KAAM;QAACC,QAAQ,EAAEtB,YAAa;QAACuB,KAAK,EAAEA;MAAM;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClH,CAAC,EAELyE,SAAS,KAAK,SAAS,iBACtBjI,OAAA;MAAQ0N,OAAO,EAAEJ,aAAc;MAAC9K,KAAK,EAAE;QAAEE,OAAO,EAAE,aAAa;QAAEC,YAAY,EAAE,OAAO;QAAExB,MAAM,EAAE,iCAAiC;QAAEyB,UAAU,EAAE,oBAAoB;QAAE1B,KAAK,EAAE,OAAO;QAAE+B,QAAQ,EAAE,SAAS;QAAE0K,MAAM,EAAE;MAAU,CAAE;MAAAzK,QAAA,EAAC;IAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAC/O,eAEDxD,OAAA;MAAAkD,QAAA,EAAQ;AACd;AACA;AACA;AACA;AACA;IAAO;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV;AAACoD,EAAA,CA7fuBD,UAAU;EAAA,QACf7G,WAAW;AAAA;AAAAwO,GAAA,GADN3H,UAAU;AAAA,IAAAhC,EAAA,EAAAU,GAAA,EAAAiJ,GAAA;AAAAC,YAAA,CAAA5J,EAAA;AAAA4J,YAAA,CAAAlJ,GAAA;AAAAkJ,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}